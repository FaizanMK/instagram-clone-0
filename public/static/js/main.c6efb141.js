/*! For license information please see main.c6efb141.js.LICENSE.txt */
!function(){var e={446:function(e,t,n){"use strict";var r=n(740),i=n(181),o=n(933),a=n(293),s=n(386);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),f=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),h=new a.ErrorFactory("appCheck","AppCheck",f),d=new Map,p={activated:!1,tokenObservers:[]},v={enabled:!1};function m(e){return d.get(e)||p}function g(e,t){d.set(e,t)}function y(){return v}var b="https://content-firebaseappcheck.googleapis.com/v1beta",w=3e4,_=96e4,S=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function E(){return self.grecaptcha}function k(e){if(!m(e).activated)throw h.create("use-before-activation",{appName:e.name})}function T(e){return a.base64.encodeString(JSON.stringify(e),!1)}function I(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,f,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),h.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw h.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),h.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(f=c.ttl.match(/^([\d.]+)(s)$/))||!f[2]||isNaN(Number(f[1])))throw h.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(f[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function C(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function x(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}var N="firebase-app-check-store",A="debug-token",P=null;function R(){return P||(P=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(h.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(N,{keyPath:"compositeKey"})}}catch(r){t(h.create("storage-open",{originalErrorMessage:r.message}))}})),P)}function O(e){return M(L(e))}function D(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,R()];case 1:return n=o.sent(),r=n.transaction(N,"readwrite"),i=r.objectStore(N),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(h.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function M(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,R()];case 1:return t=o.sent(),n=t.transaction(N,"readonly"),r=n.objectStore(N),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(h.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function L(e){return e.options.appId+"-"+e.name}var F=new s.Logger("@firebase/app-check");function j(e,t){return a.isIndexedDBAvailable()?function(e,t){return D(L(e),t)}(e,t).catch((function(e){F.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function U(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,M(A)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,D(A,r)).catch((function(e){return F.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function q(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=y()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var V={error:"UNKNOWN_ERROR"};function B(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,s,u,c,l,f,h,d;return o.__generator(this,(function(p){switch(p.label){case 0:return k(e),r=m(e),i=r.token,a=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(s=p.sent())&&H(s)&&(i=s,g(e,o.__assign(o.__assign({},r),{token:i})),K(e,{token:i.token})),p.label=2;case 2:return!n&&i&&H(i)?[2,{token:i.token}]:y().enabled?(c=I,l=x,f=[e],[4,q()]):[3,6];case 3:return[4,c.apply(void 0,[l.apply(void 0,f.concat([p.sent()])),t])];case 4:return u=p.sent(),[4,j(e,u)];case 5:return p.sent(),g(e,o.__assign(o.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return h=p.sent(),F.error(h),a=h,[3,9];case 9:return i?[3,10]:(d=function(e){return{token:T(V),error:e}}(a),[3,12]);case 10:return d={token:i.token},g(e,o.__assign(o.__assign({},r),{token:i})),[4,j(e,i)];case 11:p.sent(),p.label=12;case 12:return K(e,d),[2,d]}}))}))}function z(e,t,n,r,i){var a=m(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new S((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return m(e).token?[3,2]:[4,B(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,B(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=m(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),w,_)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&H(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&H(e)&&r({token:e.token})})).catch((function(){}));g(e,u)}function W(e,t){var n=m(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),g(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function K(e,t){for(var n=0,r=m(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function H(e){return e.expireTimeMillis-Date.now()>0}var G="https://www.google.com/recaptcha/api.js";function Q(e,t){var n=m(e),r=new a.Deferred;g(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=E();return u?u.ready((function(){Y(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+G,t.onload=e,document.head.appendChild(t)}((function(){var n=E();if(!n)throw new Error("no recaptcha");n.ready((function(){Y(e,t,n,i),r.resolve(n)}))})),r.promise}function $(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return k(e),[4,m(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=m(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function Y(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=m(e);g(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var X=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw h.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,$(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),h.create("recaptcha-error");case 4:return[2,I(C(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,Q(e,this._siteKey).catch((function(){}))},e}(),J=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw h.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();function Z(e,t,n,r){var i=m(e);if(i.activated)throw h.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,O(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),F.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&H(t)&&g(e,o.__assign(o.__assign({},m(e)),{token:t})),t})),s.provider="string"===typeof t?new X(t):t instanceof X||t instanceof J?t:new J({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,g(e,s),s.provider.initialize(e,n)}function ee(e,t){return{app:e,activate:function(n,r){return Z(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=m(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),g(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,B(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),z(e,t,"EXTERNAL",o,a),function(){return W(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=m(e).tokenObservers;t<n.length;t++){var r=n[t];W(e,r.next)}return Promise.resolve()}}}}var te="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return ee(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:X,CustomProvider:J}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(te).initialize()}))),e.INTERNAL.registerComponent(new i.Component(te,(function(e){return function(e,t){return{getToken:function(n){return B(e,t,n)},addTokenListener:function(n){return z(e,t,"INTERNAL",n)},removeTokenListener:function(t){return W(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=y();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(U())}}()},933:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return _},__asyncGenerator:function(){return w},__asyncValues:function(){return S},__await:function(){return b},__awaiter:function(){return l},__classPrivateFieldGet:function(){return C},__classPrivateFieldIn:function(){return N},__classPrivateFieldSet:function(){return x},__createBinding:function(){return h},__decorate:function(){return s},__exportStar:function(){return d},__extends:function(){return i},__generator:function(){return f},__importDefault:function(){return I},__importStar:function(){return T},__makeTemplateObject:function(){return E},__metadata:function(){return c},__param:function(){return u},__read:function(){return v},__rest:function(){return a},__spread:function(){return m},__spreadArray:function(){return y},__spreadArrays:function(){return g},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var h=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var k=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return k(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function x(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function N(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}},740:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _},firebase:function(){return w}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.create;Object.create;var i,o,a=n(293),s=n(181),u=n(386),c=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new a.ErrorFactory("app","Firebase",c),f="@firebase/app",h="[DEFAULT]",d=((o={})[f]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/app-check"]="fire-app-check",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),p=new u.Logger("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=h),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=h),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var m=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=h);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||h,!(0,a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,f=Object.keys(t);c<f.length;c++){var h=f[c];t[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=r(r({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),g=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var w=m;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new g(e)}),"PRIVATE")),e.registerVersion(f,"0.6.30",t),e.registerVersion("fire-js","")}(w);var _=w},181:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return c},ComponentContainer:function(){return h},Provider:function(){return f}});function r(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function o(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var u=n(293),c=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),l="[DEFAULT]",f=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new u.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:l})}catch(d){}try{for(var r=o(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var s=a(i.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:f});c.resolve(h)}catch(d){}}}catch(p){t={error:p}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=l),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(s(s([],a(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),a(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=l),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=l),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:i});try{for(var c=o(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var f=a(l.value,2),h=f[0],d=f[1];s===this.normalizeInstanceIdentifier(h)&&d.resolve(u)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return u},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var a=o(i),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===l?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=l),this.component?this.component.multipleInstances?e:l:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var h=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new f(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},172:function(e,t,n){"use strict";var r=n(740),i=n(181),o=n(293),a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)};function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)};function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function f(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(P){i={error:P}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var p=n(386);e=n.hmd(e);var v="";function m(e){v=e}var g=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),y=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),b=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new g(t)}}catch(n){}return new y},w=b("localStorage"),_=b("sessionStorage"),S=new p.Logger("@firebase/database"),E=function(){var e=1;return function(){return e++}}(),k=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},T=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?(0,o.stringify)(a):a,r+=" "}return r},I=null,C=!0,x=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(S.logLevel=p.LogLevel.VERBOSE,I=S.log.bind(S),t&&_.set("logging_enabled",!0)):"function"===typeof e?I=e:(I=null,_.remove("logging_enabled"))},N=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===C&&(C=!1,null===I&&!0===_.get("logging_enabled")&&x(!0)),I){var n=T.apply(null,e);I(n)}},A=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];N.apply(void 0,d([e],h(t)))}},P=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+T.apply(void 0,d([],h(e)));S.error(n)},R=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+T.apply(void 0,d([],h(e)));throw S.error(n),new Error(n)},O=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+T.apply(void 0,d([],h(e)));S.warn(n)},D=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},M="[MIN_NAME]",L="[MAX_NAME]",F=function(e,t){if(e===t)return 0;if(e===M||t===L)return-1;if(t===M||e===L)return 1;var n=G(e),r=G(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},j=function(e,t){return e===t?0:e<t?-1:1},U=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},q=function e(t){if("object"!==typeof t||null===t)return(0,o.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},V=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function B(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var z=function(e){(0,o.assert)(!D(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var f=parseInt(c.substr(a,8),2).toString(16);1===f.length&&(f="0"+f),l+=f}return l.toLowerCase()};var W=new RegExp("^-?(0*)\\d{1,10}$"),K=-2147483648,H=2147483647,G=function(e){if(W.test(e)){var t=Number(e);if(t>=K&&t<=H)return t}return null},Q=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw O("Exception was thrown by user callback.",e),t}),Math.floor(0))}},$=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},Y=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){O('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),X=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(N("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',O(e)},e}(),J=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),Z="5",ee=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,te="websocket",ne="long_polling",re=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=w.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&w.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function ie(e,t,n){var r;if((0,o.assert)("string"===typeof t,"typeof type must == string"),(0,o.assert)("object"===typeof n,"typeof params must == object"),t===te)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ne)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return B(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var oe=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),ae={},se={};function ue(e){var t=e.toString();return ae[t]||(ae[t]=new oe),ae[t]}var ce=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&Q((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),le="start",fe="close",he=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=A(e),this.stats_=ue(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),ie(t,ne,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ce(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new de((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=h(e,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===le)n.id=o,n.password=a;else{if(i!==fe)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=h(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Z,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ee.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=V(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),de=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=E(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){N("frame writing exception"),u.stack&&N(u.stack),N(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||N("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){N("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),pe=null;"undefined"!==typeof MozWebSocket?pe=MozWebSocket:"undefined"!==typeof WebSocket&&(pe=WebSocket);var ve=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=A(this.connId),this.stats_=ue(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=Z,!(0,o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&ee.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),ie(e,te,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,w.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+v+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new pe(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new pe(this.connURL,[],i)}}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==pe&&!e.forceDisallow_},e.previouslyFailed=function(){return w.isInMemoryStorage||!0===w.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){w.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=V(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),me=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[he,ve]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ve&&ve.isAvailable(),o=i&&!ve.previouslyFailed();if(t.webSocketOnly&&(i||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ve];else{var a=this.transports_=[];try{for(var s=f(e.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ge=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=A("c:"+this.id+":"),this.transportManager_=new me(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=$((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=U("t",e),n=U("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=U("t",e),n=U("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=U("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?P("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):P("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Z!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(w.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ye=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),be=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=d([],h(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),we=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return s(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(be),_e=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function Se(){return new _e("")}function Ee(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ke(e){return e.pieces_.length-e.pieceNum_}function Te(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new _e(e.pieces_,t)}function Ie(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ce(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function xe(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new _e(t,0)}function Ne(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof _e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new _e(n,0)}function Ae(e){return e.pieceNum_>=e.pieces_.length}function Pe(e,t){var n=Ee(e),r=Ee(t);if(null===n)return t;if(n===r)return Pe(Te(e),Te(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Re(e,t){for(var n=Ce(e,0),r=Ce(t,0),i=0;i<n.length&&i<r.length;i++){var o=F(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Oe(e,t){if(ke(e)!==ke(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function De(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ke(e)>ke(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Me=function(e,t){this.errorPrefix_=t,this.parts_=Ce(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Le(this)};function Le(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Fe(e))}function Fe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var je,Ue,qe=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return s(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(be),Ve=1e3,Be=function(e){function t(n,r,i,a,s,u,c,l){var f=e.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=t.nextPersistentConnectionId_++,f.log_=A("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=Ve,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return qe.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&we.getInstance().on("online",f.onOnline_,f),f}return s(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();O("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):P("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ve,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ve,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ve),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return c(this,void 0,void 0,(function(){var e,n,r,i,a,s,u,c,f,d,p,v,m,g,y=this;return l(this,(function(l){switch(l.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())},f=function(e){(0,o.assert)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:f},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)])];case 2:return p=h.apply(void 0,[l.sent(),2]),v=p[0],m=p[1],s?N("getToken() completed but was canceled"):(N("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new ge(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){O(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),a)),[3,4];case 3:return g=l.sent(),this.log_("Failed to get token: "+g),s||(this.repoInfo_.nodeAdmin&&O(g),c()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){N("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){N("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Ve,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return q(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new _e(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){N("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){N("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=f(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,f(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+v.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=we.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ye),ze=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),We=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new ze(M,e),r=new ze(M,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return ze.MIN},e}(),Ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return je},set:function(e){je=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return F(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return ze.MIN},t.prototype.maxPost=function(){return new ze(L,je)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new ze(e,je)},t.prototype.toString=function(){return".key"},t}(We),He=new Ke,Ge=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Qe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ye.EMPTY_NODE,this.right=null!=o?o:Ye.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ye.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ye.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),$e=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Qe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ye=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Qe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Qe.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ge(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ge(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ge(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ge(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new $e,e}();function Xe(e,t){return F(e.name,t.name)}function Je(e,t){return F(e,t)}var Ze,et,tt,nt=function(e){return"number"===typeof e?"number:"+z(e):"string:"+e},rt=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===Ue||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===Ue||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},it=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rt(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ze},set:function(e){Ze=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Ae(t)?this:".priority"===Ee(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=Ee(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===ke(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Te(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+nt(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?z(this.value_):this.value_,this.lazyHash_=k(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var ot,at,st=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?F(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return ze.MIN},t.prototype.maxPost=function(){return new ze(L,new it("[PRIORITY-POST]",tt))},t.prototype.makePost=function(e,t){var n=et(e);return new ze(t,new it("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(We),ut=new st,ct=Math.log(2),lt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ct,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),ft=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Qe(a,o.node,Qe.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new Qe(a,o.node,Qe.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],f=n?n(l):l;u(new Qe(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,Qe.BLACK):(s(f,Qe.BLACK),s(f,Qe.RED))}return o}(new lt(e.length));return new Ye(r||t,o)},ht={},dt=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(ht&&ut,"ChildrenNode.ts has not been loaded"),ot=ot||new e({".priority":ht},{".priority":ut})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ye?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==He,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,s=n.getIterator(ze.Wrap),c=s.getNext();c;)a=a||t.isDefinedOn(c.node),i.push(c),c=s.getNext();r=a?ft(i,t.getCompare()):ht;var l=t.toString(),f=u({},this.indexSet_);f[l]=t;var h=u({},this.indexes_);return h[l]=r,new e(h,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,(function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===ht){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(ze.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),ft(s,a.getCompare())}return ht}var l=n.get(t.name),f=e;return l&&(f=f.remove(new ze(t.name,l))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,(function(e){if(e===ht)return e;var r=n.get(t.name);return r?e.remove(new ze(t.name,r)):e})),this.indexSet_)},e}(),pt=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&rt(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return at||(at=new e(new Ye(Je),null,dt.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||at},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?at:t},e.prototype.getChild=function(e){var t=Ee(e);return null===t?this:this.getImmediateChild(t).getChild(Te(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new ze(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?at:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=Ee(e);if(null===n)return t;(0,o.assert)(".priority"!==Ee(e)||1===ke(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Te(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(ut,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+nt(this.getPriority().val())+":"),this.forEachChild(ut,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":k(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new ze(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new ze(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new ze(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,ze.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,ze.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vt?-1:0},e.prototype.withIndex=function(t){if(t===He||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===He||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ut),r=t.getIterator(ut),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===He?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),vt=new(function(e){function t(){return e.call(this,new Ye(Je),pt.EMPTY_NODE,dt.Default)||this}return s(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return pt.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(pt));Object.defineProperties(ze,{MIN:{value:new ze(M,pt.EMPTY_NODE)},MAX:{value:new ze(L,vt)}}),Ke.__EMPTY_NODE=pt.EMPTY_NODE,it.__childrenNodeConstructor=pt,Ue=vt,function(e){tt=e}(vt);function mt(e,t){if(void 0===t&&(t=null),null===e)return pt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new it(e,mt(t));if(e instanceof Array){var n=pt.EMPTY_NODE;return B(e,(function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=mt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(mt(t))}var r=[],i=!1;if(B(e,(function(e,t){if("."!==e.substring(0,1)){var n=mt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new ze(e,n)))}})),0===r.length)return pt.EMPTY_NODE;var a=ft(r,Xe,(function(e){return e.name}),Je);if(i){var s=ft(r,ut.getCompare());return new pt(a,mt(t),new dt({".priority":s},{".priority":ut}))}return new pt(a,mt(t),dt.Default)}!function(e){et=e}(mt);var gt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!Ae(t)&&".priority"!==Ee(t),"Can't create PathIndex with empty path or .priority key"),n}return s(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?F(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=mt(e),r=pt.EMPTY_NODE.updateChild(this.indexPath_,n);return new ze(t,r)},t.prototype.maxPost=function(){var e=pt.EMPTY_NODE.updateChild(this.indexPath_,vt);return new ze(L,e)},t.prototype.toString=function(){return Ce(this.indexPath_,0).join("/")},t}(We),yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?F(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return ze.MIN},t.prototype.maxPost=function(){return ze.MAX},t.prototype.makePost=function(e,t){var n=mt(e);return new ze(t,n)},t.prototype.toString=function(){return".value"},t}(We),bt=new yt,wt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_t=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=wt.charAt(n%64),n=Math.floor(n/64);(0,o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=wt.charAt(t[r]);return(0,o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),St=function(e){if("2147483647"===e)return"-";var t=G(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return L;var o=n[i],a=wt.charAt(wt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},Et=function(e){if("-2147483648"===e)return M;var t=G(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=wt.charAt(wt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function kt(e){return{type:"value",snapshotNode:e}}function Tt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function It(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ct(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var xt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(It(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(Tt(t,n)):a.trackChildChange(Ct(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ut,(function(e,r){t.hasChild(e)||n.trackChildChange(It(e,r))})),t.isLeafNode()||t.forEachChild(ut,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ct(t,r,i))}else n.trackChildChange(Tt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?pt.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Nt=function(){function e(t){this.indexedFilter_=new xt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new ze(t,n))||(n=pt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=pt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(pt.EMPTY_NODE);var i=this;return t.forEachChild(ut,(function(e,t){i.matches(new ze(e,t))||(r=r.updateImmediateChild(e,pt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),At=function(){function e(e){this.rangedFilter_=new Nt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new ze(t,n))||(n=pt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=pt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=pt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(pt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&c(s,a)<=0&&(f=!0),f&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new ze(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var h=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Ct(t,n,h)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(It(t,h));var v=u.updateImmediateChild(t,pt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(Tt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:f&&a(l,c)>=0?(null!=i&&(i.trackChildChange(It(l.name,l.node)),i.trackChildChange(Tt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,pt.EMPTY_NODE)):e},e}(),Pt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ut}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:M},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:L},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ut},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Rt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ot(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Dt(e,t){var n=e.copy();return n.index_=t,n}function Mt(e){var t,n={};return e.isDefault()||(e.index_===ut?t="$priority":e.index_===bt?t="$value":e.index_===He?t="$key":((0,o.assert)(e.index_ instanceof gt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Lt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ut&&(t.i=e.index_.toString()),t}var Ft=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=A("p:rest:"),o.listens_={},o}return s(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=Mt(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Mt(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=h(i,2),s=a[0],u=a[1];s&&s.accessToken&&(t.auth=s.accessToken),u&&u.token&&(t.ac=u.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=(0,o.jsonEval)(l.responseText)}catch(t){O("Failed to parse JSON response for "+c+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&O("Got unsuccessful REST response for "+c+" Status: "+l.status),n(l.status);n=null}},l.open("GET",c,!0),l.send()}))},t}(ye),jt=function(){function e(){this.rootNode_=pt.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Ut(){return{value:null,children:new Map}}function qt(e,t,n){if(Ae(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Ee(t);e.children.has(r)||e.children.set(r,Ut()),qt(e.children.get(r),t=Te(t),n)}}function Vt(e,t){if(Ae(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(ut,(function(t,n){qt(e,new _e(t),n)})),Vt(e,t)}if(e.children.size>0){var r=Ee(t);if(t=Te(t),e.children.has(r))Vt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Bt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Bt(r,new _e(t.toString()+"/"+e),n)}))}var zt,Wt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=u({},e);return this.last_&&B(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Kt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Wt(e);var n=1e4+2e4*Math.random();$(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;B(t,(function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),$(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ht(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(zt||(zt={}));var Gt,Qt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=zt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Ae(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new _e(t));return new e(Se(),n,this.revert)}return(0,o.assert)(Ee(this.path)===t,"operationForChild called for unrelated child."),new e(Te(this.path),this.affectedTree,this.revert)},e}(),$t=function(){function e(e,t){this.source=e,this.path=t,this.type=zt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Ae(this.path)?new e(this.source,Se()):new e(this.source,Te(this.path))},e}(),Yt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=zt.OVERWRITE}return e.prototype.operationForChild=function(t){return Ae(this.path)?new e(this.source,Se(),this.snap.getImmediateChild(t)):new e(this.source,Te(this.path),this.snap)},e}(),Xt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=zt.MERGE}return e.prototype.operationForChild=function(t){if(Ae(this.path)){var n=this.children.subtree(new _e(t));return n.isEmpty()?null:n.value?new Yt(this.source,Se(),n.value):new e(this.source,Se(),n)}return(0,o.assert)(Ee(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Te(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Jt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Ae(e))return this.isFullyInitialized()&&!this.filtered_;var t=Ee(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Zt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function en(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new ze(t.childName,t.snapshotNode),i=new ze(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function tn(e,t){return{eventCache:e,serverCache:t}}function nn(e,t,n,r){return tn(new Jt(t,n,r),e.serverCache)}function rn(e,t,n,r){return tn(e.eventCache,new Jt(t,n,r))}function on(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function an(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var sn=function(){function e(e,t){void 0===t&&(Gt||(Gt=new Ye(j)),t=Gt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return B(t,(function(e,t){n=n.set(new _e(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:Se(),value:this.value};if(Ae(e))return null;var n=Ee(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Te(e),t);return null!=i?{path:Ne(new _e(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Ae(t))return this;var n=Ee(t),r=this.children.get(n);return null!==r?r.subtree(Te(t)):new e(null)},e.prototype.set=function(t,n){if(Ae(t))return new e(n,this.children);var r=Ee(t),i=(this.children.get(r)||new e(null)).set(Te(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Ae(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Ee(t),r=this.children.get(n);if(r){var i=r.remove(Te(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Ae(e))return this.value;var t=Ee(e),n=this.children.get(t);return n?n.get(Te(e)):null},e.prototype.setTree=function(t,n){if(Ae(t))return n;var r=Ee(t),i=(this.children.get(r)||new e(null)).setTree(Te(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(Se(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ne(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,Se(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Ae(e))return null;var i=Ee(e),o=this.children.get(i);return o?o.findOnPath_(Te(e),Ne(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,Se(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Ae(t))return this;this.value&&r(n,this.value);var i=Ee(t),o=this.children.get(i);return o?o.foreachOnPath_(Te(t),Ne(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(Se(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ne(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),un=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new sn(null))},e}();function cn(e,t,n){if(Ae(t))return new un(new sn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Pe(i,t);return o=o.updateChild(a,n),new un(e.writeTree_.set(i,o))}var s=new sn(n),u=e.writeTree_.setTree(t,s);return new un(u)}function ln(e,t,n){var r=e;return B(n,(function(e,n){r=cn(r,Ne(t,e),n)})),r}function fn(e,t){if(Ae(t))return un.empty();var n=e.writeTree_.setTree(t,new sn(null));return new un(n)}function hn(e,t){return null!=dn(e,t)}function dn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Pe(n.path,t)):null}function pn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ut,(function(e,n){t.push(new ze(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new ze(e,n.value))})),t}function vn(e,t){if(Ae(t))return e;var n=dn(e,t);return new un(null!=n?new sn(n):e.writeTree_.subtree(t))}function mn(e){return e.writeTree_.isEmpty()}function gn(e,t){return yn(Se(),e.writeTree_,t)}function yn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=yn(Ne(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ne(e,".priority"),r)),n}function bn(e,t){return Rn(t,e)}function wn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&_n(u,r.path)?i=!1:De(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=En(e.allWrites,Sn,Se()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=fn(e.visibleWrites,r.path):B(r.children,(function(t){e.visibleWrites=fn(e.visibleWrites,Ne(r.path,t))}));return!0}return!1}function _n(e,t){if(e.snap)return De(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&De(Ne(e.path,n),t))return!0;return!1}function Sn(e){return e.visible}function En(e,t,n){for(var r=un.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)De(n,s)?r=cn(r,u=Pe(n,s),a.snap):De(s,n)&&(u=Pe(s,n),r=cn(r,Se(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(De(n,s))r=ln(r,u=Pe(n,s),a.children);else if(De(s,n))if(Ae(u=Pe(s,n)))r=ln(r,Se(),a.children);else{var c=(0,o.safeGet)(a.children,Ee(u));if(c){var l=c.getChild(Te(u));r=cn(r,Se(),l)}}}}}return r}function kn(e,t,n,r,i){if(r||i){var o=vn(e.visibleWrites,t);if(!i&&mn(o))return n;if(i||null!=n||hn(o,Se())){return gn(En(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(De(e.path,t)||De(t,e.path))}),t),n||pt.EMPTY_NODE)}return null}var a=dn(e.visibleWrites,t);if(null!=a)return a;var s=vn(e.visibleWrites,t);return mn(s)?n:null!=n||hn(s,Se())?gn(s,n||pt.EMPTY_NODE):null}function Tn(e,t,n,r){return kn(e.writeTree,e.treePath,t,n,r)}function In(e,t){return function(e,t,n){var r=pt.EMPTY_NODE,i=dn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ut,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=vn(e.visibleWrites,t);return n.forEachChild(ut,(function(e,t){var n=gn(vn(o,new _e(e)),t);r=r.updateImmediateChild(e,n)})),pn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return pn(vn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Cn(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ne(t,n);if(hn(e.visibleWrites,a))return null;var s=vn(e.visibleWrites,a);return mn(s)?i.getChild(n):gn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function xn(e,t){return function(e,t){return dn(e.visibleWrites,t)}(e.writeTree,Ne(e.treePath,t))}function Nn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=vn(e.visibleWrites,t),c=dn(u,Se());if(null!=c)s=c;else{if(null==n)return[];s=gn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function An(e,t,n){return function(e,t,n,r){var i=Ne(t,n),o=dn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?gn(vn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Pn(e,t){return Rn(Ne(e.treePath,t),e.writeTree)}function Rn(e,t){return{treePath:e,writeTree:t}}var On=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ct(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,It(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Tt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ct(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Dn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Mn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Jt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return An(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:an(this.viewCache_),i=Nn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Ln(e,t,n,r,i){var a,s,u=new On;if(n.type===zt.OVERWRITE){var c=n;c.source.fromUser?a=Un(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Ae(c.path),a=jn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===zt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Ne(n,r);qn(t,Ee(c))&&(s=Un(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Ne(n,r);qn(t,Ee(c))||(s=Un(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Bn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===zt.ACK_USER_WRITE){var f=n;a=f.revert?function(e,t,n,r,i,a){var s;if(null!=xn(r,n))return t;var u=new Mn(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Ae(n)||".priority"===Ee(n)){var f=void 0;if(t.serverCache.isFullyInitialized())f=Tn(r,an(t));else{var h=t.serverCache.getNode();(0,o.assert)(h instanceof pt,"serverChildren would be complete if leaf node"),f=In(r,h)}l=e.filter.updateFullNode(c,f,a)}else{var d=Ee(n),p=An(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,Te(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,pt.EMPTY_NODE,Te(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Tn(r,an(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=xn(r,Se()),nn(t,l,s,e.filter.filtersNodes())}(e,t,f.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=xn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Ae(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return jn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Ae(n)){var c=new sn(null);return u.getNode().forEachChild(He,(function(e,t){c=c.set(new _e(e),t)})),Bn(e,t,n,c,i,o,s,a)}return t}var l=new sn(null);return r.foreach((function(e,t){var r=Ne(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Bn(e,t,n,l,i,o,s,a)}(e,t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==zt.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=rn(t,o.getNode(),o.isFullyInitialized()||Ae(n),o.isFiltered());return Fn(e,a,n,r,Dn,i)}(e,t,n.path,r,u)}var h=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=on(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(kt(on(t)))}}(t,a,h),{viewCache:a,changes:h}}function Fn(e,t,n,r,i,a){var s=t.eventCache;if(null!=xn(r,n))return t;var u=void 0,c=void 0;if(Ae(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=an(t),f=In(r,l instanceof pt?l:pt.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Tn(r,an(t));u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var d=Ee(n);if(".priority"===d){(0,o.assert)(1===ke(n),"Can't have a priority with additional path components");var p=s.getNode(),v=Cn(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var m=Te(n),g=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=Cn(r,n,s.getNode(),c);g=null!=y?s.getNode().getImmediateChild(d).updateChild(m,y):s.getNode().getImmediateChild(d)}else g=An(r,d,t.serverCache);u=null!=g?e.filter.updateChild(s.getNode(),d,g,m,i,a):s.getNode()}}return nn(t,u,s.isFullyInitialized()||Ae(n),e.filter.filtersNodes())}function jn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Ae(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=Ee(n);if(!c.isCompleteForPath(n)&&ke(n)>1)return t;var d=Te(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Dn,null)}var v=rn(t,u,c.isFullyInitialized()||Ae(n),l.filtersNodes());return Fn(e,v,n,i,new Mn(i,v,o),s)}function Un(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Mn(i,t,o);if(Ae(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=nn(t,u,!0,e.filter.filtersNodes());else{var f=Ee(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=nn(t,u,c.isFullyInitialized(),c.isFiltered());else{var h=Te(n),d=c.getNode().getImmediateChild(f),p=void 0;if(Ae(h))p=r;else{var v=l.getCompleteChild(f);p=null!=v?".priority"===Ie(h)&&v.getChild(xe(h)).isEmpty()?v:v.updateChild(h,r):pt.EMPTY_NODE}if(d.equals(p))s=t;else s=nn(t,e.filter.updateChild(c.getNode(),f,p,h,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function qn(e,t){return e.eventCache.isCompleteForChild(t)}function Vn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Bn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Ae(n)?r:new sn(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Vn(0,t.serverCache.getNode().getImmediateChild(n),r);c=jn(e,c,new _e(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=Vn(0,t.serverCache.getNode().getImmediateChild(n),r);c=jn(e,c,new _e(n),f,i,o,a,s)}})),c}var zn,Wn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new xt(r.getIndex()),o=(n=r).loadsAllData()?new xt(n.getIndex()):n.hasLimit()?new At(n):new Nt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(pt.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(pt.EMPTY_NODE,s.getNode(),null),l=new Jt(u,a.isFullyInitialized(),i.filtersNodes()),f=new Jt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=tn(f,l),this.eventGenerator_=new Zt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Kn(e,t){var n=an(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ae(t)&&!n.getImmediateChild(Ee(t)).isEmpty())?n.getChild(t):null}function Hn(e){return 0===e.eventRegistrations_.length}function Gn(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Qn(e,t,n,r){t.type===zt.MERGE&&null!==t.source.queryId&&((0,o.assert)(an(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(on(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=Ln(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,$n(e,u.changes,u.viewCache.eventCache.getNode(),null)}function $n(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),en(e,i,"child_removed",t,r,n),en(e,i,"child_added",t,r,n),en(e,i,"child_moved",o,r,n),en(e,i,"child_changed",t,r,n),en(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Yn,Xn=function(){this.views=new Map};function Jn(e,t,n,r){var i,a,s=t.source.queryId;if(null!==s){var u=e.views.get(s);return(0,o.assert)(null!=u,"SyncTree gave us an op for an invalid query."),Qn(u,t,n,r)}var c=[];try{for(var l=f(e.views.values()),h=l.next();!h.done;h=l.next()){u=h.value;c=c.concat(Qn(u,t,n,r))}}catch(d){i={error:d}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return c}function Zn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=Tn(n,i?r:null),u=!1;s?u=!0:r instanceof pt?(s=In(n,r),u=!1):(s=pt.EMPTY_NODE,u=!1);var c=tn(new Jt(s,u,!1),new Jt(r,i,!1));return new Wn(t,c)}return a}function er(e,t,n,r,i,o){var a=Zn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ut,(function(e,t){r.push(Tt(e,t))})),n.isFullyInitialized()&&r.push(kt(n.getNode())),$n(e,r,n.getNode(),t)}(a,n)}function tr(e,t,n,r){var i,a,s=t._queryIdentifier,u=[],c=[],l=ar(e);if("default"===s)try{for(var d=f(e.views.entries()),p=d.next();!p.done;p=d.next()){var v=h(p.value,2),m=v[0],g=v[1];c=c.concat(Gn(g,n,r)),Hn(g)&&(e.views.delete(m),g.query._queryParams.loadsAllData()||u.push(g.query))}}catch(y){i={error:y}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}else(g=e.views.get(s))&&(c=c.concat(Gn(g,n,r)),Hn(g)&&(e.views.delete(s),g.query._queryParams.loadsAllData()||u.push(g.query)));return l&&!ar(e)&&u.push(new((0,o.assert)(zn,"Reference.ts has not been loaded"),zn)(t._repo,t._path)),{removed:u,events:c}}function nr(e){var t,n,r=[];try{for(var i=f(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function rr(e,t){var n,r,i=null;try{for(var o=f(e.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||Kn(s,t)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function ir(e,t){if(t._queryParams.loadsAllData())return sr(e);var n=t._queryIdentifier;return e.views.get(n)}function or(e,t){return null!=ir(e,t)}function ar(e){return null!=sr(e)}function sr(e){var t,n;try{for(var r=f(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var ur=1,cr=function(e){this.listenProvider_=e,this.syncPointTree_=new sn(null),this.pendingWriteTree_={visibleWrites:un.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function lr(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=cn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?yr(e,new Yt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function fr(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=ln(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=sn.fromObject(n);return yr(e,new Xt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function hr(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(wn(e.pendingWriteTree_,t)){var i=new sn(null);return null!=r.snap?i=i.set(Se(),!0):B(r.children,(function(e){i=i.set(new _e(e),!0)})),yr(e,new Qt(r.path,i,n))}return[]}function dr(e,t,n){return yr(e,new Yt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function pr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||or(o,t))){var s=tr(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return ar(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&ar(t))return[sr(t)];var r=[];return t&&(r=nr(t)),B(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,m=_r(e,p);e.listenProvider_.startListening(Cr(v),Sr(e,v),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(Cr(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(Er(t));e.listenProvider_.stopListening(Cr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Er(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function vr(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Pe(e,r);i=i||rr(t,n),a=a||ar(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||ar(u),i=i||rr(u,Se())):(u=new Xn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=pt.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=rr(t,Se());n&&(i=i.updateImmediateChild(e,n))})));var c=or(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=Er(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=ur++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=er(u,t,n,bn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=ir(u,t);h=h.concat(function(e,t,n){var r=t._path,i=Sr(e,t),a=_r(e,n),s=e.listenProvider_.startListening(Cr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!ar(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Ae(e)&&t&&ar(t))return[sr(t).query];var r=[];return t&&(r=r.concat(nr(t).map((function(e){return e.query})))),B(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var f=c[l];e.listenProvider_.stopListening(Cr(f),Sr(e,f))}return s}(e,t,d))}return h}function mr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=rr(n,Pe(e,t));if(r)return r}));return kn(r,t,i,n,!0)}function gr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Pe(e,n);r=r||rr(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||rr(i,Se()):(i=new Xn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Jt(r,!0,!1):null;return function(e){return on(e.viewCache_)}(Zn(i,t,bn(e.pendingWriteTree_,t._path),o?a.getNode():pt.EMPTY_NODE,o))}function yr(e,t){return br(t,e.syncPointTree_,null,bn(e.pendingWriteTree_,Se()))}function br(e,t,n,r){if(Ae(e.path))return wr(e,t,n,r);var i=t.get(Se());null==n&&null!=i&&(n=rr(i,Se()));var o=[],a=Ee(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Pn(r,a);o=o.concat(br(s,u,c,l))}return i&&(o=o.concat(Jn(i,e,r,n))),o}function wr(e,t,n,r){var i=t.get(Se());null==n&&null!=i&&(n=rr(i,Se()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Pn(r,t),u=e.operationForChild(t);u&&(o=o.concat(wr(u,i,a,s)))})),i&&(o=o.concat(Jn(i,e,r,n))),o}function _r(e,t){var n=t.query,r=Sr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||pt.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=kr(e,n);if(r){var i=Tr(r),o=i.path,a=i.queryId,s=Pe(o,t);return Ir(e,o,new $t(Ht(a),s))}return[]}(e,n._path,r):function(e,t){return yr(e,new $t({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return pr(e,n,null,i)}}}function Sr(e,t){var n=Er(t);return e.queryToTagMap.get(n)}function Er(e){return e._path.toString()+"$"+e._queryIdentifier}function kr(e,t){return e.tagToQueryMap.get(t)}function Tr(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new _e(e.substr(0,t))}}function Ir(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Jn(r,n,bn(e.pendingWriteTree_,t),null)}function Cr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(Yn,"Reference.ts has not been loaded"),Yn)(e._repo,e._path):e}var xr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Nr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Ne(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return mr(this.syncTree_,this.path_)},e}(),Ar=function(e,t,n){return e&&"object"===typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Pr(e[".sv"],t,n):"object"===typeof e[".sv"]?Rr(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Pr=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.assert)(!1,"Unexpected server value: "+e)},Rr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Or=function(e,t,n,r){return Mr(t,new Nr(n,e),r)},Dr=function(e,t,n){return Mr(e,new xr(t),n)};function Mr(e,t,n){var r,i=e.getPriority().val(),o=Ar(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Ar(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new it(s,mt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new it(o))),u.forEachChild(ut,(function(e,i){var o=Mr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Lr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Fr(e,t){for(var n=t instanceof _e?t:new _e(t),r=e,i=Ee(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Lr(i,r,a),i=Ee(n=Te(n))}return r}function jr(e){return e.node.value}function Ur(e,t){e.node.value=t,Wr(e)}function qr(e){return e.node.childCount>0}function Vr(e,t){B(e.node.children,(function(n,r){t(new Lr(n,e,r))}))}function Br(e,t,n,r){n&&!r&&t(e),Vr(e,(function(e){Br(e,t,!0,r)})),n&&r&&t(e)}function zr(e){return new _e(null===e.parent?e.name:zr(e.parent)+"/"+e.name)}function Wr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===jr(e)&&!qr(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Wr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Wr(e))}(e.parent,e.name,e)}var Kr=/[\[\].#$\/\u0000-\u001F\u007F]/,Hr=/[\[\].#$\u0000-\u001F\u007F]/,Gr=10485760,Qr=function(e){return"string"===typeof e&&0!==e.length&&!Kr.test(e)},$r=function(e){return"string"===typeof e&&0!==e.length&&!Hr.test(e)},Yr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!D(e)||e&&"object"===typeof e&&(0,o.contains)(e,".sv")},Xr=function(e,t,n,r){r&&void 0===t||Jr((0,o.errorPrefix)(e,"value"),t,n)},Jr=function e(t,n,r){var i=r instanceof _e?new Me(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Fe(i));if("function"===typeof n)throw new Error(t+"contains a function "+Fe(i)+" with contents = "+n.toString());if(D(n))throw new Error(t+"contains "+n.toString()+" "+Fe(i));if("string"===typeof n&&n.length>Gr/3&&(0,o.stringLength)(n)>Gr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Fe(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(B(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Qr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Fe(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),Le(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+Fe(i)+" in addition to actual children.")}},Zr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];B(t,(function(e,t){var r=new _e(e);if(Jr(i,t,Ne(n,r)),".priority"===Ie(r)&&!Yr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Ce(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Qr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Re);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&De(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},ei=function(e,t,n){if(!n||void 0!==t){if(D(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Yr(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ti=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ni=function(e,t,n,r){if((!r||void 0!==n)&&!Qr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ri=function(e,t,n,r){if((!r||void 0!==n)&&!$r(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ii=function(e,t){if(".info"===Ee(t))throw new Error(e+" failed = Can't modify data under /.info/")},oi=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Qr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$r(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ai=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")},si=function(){this.eventLists_=[],this.recursionDepth_=0};function ui(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Oe(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ci(e,t,n){ui(e,n),fi(e,(function(e){return Oe(e,t)}))}function li(e,t,n){ui(e,n),fi(e,(function(e){return De(e,t)||De(t,e)}))}function fi(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(hi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function hi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();I&&N("event: "+n.toString()),Q(r)}}}var di="repo_interrupt",pi=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new si,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ut(),this.transactionQueueTree_=new Lr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function vi(e,t,n){if(e.stats_=ue(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ft(e.repoInfo_,(function(t,n,r,i){yi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return bi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Be(e.repoInfo_,t,(function(t,n,r,i){yi(e,t,n,r,i)}),(function(t){bi(e,t)}),(function(t){!function(e,t){B(t,(function(t,n){wi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return se[n]||(se[n]=t()),se[n]}(e.repoInfo_,(function(){return new Kt(e.stats_,e.server_)})),e.infoData_=new jt,e.infoSyncTree_=new cr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=dr(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),wi(e,"connected",!1),e.serverSyncTree_=new cr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);li(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function mi(e){var t=e.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function gi(e){return(t=(t={timestamp:mi(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function yi(e,t,n,r,i){e.dataUpdateCount++;var a=new _e(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(e){return mt(e)}));s=function(e,t,n,r){var i=kr(e,r);if(i){var o=Tr(i),a=o.path,s=o.queryId,u=Pe(a,t),c=sn.fromObject(n);return Ir(e,a,new Xt(Ht(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=mt(n);s=function(e,t,n,r){var i=kr(e,r);if(null!=i){var o=Tr(i),a=o.path,s=o.queryId,u=Pe(a,t);return Ir(e,a,new Yt(Ht(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(e){return mt(e)}));s=function(e,t,n){var r=sn.fromObject(n);return yr(e,new Xt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var f=mt(n);s=dr(e.serverSyncTree_,a,f)}var h=a;s.length>0&&(h=Pi(e,a)),li(e.eventQueue_,h,s)}function bi(e,t){wi(e,"connected",t),!1===t&&function(e){Ci(e,"onDisconnectEvents");var t=gi(e),n=Ut();Bt(e.onDisconnect_,Se(),(function(r,i){var o=Or(r,i,e.serverSyncTree_,t);qt(n,r,o)}));var r=[];Bt(n,Se(),(function(t,n){r=r.concat(dr(e.serverSyncTree_,t,n));var i=Li(e,t);Pi(e,i)})),e.onDisconnect_=Ut(),li(e.eventQueue_,Se(),r)}(e)}function wi(e,t,n){var r=new _e("/.info/"+t),i=mt(n);e.infoData_.updateSnapshot(r,i);var o=dr(e.infoSyncTree_,r,i);li(e.eventQueue_,r,o)}function _i(e){return e.nextWriteId_++}function Si(e,t,n,r,i){Ci(e,"set",{path:t.toString(),value:n,priority:r});var o=gi(e),a=mt(n,r),s=mr(e.serverSyncTree_,t),u=Dr(a,s,o),c=_i(e),l=lr(e.serverSyncTree_,t,u,c,!0);ui(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||O("set at "+t+" failed: "+n);var a=hr(e.serverSyncTree_,c,!o);li(e.eventQueue_,t,a),xi(e,i,n,r)}));var f=Li(e,t);Pi(e,f),li(e.eventQueue_,f,[])}function Ei(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Vt(e.onDisconnect_,t),xi(e,n,r,i)}))}function ki(e,t,n,r){var i=mt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&qt(e.onDisconnect_,t,i),xi(e,r,n,o)}))}function Ti(e,t,n){var r;r=".info"===Ee(t._path)?pr(e.infoSyncTree_,t,n):pr(e.serverSyncTree_,t,n),ci(e.eventQueue_,t._path,r)}function Ii(e){e.persistentConnection_&&e.persistentConnection_.interrupt(di)}function Ci(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),N.apply(void 0,d([r],h(t)))}function xi(e,t,n,r){t&&Q((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Ni(e,t,n){return mr(e.serverSyncTree_,t,n)||pt.EMPTY_NODE}function Ai(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Mi(e,t),jr(t)){var n=Oi(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ni(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Pe(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var f=a.val(!0),h=t;e.server_.put(h.toString(),f,(function(r){Ci(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(hr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Mi(e,Fr(e.transactionQueueTree_,t)),Ai(e,e.transactionQueueTree_),li(e.eventQueue_,t,i);for(s=0;s<o.length;s++)Q(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{O("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Pi(e,t)}}),s)}(e,zr(t),n)}else qr(t)&&Vr(t,(function(t){Ai(e,t)}))}function Pi(e,t){var n=Ri(e,t),r=zr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],f=Pe(n,l.path),h=!1;if((0,o.assert)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,u=l.abortReason,i=i.concat(hr(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)h=!0,u="maxretry",i=i.concat(hr(e.serverSyncTree_,l.currentWriteId,!0));else{var d=Ni(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Jr("transaction failed: Data returned ",p,l.path);var v=mt(p);"object"===typeof p&&null!=p&&(0,o.contains)(p,".priority")||(v=v.updatePriority(d.getPriority()));var m=l.currentWriteId,g=gi(e),y=Dr(v,d,g);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=y,l.currentWriteId=_i(e),a.splice(a.indexOf(m),1),i=(i=i.concat(lr(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(hr(e.serverSyncTree_,m,!0))}else h=!0,u="nodata",i=i.concat(hr(e.serverSyncTree_,l.currentWriteId,!0))}li(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Mi(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)Q(r[u]);Ai(e,e.transactionQueueTree_)}(e,Oi(e,n),r),r}function Ri(e,t){var n,r=e.transactionQueueTree_;for(n=Ee(t);null!==n&&void 0===jr(r);)r=Fr(r,n),n=Ee(t=Te(t));return r}function Oi(e,t){var n=[];return Di(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Di(e,t,n){var r=jr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Vr(t,(function(t){Di(e,t,n)}))}function Mi(e,t){var n=jr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ur(t,n.length>0?n:void 0)}Vr(t,(function(t){Mi(e,t)}))}function Li(e,t){var n=zr(Ri(e,t)),r=Fr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Fi(e,t)})),Fi(e,r),Br(r,(function(t){Fi(e,t)})),n}function Fi(e,t){var n=jr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(hr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Ur(t,void 0):n.length=a+1,li(e.eventQueue_,zr(t),i);for(s=0;s<r.length;s++)Q(r[s])}}var ji=function(e,t){var n=Ui(e),r=n.namespace;"firebase.com"===n.domain&&R(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||R("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new re(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new _e(n.pathString)}},Ui=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(l,h)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=f(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):O("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},qi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),Vi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Bi=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),zi=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return Ei(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){ii("OnDisconnect.remove",this._path);var e=new o.Deferred;return ki(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){ii("OnDisconnect.set",this._path),Xr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return ki(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){ii("OnDisconnect.setWithPriority",this._path),Xr("OnDisconnect.setWithPriority",e,this._path,!1),ei("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=mt(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&qt(e.onDisconnect_,t,o),xi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){ii("OnDisconnect.update",this._path),Zr("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return N("onDisconnect().update() called with empty data.  Don't do anything."),void xi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&B(n,(function(n,r){var i=mt(r);qt(e.onDisconnect_,Ne(t,n),i)})),xi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Wi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Ae(this._path)?null:Ie(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Qi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Lt(this._queryParams),t=q(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Lt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Oe(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Ki(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Hi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===He){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==M)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==L)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===ut){if(null!=t&&!Yr(t)||null!=n&&!Yr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof gt||e.getIndex()===bt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Gi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Qi=function(e){function t(t,n){return e.call(this,t,n,new Pt,!1)||this}return s(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=xe(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Wi),$i=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new _e(t),r=Ji(this.ref,t);return new e(this._node.getChild(n),r,ut)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Ji(n.ref,r),ut))}))},e.prototype.hasChild=function(e){var t=new _e(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Yi(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Ji(e._root,t):e._root}function Xi(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=ji(t,e._repo.repoInfo_.nodeAdmin);oi("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||R("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Yi(e,n.path.toString())}function Ji(e,t){var n,r,i,a;return null===Ee((e=(0,o.getModularInstance)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ri(n,r,i,a)):ri("child","path",t,!1),new Qi(e._repo,Ne(e._path,t))}function Zi(e,t){e=(0,o.getModularInstance)(e),ii("push",e._path),Xr("push",t,e._path,!0);var n,r=mi(e._repo),i=_t(r),a=Ji(e,i),s=Ji(e,i);return n=null!=t?to(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function eo(e){return ii("remove",e._path),to(e,null)}function to(e,t){e=(0,o.getModularInstance)(e),ii("set",e._path),Xr("set",t,e._path,!1);var n=new o.Deferred;return Si(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function no(e,t){e=(0,o.getModularInstance)(e),ii("setPriority",e._path),ei("setPriority",t,!1);var n=new o.Deferred;return Si(e._repo,Ne(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function ro(e,t,n){if(ii("setWithPriority",e._path),Xr("setWithPriority",t,e._path,!1),ei("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return Si(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function io(e,t){Zr("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){Ci(e,"update",{path:t.toString(),value:n});var i=!0,o=gi(e),a={};if(B(n,(function(n,r){i=!1,a[n]=Or(Ne(t,n),mt(r),e.serverSyncTree_,o)})),i)N("update() called with empty data.  Don't do anything."),xi(0,r,"ok",void 0);else{var s=_i(e),u=fr(e.serverSyncTree_,t,a,s);ui(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||O("update at "+t+" failed: "+n);var a=hr(e.serverSyncTree_,s,!o),u=a.length>0?Pi(e,t):t;li(e.eventQueue_,u,a),xi(0,r,n,i)})),B(n,(function(n){var r=Li(e,Ne(t,n));Pi(e,r)})),li(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function oo(e){return function(e,t){var n=gr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=mt(n).withIndex(t._queryParams.getIndex()),i=dr(e.serverSyncTree_,t._path,r);return ci(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Ci(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.getModularInstance)(e))._repo,e).then((function(t){return new $i(t,new Qi(e._repo,e._path),e._queryParams.getIndex())}))}var ao=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new qi("value",this,new $i(e.snapshotNode,new Qi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Vi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),so=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Vi(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=Ji(new Qi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new qi(e.type,this,new $i(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function uo(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){Ti(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Bi(n,o||void 0),c="value"===t?new ao(u):new so(t,u);return function(e,t,n){var r;r=".info"===Ee(t._path)?vr(e.infoSyncTree_,t,n):vr(e.serverSyncTree_,t,n),ci(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Ti(e._repo,e,c)}}function co(e,t,n,r){return uo(e,"value",t,n,r)}function lo(e,t,n,r){return uo(e,"child_added",t,n,r)}function fo(e,t,n,r){return uo(e,"child_changed",t,n,r)}function ho(e,t,n,r){return uo(e,"child_moved",t,n,r)}function po(e,t,n,r){return uo(e,"child_removed",t,n,r)}function vo(e,t,n){var r=null,i=n?new Bi(n):null;"value"===t?r=new ao(i):t&&(r=new so(t,i)),Ti(e._repo,e,r)}var mo=function(){},go=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Xr("endAt",this._value,e._path,!0);var t=Ot(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wi(e._repo,e._path,t,e._orderByCalled)},t}(mo);function yo(e,t){return ni("endAt","key",t,!0),new go(e,t)}var bo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Xr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===He?("string"===typeof t&&(t=Et(t)),r=Ot(e,t,n)):r=Ot(e,t,null==n?M:Et(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wi(e._repo,e._path,t,e._orderByCalled)},t}(mo);function wo(e,t){return ni("endBefore","key",t,!0),new bo(e,t)}var _o=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Xr("startAt",this._value,e._path,!0);var t=Rt(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Wi(e._repo,e._path,t,e._orderByCalled)},t}(mo);function So(e,t){return void 0===e&&(e=null),ni("startAt","key",t,!0),new _o(e,t)}var Eo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Xr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===He?("string"===typeof t&&(t=St(t)),r=Rt(e,t,n)):r=Rt(e,t,null==n?L:St(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Wi(e._repo,e._path,t,e._orderByCalled)},t}(mo);function ko(e,t){return ni("startAfter","key",t,!0),new Eo(e,t)}var To=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return s(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(mo);function Io(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new To(e)}var Co=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return s(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(mo);function xo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Co(e)}var No=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return s(t,e),t.prototype._apply=function(e){Ki(e,"orderByChild");var t=new _e(this._path);if(Ae(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new gt(t),r=Dt(e._queryParams,n);return Hi(r),new Wi(e._repo,e._path,r,!0)},t}(mo);function Ao(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ri("orderByChild","path",e,!1),new No(e)}var Po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype._apply=function(e){Ki(e,"orderByKey");var t=Dt(e._queryParams,He);return Hi(t),new Wi(e._repo,e._path,t,!0)},t}(mo);function Ro(){return new Po}var Oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype._apply=function(e){Ki(e,"orderByPriority");var t=Dt(e._queryParams,ut);return Hi(t),new Wi(e._repo,e._path,t,!0)},t}(mo);function Do(){return new Oo}var Mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype._apply=function(e){Ki(e,"orderByValue");var t=Dt(e._queryParams,bt);return Hi(t),new Wi(e._repo,e._path,t,!0)},t}(mo);function Lo(){return new Mo}var Fo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){if(Xr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new go(this._value,this._key)._apply(new _o(this._value,this._key)._apply(e))},t}(mo);function jo(e,t){return ni("equalTo","key",t,!0),new Fo(e,t)}function Uo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=(0,o.getModularInstance)(e);try{for(var s=f(r),u=s.next();!u.done;u=s.next()){var c=u.value;a=c._apply(a)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}!function(e){(0,o.assert)(!zn,"__referenceConstructor has already been defined"),zn=e}(Qi),function(e){(0,o.assert)(!Yn,"__referenceConstructor has already been defined"),Yn=e}(Qi);var qo={},Vo=!1;function Bo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||R("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),N("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=ji(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=ji(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new J(J.OWNER):new X(e.name,e.options,t);oi("Invalid Firebase Database URL",s),Ae(s.path)||R("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=qo[t.name];i||(i={},qo[t.name]=i);var o=i[e.toURLString()];o&&R("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new pi(e,Vo,n,r),i[e.toURLString()]=o,o}(u,e,l,new Y(e.name,n));return new zo(f,e)}var zo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(vi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Qi(this._repo,Se())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=qo[t];n&&n[e.key]===e||R("Database "+t+"("+e.repoInfo_+") has already been deleted."),Ii(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&R("Cannot call "+e+" on a deleted database.")},e}();function Wo(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&R("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&R('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new J(J.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new J(s)}!function(e,t,n,r){e.repoInfo_=new re(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Ko(e){(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),Ii(e._repo)}function Ho(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(di)}var Go={".sv":"timestamp"};var Qo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function $o(e,t,n){var r;if(e=(0,o.getModularInstance)(e),ii("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=co(e,(function(){}));return function(e,t,n,r,i,a){Ci(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:E(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Ni(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Jr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Fr(e.transactionQueueTree_,t),f=jr(l)||[];f.push(s),Ur(l,f);var h=void 0;"object"===typeof c&&null!==c&&(0,o.contains)(c,".priority")?(h=(0,o.safeGet)(c,".priority"),(0,o.assert)(Yr(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(mr(e.serverSyncTree_,t)||pt.EMPTY_NODE).getPriority().val();var d=gi(e),p=mt(c,h),v=Dr(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=_i(e);var m=lr(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);li(e.eventQueue_,t,m),Ai(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new $i(r,new Qi(e._repo,e._path),ut),a.resolve(new Qo(n,i)))}),s,i),a.promise}var Yo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,O("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Xo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Jo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),ri("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),ri("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new ea(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Zo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Jo(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return co(this._delegate,c,l),n;case"child_added":return lo(this._delegate,c,l),n;case"child_removed":return po(this._delegate,c,l),n;case"child_changed":return fo(this._delegate,c,l),n;case"child_moved":return ho(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),ti("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,vo(this._delegate,e,r)}else vo(this._delegate,e)},e.prototype.get=function(){var e=this;return oo(this._delegate).then((function(t){return new Jo(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Jo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":co(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":lo(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":po(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":fo(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":ho(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Uo(this._delegate,Io(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,Uo(this._delegate,xo(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,Uo(this._delegate,Ao(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,Uo(this._delegate,Ro()))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Uo(this._delegate,Do()))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,Uo(this._delegate,Lo()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,Uo(this._delegate,So(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,Uo(this._delegate,ko(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,Uo(this._delegate,yo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,Uo(this._delegate,wo(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,Uo(this._delegate,jo(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new ea(this.database,new Qi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),ea=function(e){function t(t,n){var r=e.call(this,t,new Wi(n._repo,n._path,new Pt,!1))||this;return r.database=t,r._delegate=n,r}return s(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Ji(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=to(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ii("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=io(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=ro(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=eo(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),ai("Reference.transaction","applyLocally",n,!0);var i=$o(this._delegate,e,{applyLocally:n}).then((function(e){return new Xo(e.committed,new Jo(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=no(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Zi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return ii("Reference.onDisconnect",this._delegate._path),new Yo(new zi(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Zo),ta=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Wo(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof ea){var t=Xi(this._delegate,e.toString());return new ea(this,t)}t=Yi(this._delegate,e);return new ea(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.validateArgCount)(t,1,1,arguments.length);var n=Xi(this._delegate,e);return new ea(this,n)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),Ko(this._delegate)},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),Ho(this._delegate)},e.ServerValue={TIMESTAMP:Go,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var na=Object.freeze({__proto__:null,forceLongPolling:function(){ve.forceDisallow(),he.forceAllow()},forceWebSockets:function(){he.forceDisallow()},isWebSocketsAvailable:function(){return ve.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Wt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);B(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;m(r);var c=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return c.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new ta(Bo(t,c,void 0,n,u),t),namespace:a}}}),ra=Be;Be.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Be.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var ia=ge,oa=re,aa=Object.freeze({__proto__:null,DataConnection:ra,RealTimeConnection:ia,hijackHash:function(e){var t=Be.prototype.put;return Be.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Be.prototype.put=t}},ConnectionTarget:oa,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Vo=e}(e)}}),sa=ta.ServerValue;!function(t){m(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new ta(Bo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:ea,Query:Zo,Database:ta,DataSnapshot:Jo,enableLogging:x,INTERNAL:na,ServerValue:sa,TEST_ACCESS:aa}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},494:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},386:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:function(){return o},Logger:function(){return f},setLogLevel:function(){return h},setUserLogHandler:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function h(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},365:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},293:function(e,t,n){"use strict";n.r(t),n.d(t,{CONSTANTS:function(){return o},Deferred:function(){return v},ErrorFactory:function(){return O},FirebaseError:function(){return R},MAX_VALUE_MILLIS:function(){return le},RANDOM_FACTOR:function(){return fe},Sha1:function(){return J},areCookiesEnabled:function(){return A},assert:function(){return a},assertionError:function(){return s},async:function(){return te},base64:function(){return c},base64Decode:function(){return h},base64Encode:function(){return l},base64urlEncodeWithoutPadding:function(){return f},calculateBackoffMillis:function(){return he},contains:function(){return z},createMockUserToken:function(){return m},createSubscribe:function(){return Z},decode:function(){return j},deepCopy:function(){return d},deepEqual:function(){return G},deepExtend:function(){return p},errorPrefix:function(){return ie},extractQuerystring:function(){return X},getGlobal:function(){return P},getModularInstance:function(){return pe},getUA:function(){return g},isAdmin:function(){return B},isBrowser:function(){return w},isBrowserExtension:function(){return _},isElectron:function(){return E},isEmpty:function(){return K},isIE:function(){return k},isIndexedDBAvailable:function(){return x},isMobileCordova:function(){return y},isNode:function(){return b},isNodeSdk:function(){return I},isReactNative:function(){return S},isSafari:function(){return C},isUWP:function(){return T},isValidFormat:function(){return V},isValidTimestamp:function(){return U},issuedAtTime:function(){return q},jsonEval:function(){return L},map:function(){return H},ordinal:function(){return de},querystring:function(){return $},querystringDecode:function(){return Y},safeGet:function(){return W},stringLength:function(){return ce},stringToByteArray:function(){return ue},stringify:function(){return F},validateArgCount:function(){return re},validateCallback:function(){return ae},validateContextObject:function(){return se},validateIndexedDBOpenable:function(){return N},validateNamespace:function(){return oe}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.create;Object.create;var o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},u=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){var t=u(e);return c.encodeByteArray(t,!0)},f=function(e){return l(e).replace(/\./g,"")},h=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}var v=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(a)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function b(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function w(){return"object"===typeof self&&self.self===self}function _(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function S(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function E(){return g().indexOf("Electron/")>=0}function k(){var e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function T(){return g().indexOf("MSAppHost/")>=0}function I(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function C(){return!b()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x(){return"indexedDB"in self&&null!=indexedDB}function N(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function A(){return!(!navigator||!navigator.cookieEnabled)}function P(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}var R=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,O.prototype.create),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),O=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?D(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new R(i,s,r);return u},e}();function D(e,t){return e.replace(M,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var M=/\{\$([^}]+)}/g;function L(e){return JSON.parse(e)}function F(e){return JSON.stringify(e)}var j=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=L(h(o[0])||""),n=L(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},U=function(e){var t=j(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},q=function(e){var t=j(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},V=function(e){var t=j(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},B=function(e){var t=j(e).claims;return"object"===typeof t&&!0===t.admin};function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function W(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function K(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function H(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function G(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(Q(s)&&Q(u)){if(!G(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function Q(e){return null!==e&&"object"===typeof e}function $(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function Y(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function X(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var J=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function Z(e,t){var n=new ee(e,t);return n.subscribe.bind(n)}var ee=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ne),void 0===r.error&&(r.error=ne),void 0===r.complete&&(r.complete=ne);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function te(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function ne(){}var re=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ie(e,t){return e+" failed: "+t+" argument "}function oe(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(ie(e,"namespace")+"must be a valid firebase namespace.")}function ae(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ie(e,t)+"must be a valid function.")}function se(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ie(e,t)+"must be a valid context object.")}var ue=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,a(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ce=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},le=144e5,fe=.5;function he(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(fe*r*(Math.random()-.5)*2);return Math.min(le,r+i)}function de(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function pe(e){return e&&e._delegate?e._delegate:e}},532:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},457:function(e,t,n){"use strict";n(532)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<a.length;++m){var g=a[m];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(b){}}}}return t}},59:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!==typeof e||0===e.length)return o;var a=/\+/g;e=e.split(n);var s=1e3;i&&"number"===typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,f,h,d,p=e[c].replace(a,"%20"),v=p.indexOf(r);v>=0?(l=p.substr(0,v),f=p.substr(v+1)):(l=p,f=""),h=decodeURIComponent(l),d=decodeURIComponent(f),t(o,h)?Array.isArray(o[h])?o[h].push(d):o[h]=[o[h],d]:o[h]=d}return o}},297:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).filter(Boolean).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},863:function(e,t,n){"use strict";n(59),t.stringify=n(297)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function q(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case T:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,ke=null;function Te(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Ie(e){Ee?ke?ke.push(e):ke=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=ke;if(ke=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==Ee||null!==ke)&&(Ne(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Me(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ue=null,qe={onError:function(e){Le=!0,Fe=e}};function Ve(e,t,n,r,i,o,a,s,u){Le=!1,Fe=null,Me.apply(qe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,Et,kt,Tt,It=!1,Ct=[],xt=null,Nt=null,At=null,Pt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function qt(){It=!1,null!==xt&&jt(xt)&&(xt=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Pt.forEach(Ut),Rt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Vt(xt,e),null!==Nt&&Vt(Nt,e),null!==At&&Vt(At,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var zt=w.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,zt.transition=o}}function Ht(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,zt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Lt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Lt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Lt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),fn=F({},cn,{view:0,detail:0}),hn=on(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),vn=on(F({},dn,{dataTransfer:0})),mn=on(F({},fn,{relatedTarget:0})),gn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return kn}var In=F({},fn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(In),xn=on(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Pn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Dn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function qn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Kn(t,Gn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Hr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},kr={};function Tr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Er[e]=n[t];return e}l&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ir=Tr("animationend"),Cr=Tr("animationiteration"),xr=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),u(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Ir,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(xr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function qr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||qr(t,!1,e),qr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,qr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=o,i=_e(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Ir:case Cr:case xr:u=gn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:wi(u),d=null==c?s:wi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(a,s,u,l,!1),null!==c&&null!==f&&Qr(a,f,c,l,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Wn(s))if(Xn)m=ar;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Kn(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wi(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(g=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&qn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}jr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Kr(e,o,i)),null!=(o=Re(e,t))&&r.push(Kr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,o))&&a.unshift(Kr(n,u,s)):i||null!=(u=Re(n,o))&&a.push(Kr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[di]||null}var Si=[],Ei=-1;function ki(e){return{current:e}}function Ti(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function Ii(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ci={},xi=ki(Ci),Ni=ki(!1),Ai=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ti(Ni),Ti(xi)}function Di(e,t,n){if(xi.current!==Ci)throw Error(o(168));Ii(xi,t),Ii(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=xi.current,Ii(xi,e),Ii(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(xi),Ii(xi,e)):Ti(Ni),Ii(Ni,n)}var ji=null,Ui=!1,qi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!qi&&null!==ji){qi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,qi=!1}}return null}var zi=[],Wi=0,Ki=null,Hi=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){zi[Wi++]=Hi,zi[Wi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Ki;)Ki=zi[--Wi],zi[Wi]=null,Hi=zi[--Wi],zi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=ki(null),bo=null,wo=null,_o=null;function So(){_o=wo=bo=null}function Eo(e){var t=yo.current;Ti(yo),e._currentValue=t}function ko(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Co=null;function xo(e){null===Co?Co=[e]:Co.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&xu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,xo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,l=c=u=null,s=o;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Lu|=a,e.lanes=a,e.memoizedState=f}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var qo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(nc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(nc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(nc(t,e,r,n),Lo(t,e,r))}};function zo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Wo(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Ri(t)?Ai:xi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=qo,Ro(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Ri(t)?Ai:xi.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===qo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&$o(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case S:return(t=jc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),io&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return io&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),io&&Ji(i,v),c}function m(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),io&&Ji(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return io&&Ji(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),io&&Ji(i,m),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===E){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&$o(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Go(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===E?((o=Mc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Dc(a.type,a.key,a.props,null,r.mode,u)).ref=Go(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(a,r.mode,u)).return=r,r=o}return s(r);case R:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(M(a))return m(r,o,a,u);Qo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Xo=Yo(!0),Jo=Yo(!1),Zo={},ea=ki(Zo),ta=ki(Zo),na=ki(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(Ii(na,t),Ii(ta,e),Ii(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(ea),Ii(ea,t)}function oa(){Ti(ea),Ti(ta),Ti(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ii(ta,e),Ii(ea,n))}function sa(e){ta.current===e&&(Ti(ea),Ti(ta))}var ua=ki(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function fa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ha=w.ReactCurrentDispatcher,da=w.ReactCurrentBatchConfig,pa=0,va=null,ma=null,ga=null,ya=!1,ba=!1,wa=0,_a=0;function Sa(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,ga=ma=null,t.updateQueue=null,ha.current=cs,e=n(r,i)}while(ba)}if(ha.current=as,t=null!==ma&&null!==ma.next,pa=0,ga=ma=va=null,ya=!1,t)throw Error(o(300));return e}function Ta(){var e=0!==wa;return wa=0,e}function Ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?va.memoizedState=ga=e:ga=ga.next=e,ga}function Ca(){if(null===ma){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?va.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?va.memoizedState=ga=e:ga=ga.next=e}return ga}function xa(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((pa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,va.lanes|=f,Lu|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Lu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Ra(e,t){var n=va,r=Ca(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Wa(Ma.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Ua(9,Da.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(o(349));0!==(30&pa)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Fa(e)}function Ma(e,t,n){return n((function(){La(t)&&Fa(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fa(e){var t=Ao(e,1);null!==t&&nc(t,e,1,-1)}function ja(e){var t=Ia();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function qa(){return Ca().memoizedState}function Va(e,t,n,r){var i=Ia();va.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=Ca();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}va.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function za(e,t){return Va(8390656,8,e,t)}function Wa(e,t){return Ba(2048,8,e,t)}function Ka(e,t){return Ba(4,2,e,t)}function Ha(e,t){return Ba(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ga.bind(null,t,e),n)}function $a(){}function Ya(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Lu|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function es(){return Ca().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=No(e,t,n,r))){nc(n,e,r,ec()),os(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,xo(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=No(e,t,i,r))&&(nc(n,e,r,i=ec()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Io,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:Io,useCallback:function(e,t){return Ia().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ia().memoizedState=e},useState:ja,useDebugValue:$a,useDeferredValue:function(e){return Ia().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=Za.bind(null,e[1]),Ia().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Ia();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nu)throw Error(o(349));0!==(30&pa)||Oa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Ma.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ia(),t=Nu.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_a++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Io,useCallback:Ya,useContext:Io,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ka,useLayoutEffect:Ha,useMemo:Xa,useReducer:Na,useRef:qa,useState:function(){return Na(xa)},useDebugValue:$a,useDeferredValue:function(e){return Ja(Ca(),ma.memoizedState,e)},useTransition:function(){return[Na(xa)[0],Ca().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1},cs={readContext:Io,useCallback:Ya,useContext:Io,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ka,useLayoutEffect:Ha,useMemo:Xa,useReducer:Aa,useRef:qa,useState:function(){return Aa(xa)},useDebugValue:$a,useDeferredValue:function(e){var t=Ca();return null===ma?t.memoizedState=e:Ja(t,ma.memoizedState,e)},useTransition:function(){return[Aa(xa)[0],Ca().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function _s(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return To(t,i),r=ka(e,t,n,r,o,i),n=Ta(),null===e||ws?(io&&n&&eo(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Cs(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ou,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ou,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Ou,Ru),Ru|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Ou,Ru),Ru|=r;return _s(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=Ri(n)?Ai:xi.current;return o=Pi(t,o),To(t,i),n=ka(e,t,n,r,o,i),r=Ta(),null===e||ws?(io&&r&&eo(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function xs(e,t,n,r,i){if(Ri(n)){var o=!0;Li(t)}else o=!1;if(To(t,i),null===t.stateNode)zs(e,t),Wo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Io(c):c=Pi(t,c=Ri(n)?Ai:xi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Ko(t,a,r,c),Po=!1;var h=t.memoizedState;a.state=h,jo(t,r,a,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Po?("function"===typeof l&&(Vo(t,n,l,r),u=t.memoizedState),(s=Po||zo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:go(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Io(u):u=Pi(t,u=Ri(n)?Ai:xi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&Ko(t,a,r,u),Po=!1,h=t.memoizedState,a.state=h,jo(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Po?("function"===typeof d&&(Vo(t,n,d,r),p=t.memoizedState),(c=Po||zo(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,o,i)}function Ns(e,t,n,r,i,o){Is(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Ws(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):_s(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ia(e,t.containerInfo)}function Ps(e,t,n,r,i){return po(),vo(i),t.flags|=256,_s(e,t,n,r),t.child}var Rs,Os,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ii(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Lc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ms,e):js(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=js(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Oc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&vo(r),Xo(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ko(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,n,t);else if(19===e.tag)qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Hs(t),null;case 3:return r=t.stateNode,oa(),Ti(Ni),Ti(xi),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Hs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Hs(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hs(t),null;case 13:if(Ti(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Du&&(Du=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return oa(),null===e&&Br(t.stateNode.containerInfo),Hs(t),null;case 10:return Eo(t.type._context),Hs(t),null;case 19:if(Ti(ua),null===(a=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Ks(a,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Ks(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Bu&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Hs(t),null}else 2*Xe()-a.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ua.current,Ii(ua,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ti(Ni),Ti(xi),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ti(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ua),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Ys=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hu(e,t,n),Ys=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=xc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(o(160));du(a,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){kc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){kc(e,e.return,m)}try{nu(5,e,e.return)}catch(m){kc(e,e.return,m)}}break;case 1:vu(t,e),gu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),gu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){kc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&X(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){kc(e,e.return,m)}}break;case 6:if(vu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){kc(e,e.return,m)}}break;case 3:if(vu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){kc(e,e.return,m)}break;case 4:default:vu(t,e),gu(e);break;case 13:vu(t,e),gu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Xe())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||f,vu(t,e),Ys=l):vu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){kc(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){_u(h);continue}}null!==p?(p.return=d,Js=p):_u(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){kc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){kc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),gu(e),4&r&&pu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Js=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$s;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=$s;var c=Ys;if($s=a,(Ys=u)&&!c)for(Js=i;null!==Js;)u=(a=Js).child,22===a.tag&&null!==a.memoizedState?Su(i):null!==u?(u.return=a,Js=u):Su(i);for(;null!==o;)Js=o,bu(o,t,n),o=o.sibling;Js=i,$s=s,Ys=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wu(e)}}function wu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&iu(t)}catch(d){kc(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function _u(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Su(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){kc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){kc(t,i,u)}}var o=t.return;try{iu(t)}catch(u){kc(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){kc(t,a,u)}}}catch(u){kc(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Eu,ku=Math.ceil,Tu=w.ReactCurrentDispatcher,Iu=w.ReactCurrentOwner,Cu=w.ReactCurrentBatchConfig,xu=0,Nu=null,Au=null,Pu=0,Ru=0,Ou=ki(0),Du=0,Mu=null,Lu=0,Fu=0,ju=0,Uu=null,qu=null,Vu=0,Bu=1/0,zu=null,Wu=!1,Ku=null,Hu=null,Gu=!1,Qu=null,$u=0,Yu=0,Xu=null,Ju=-1,Zu=0;function ec(){return 0!==(6&xu)?Xe():-1!==Ju?Ju:Ju=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&xu)&&0!==Pu?Pu&-Pu:null!==mo.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yu)throw Yu=0,Xu=null,Error(o(185));gt(e,n,r),0!==(2&xu)&&e===Nu||(e===Nu&&(0===(2&xu)&&(Fu|=n),4===Du&&sc(e,Pu)),rc(e,r),1===n&&0===xu&&0===(1&t.mode)&&(Bu=Xe()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Nu?Pu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(uc.bind(null,e)):Vi(uc.bind(null,e)),ai((function(){0===(6&xu)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&xu))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=xu;xu|=2;var a=pc();for(Nu===e&&Pu===t||(zu=null,Bu=Xe()+500,hc(e,t));;)try{yc();break}catch(u){dc(e,u)}So(),Tu.current=a,xu=i,null!==Au?t=0:(Nu=null,Pu=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Mu,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_c(e,qu,zu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,qu,zu),t);break}_c(e,qu,zu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ku(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,qu,zu),r);break}_c(e,qu,zu);break;default:throw Error(o(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=qu,qu=n,null!==t&&ac(t)),e}function ac(e){null===qu?qu=e:qu.push.apply(qu,e)}function sc(e,t){for(t&=~ju,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&xu))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,qu,zu),rc(e,Xe()),null}function cc(e,t){var n=xu;xu|=1;try{return e(t)}finally{0===(xu=n)&&(Bu=Xe()+500,Ui&&Bi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&xu)&&Sc();var t=xu;xu|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(xu=t))&&Bi()}}function fc(){Ru=Ou.current,Ti(Ou)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:oa(),Ti(Ni),Ti(xi),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ti(ua);break;case 10:Eo(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Nu=e,Au=e=Oc(e.current,null),Pu=Ru=t,Du=0,Mu=null,ju=Fu=Lu=0,qu=Uu=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Co=null}return e}function dc(e,t){for(;;){var n=Au;try{if(So(),ha.current=as,ya){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,ga=ma=va=null,ba=!1,wa=0,Iu.current=null,null===n||null===n.return){Du=1,Mu=t,Au=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(a,l,t),vc();break e}c=Error(o(426))}else if(io&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),vo(ls(c,u));break e}}a=c=ls(c,u),4!==Du&&(Du=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ps(0,c,t));break e;case 1:u=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hu||!Hu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pc(){var e=Tu.current;return Tu.current=as,null===e?as:e}function vc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Nu||0===(268435455&Lu)&&0===(268435455&Fu)||sc(Nu,Pu)}function mc(e,t){var n=xu;xu|=2;var r=pc();for(Nu===e&&Pu===t||(zu=null,hc(e,t));;)try{gc();break}catch(i){dc(e,i)}if(So(),xu=n,Tu.current=r,null!==Au)throw Error(o(261));return Nu=null,Pu=0,Du}function gc(){for(;null!==Au;)bc(Au)}function yc(){for(;null!==Au&&!$e();)bc(Au)}function bc(e){var t=Eu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?wc(e):Au=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ru)))return void(Au=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Du=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Du&&(Du=5)}function _c(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Qu);if(0!==(6&xu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Nu&&(Au=Nu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Nc(tt,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cu.transition,Cu.transition=null;var s=bt;bt=1;var u=xu;xu|=4,Iu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:go(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Ye(),xu=u,bt=s,Cu.transition=a}else e.current=n;if(Gu&&(Gu=!1,Qu=e,$u=i),0===(a=e.pendingLanes)&&(Hu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Ku,Ku=null,e;0!==(1&$u)&&0!==e.tag&&Sc(),0!==(1&(a=e.pendingLanes))?e===Xu?Yu++:(Yu=0,Xu=e):Yu=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function Sc(){if(null!==Qu){var e=wt($u),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,$u=0,0!==(6&xu))throw Error(o(331));var i=xu;for(xu|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,a)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(ou(f),f===l){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(S){kc(u,u.return,S)}if(u===s){Js=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,Js=_;break e}Js=u.return}}if(xu=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function Ec(e,t,n){e=Mo(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Mo(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Pu&n)===n&&(4===Du||3===Du&&(130023424&Pu)===Pu&&500>Xe()-Vu?hc(e,0):ju|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ao(e,t))&&(gt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function xc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Mc(n.children,i,a,t);case k:s=8,i|=8;break;case T:return(e=Pc(12,n,t,2|i)).elementType=T,e.lanes=a,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=a,e;case O:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case x:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qc(e,t,n,r,i,o,a,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Mi(e,n,t)}return t}function zc(e,t,n,r,i,o,a,s,u){return(e=qc(n,r,!0,e,0,o,0,s,u)).context=Bc(null),n=e.current,(o=Do(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,gt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,a))&&(nc(e,i,a,o),Lo(e,i,a)),a}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:aa(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ii(ua,1&ua.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ii(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Ws(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Pi(t,xi.current);To(t,n),i=ka(null,t,r,e,i,n);var a=Ta();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ro(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Ns(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===P)return 14}return 2}(r),e=go(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=xs(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Es(null,t,r,go(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Oo(e,t),jo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ws(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Is(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ii(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Do(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ko(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ko(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,To(t,n),r=r(i=Io(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=go(r=t.type,t.pendingProps),Es(e,t,r,i=go(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),zs(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,To(t,n),Wo(t,r,i),Ho(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Kc(a);s.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Kc(a);o.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=qc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(a)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&xu)&&(Bu=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Ao(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Ao(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},kt=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,wi,_i,Ie,Ce,cc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=qc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function S(e){return _(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return S(e)||_(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===g)},t.typeOf=_},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,v(w,g.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+x(u,0):o,_(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var l=o+x(s=e[c],c);u+=N(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=o+x(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function _(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,O(S);else{var t=r(l);null!==t&&D(_,t.startTime-e)}}function S(e,n){v=!1,m&&(m=!1,y(I),I=-1),p=!0;var o=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(_,f.startTime-n),u=!1}return u}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,T=null,I=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function A(){if(null!==T){var e=t.unstable_now();x=e;var n=!0;try{n=T(!0,e)}finally{n?E():(k=!1,T=null)}}else k=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=A,E=function(){R.postMessage(null)}}else E=function(){g(A,0)};function O(e){T=e,k||(k=!0,E())}function D(e,n){I=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(m?(y(I),I=-1):m=!0,D(_,o-a))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".55f6f53b.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="instagram_n:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkinstagram_n=self.webpackChunkinstagram_n||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n.t(e,2),r=n(250);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=c(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var l=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=c(e))&&(r&&(r+=" "),r+=t);return r};function f(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}function h(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},p=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,v=d((function(e){return p.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var m=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(Uy){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),g=Math.abs,y=String.fromCharCode,b=Object.assign;function w(e){return e.trim()}function _(e,t,n){return e.replace(t,n)}function S(e,t){return e.indexOf(t)}function E(e,t){return 0|e.charCodeAt(t)}function k(e,t,n){return e.slice(t,n)}function T(e){return e.length}function I(e){return e.length}function C(e,t){return t.push(e),e}var x=1,N=1,A=0,P=0,R=0,O="";function D(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:x,column:N,length:a,return:""}}function M(e,t){return b(D("",null,null,"",null,null,0),e,{length:-e.length},t)}function L(){return R=P>0?E(O,--P):0,N--,10===R&&(N=1,x--),R}function F(){return R=P<A?E(O,P++):0,N++,10===R&&(N=1,x++),R}function j(){return E(O,P)}function U(){return P}function q(e,t){return k(O,e,t)}function V(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function B(e){return x=N=1,A=T(O=e),P=0,[]}function z(e){return O="",e}function W(e){return w(q(P-1,G(91===e?e+2:40===e?e+1:e)))}function K(e){for(;(R=j())&&R<33;)F();return V(e)>2||V(R)>3?"":" "}function H(e,t){for(;--t&&F()&&!(R<48||R>102||R>57&&R<65||R>70&&R<97););return q(e,U()+(t<6&&32==j()&&32==F()))}function G(e){for(;F();)switch(R){case e:return P;case 34:case 39:34!==e&&39!==e&&G(R);break;case 40:41===e&&G(e);break;case 92:F()}return P}function Q(e,t){for(;F()&&e+R!==57&&(e+R!==84||47!==j()););return"/*"+q(t,P-1)+"*"+y(47===e?e:F())}function $(e){for(;!V(j());)F();return q(e,P)}var Y="-ms-",X="-moz-",J="-webkit-",Z="comm",ee="rule",te="decl",ne="@keyframes";function re(e,t){for(var n="",r=I(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ie(e,t,n,r){switch(e.type){case"@import":case te:return e.return=e.return||e.value;case Z:return"";case ne:return e.return=e.value+"{"+re(e.children,r)+"}";case ee:e.value=e.props.join(",")}return T(n=re(e.children,r))?e.return=e.value+"{"+n+"}":""}function oe(e,t){switch(function(e,t){return(((t<<2^E(e,0))<<2^E(e,1))<<2^E(e,2))<<2^E(e,3)}(e,t)){case 5103:return J+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return J+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return J+e+X+e+Y+e+e;case 6828:case 4268:return J+e+Y+e+e;case 6165:return J+e+Y+"flex-"+e+e;case 5187:return J+e+_(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return J+e+Y+"flex-item-"+_(e,/flex-|-self/,"")+e;case 4675:return J+e+Y+"flex-line-pack"+_(e,/align-content|flex-|-self/,"")+e;case 5548:return J+e+Y+_(e,"shrink","negative")+e;case 5292:return J+e+Y+_(e,"basis","preferred-size")+e;case 6060:return J+"box-"+_(e,"-grow","")+J+e+Y+_(e,"grow","positive")+e;case 4554:return J+_(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return _(_(_(e,/(zoom-|grab)/,J+"$1"),/(image-set)/,J+"$1"),e,"")+e;case 5495:case 3959:return _(e,/(image-set\([^]*)/,J+"$1$`$1");case 4968:return _(_(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+J+e+e;case 4095:case 3583:case 4068:case 2532:return _(e,/(.+)-inline(.+)/,J+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(T(e)-1-t>6)switch(E(e,t+1)){case 109:if(45!==E(e,t+4))break;case 102:return _(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+X+(108==E(e,t+3)?"$3":"$2-$3"))+e;case 115:return~S(e,"stretch")?oe(_(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==E(e,t+1))break;case 6444:switch(E(e,T(e)-3-(~S(e,"!important")&&10))){case 107:return _(e,":",":"+J)+e;case 101:return _(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+J+(45===E(e,14)?"inline-":"")+"box$3$1"+J+"$2$3$1"+Y+"$2box$3")+e}break;case 5936:switch(E(e,t+11)){case 114:return J+e+Y+_(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return J+e+Y+_(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return J+e+Y+_(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return J+e+Y+e+e}return e}function ae(e){return z(se("",null,null,null,[""],e=B(e),0,[0],e))}function se(e,t,n,r,i,o,a,s,u){for(var c=0,l=0,f=a,h=0,d=0,p=0,v=1,m=1,g=1,b=0,w="",E=i,k=o,I=r,x=w;m;)switch(p=b,b=F()){case 40:if(108!=p&&58==x.charCodeAt(f-1)){-1!=S(x+=_(W(b),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:x+=W(b);break;case 9:case 10:case 13:case 32:x+=K(p);break;case 92:x+=H(U()-1,7);continue;case 47:switch(j()){case 42:case 47:C(ce(Q(F(),U()),t,n),u);break;default:x+="/"}break;case 123*v:s[c++]=T(x)*g;case 125*v:case 59:case 0:switch(b){case 0:case 125:m=0;case 59+l:d>0&&T(x)-f&&C(d>32?le(x+";",r,n,f-1):le(_(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(C(I=ue(x,t,n,c,l,i,s,w,E=[],k=[],f),o),123===b)if(0===l)se(x,t,I,I,E,o,f,s,k);else switch(h){case 100:case 109:case 115:se(e,I,I,r&&C(ue(e,I,I,0,0,i,s,w,i,E=[],f),k),i,k,f,s,r?E:k);break;default:se(x,I,I,I,[""],k,0,s,k)}}c=l=d=0,v=g=1,w=x="",f=a;break;case 58:f=1+T(x),d=p;default:if(v<1)if(123==b)--v;else if(125==b&&0==v++&&125==L())continue;switch(x+=y(b),b*v){case 38:g=l>0?1:(x+="\f",-1);break;case 44:s[c++]=(T(x)-1)*g,g=1;break;case 64:45===j()&&(x+=W(F())),h=j(),l=f=T(w=x+=$(U())),b++;break;case 45:45===p&&2==T(x)&&(v=0)}}return o}function ue(e,t,n,r,i,o,a,s,u,c,l){for(var f=i-1,h=0===i?o:[""],d=I(h),p=0,v=0,m=0;p<r;++p)for(var y=0,b=k(e,f+1,f=g(v=a[p])),S=e;y<d;++y)(S=w(v>0?h[y]+" "+b:_(b,/&\f/g,h[y])))&&(u[m++]=S);return D(e,t,n,0===i?ee:s,u,c,l)}function ce(e,t,n){return D(e,t,n,Z,y(R),k(e,2,-2),0)}function le(e,t,n,r){return D(e,t,n,te,k(e,0,r),k(e,r+1,-1),r)}var fe=function(e,t,n){for(var r=0,i=0;r=i,i=j(),38===r&&12===i&&(t[n]=1),!V(i);)F();return q(e,P)},he=function(e,t){return z(function(e,t){var n=-1,r=44;do{switch(V(r)){case 0:38===r&&12===j()&&(t[n]=1),e[n]+=fe(P-1,t,n);break;case 2:e[n]+=W(r);break;case 4:if(44===r){e[++n]=58===j()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=y(r)}}while(r=F());return e}(B(e),t))},de=new WeakMap,pe=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||de.get(n))&&!r){de.set(e,!0);for(var i=[],o=he(t,i),a=n.props,s=0,u=0;s<o.length;s++)for(var c=0;c<a.length;c++,u++)e.props[u]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},ve=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},me=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case te:e.return=oe(e.value,e.length);break;case ne:return re([M(e,{value:_(e.value,"@","@"+J)})],r);case ee:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return re([M(e,{props:[_(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return re([M(e,{props:[_(t,/:(plac\w+)/,":-webkit-input-$1")]}),M(e,{props:[_(t,/:(plac\w+)/,":-moz-$1")]}),M(e,{props:[_(t,/:(plac\w+)/,Y+"input-$1")]})],r)}return""}))}}],ge=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||me;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var u,c,l=[ie,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=I(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([pe,ve].concat(r,l));o=function(e,t,n,r){u=n,function(e){re(ae(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new m({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return h.sheet.hydrate(s),h};var ye=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},be={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},we=/[A-Z]|^ms/g,_e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Se=function(e){return 45===e.charCodeAt(1)},Ee=function(e){return null!=e&&"boolean"!==typeof e},ke=d((function(e){return Se(e)?e:e.replace(we,"-$&").toLowerCase()})),Te=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(_e,(function(e,t,n){return Ce={name:t,styles:n,next:Ce},t}))}return 1===be[e]||Se(e)||"number"!==typeof t||0===t?t:t+"px"};function Ie(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Ce={name:n.name,styles:n.styles,next:Ce},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Ce={name:r.name,styles:r.styles,next:Ce},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ie(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":Ee(a)&&(r+=ke(o)+":"+Te(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=Ie(e,t,a);switch(o){case"animation":case"animationName":r+=ke(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)Ee(a[u])&&(r+=ke(o)+":"+Te(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Ce,o=n(e);return Ce=i,Ie(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var Ce,xe=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ne=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Ce=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Ie(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=Ie(n,t,e[a]),r&&(i+=o[a]);xe.lastIndex=0;for(var s,u="";null!==(s=xe.exec(i));)u+="-"+s[1];return{name:ye(i)+u,styles:i,next:Ce}},Ae=(0,e.createContext)("undefined"!==typeof HTMLElement?ge({key:"css"}):null);Ae.Provider;var Pe=function(t){return(0,e.forwardRef)((function(n,r){var i=(0,e.useContext)(Ae);return t(n,i,r)}))},Re=(0,e.createContext)({});t.useInsertionEffect&&t.useInsertionEffect;function Oe(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var De=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Me=function(e,t,n){De(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},Le=v,Fe=function(e){return"theme"!==e},je=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Le:Fe},Ue=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},qe=t.useInsertionEffect?t.useInsertionEffect:function(e){e()};var Ve=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;De(t,n,r);qe((function(){return Me(t,n,r)}));return null},Be=function t(n,r){var i,o,a=n.__emotion_real===n,s=a&&n.__emotion_base||n;void 0!==r&&(i=r.label,o=r.target);var c=Ue(n,r,a),l=c||je(s),f=!l("as");return function(){var h=arguments,d=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=Pe((function(t,n,r){var i=f&&t.as||s,a="",u=[],h=t;if(null==t.theme){for(var p in h={},t)h[p]=t[p];h.theme=(0,e.useContext)(Re)}"string"===typeof t.className?a=Oe(n.registered,u,t.className):null!=t.className&&(a=t.className+" ");var v=Ne(d.concat(u),n.registered,h);a+=n.key+"-"+v.name,void 0!==o&&(a+=" "+o);var m=f&&void 0===c?je(i):l,g={};for(var y in t)f&&"as"===y||m(y)&&(g[y]=t[y]);return g.className=a,g.ref=r,(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Ve,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,e.createElement)(i,g))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=d,m.__emotion_forwardProp=c,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(e,n){return t(e,u({},r,n,{shouldForwardProp:Ue(m,n,!0)})).apply(void 0,d)},m}},ze=Be.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){ze[e]=ze(e)}));var We=ze;function Ke(e,t){return We(e,t)}function He(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function Ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?u({},e):e;return He(e)&&He(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(He(t[i])&&i in e&&He(e[i])?r[i]=Ge(e[i],t[i],n):r[i]=t[i])})),r}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e=["values","unit","step"];function Ye(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,o=e.step,a=void 0===o?5:o,c=s(e,$e),l=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return u({},e,Qe({},t.key,t.val))}),{})}(n),f=Object.keys(l);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-a/100).concat(i,")")}function p(e,t){var r=f.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[f[r]]?n[f[r]]:t)-a/100).concat(i,")")}return u({keys:f,values:l,up:h,down:d,between:p,only:function(e){return f.indexOf(e)+1<f.length?p(e,f[f.indexOf(e)+1]):h(e)},not:function(e){var t=f.indexOf(e);return 0===t?h(f[1]):t===f.length-1?d(f[t]):p(e,f[f.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},c)}var Xe={borderRadius:4},Je={xs:0,sm:600,md:900,lg:1200,xl:1536},Ze={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Je[e],"px)")}};function et(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||Ze;return t.reduce((function(e,r,o){return e[i.up(i.keys[o])]=n(t[o]),e}),{})}if("object"===typeof t){var o=r.breakpoints||Ze;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(o.values||Je).indexOf(r)){e[o.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function tt(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function nt(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function rt(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function it(e){if("string"!==typeof e)throw new Error(rt(7));return e.charAt(0).toUpperCase()+e.slice(1)}function ot(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function at(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:ot(e,n)||i,t&&(r=t(r)),r}var st=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var n=e[t],a=ot(e.theme,i)||{};return et(e,n,(function(e){var n=at(a,o,e);return e===n&&"string"===typeof e&&(n=at(a,o,"".concat(t).concat("default"===e?"":it(e)),e)),!1===r?n:Qe({},r,n)}))};return a.propTypes={},a.filterProps=[t],a};var ut=function(e,t){return t?Ge(e,t,{clone:!1}):e};var ct={m:"margin",p:"padding"},lt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ft={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ht=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!ft[e])return[e];e=ft[e]}var t=a(e.split(""),2),n=t[0],r=t[1],i=ct[n],o=lt[r]||"";return Array.isArray(o)?o.map((function(e){return i+e})):[i+o]})),dt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],pt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],vt=[].concat(dt,pt);function mt(e,t,n,r){var i,o=null!=(i=ot(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function gt(e){return mt(e,"spacing",8)}function yt(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function bt(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=yt(t,n),e}),{})}}(ht(n),r);return et(e,e[n],i)}function wt(e,t){var n=gt(e.theme);return Object.keys(e).map((function(r){return bt(e,t,r,n)})).reduce(ut,{})}function _t(e){return wt(e,dt)}function St(e){return wt(e,pt)}function Et(e){return wt(e,vt)}_t.propTypes={},_t.filterProps=dt,St.propTypes={},St.filterProps=pt,Et.propTypes={},Et.filterProps=vt;var kt=Et;function Tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=gt({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var It=["breakpoints","palette","spacing","shape"];var Ct=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.spacing,a=e.shape,c=void 0===a?{}:a,l=s(e,It),f=Ye(n),h=Tt(o),d=Ge({breakpoints:f,direction:"ltr",components:{},palette:u({mode:"light"},i),spacing:h,shape:u({},Xe,c)},l),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return d=v.reduce((function(e,t){return Ge(e,t)}),d)},xt=["variant"];function Nt(e){return 0===e.length}function At(e){var t=e.variant,n=s(e,xt),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Nt(r)?e[t]:it(e[t]):"".concat(Nt(r)?t:it(t)).concat(it(e[t].toString()))})),r}var Pt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?ut(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Rt(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Ot=st({prop:"border",themeKey:"borders",transform:Rt}),Dt=st({prop:"borderTop",themeKey:"borders",transform:Rt}),Mt=st({prop:"borderRight",themeKey:"borders",transform:Rt}),Lt=st({prop:"borderBottom",themeKey:"borders",transform:Rt}),Ft=st({prop:"borderLeft",themeKey:"borders",transform:Rt}),jt=st({prop:"borderColor",themeKey:"palette"}),Ut=st({prop:"borderTopColor",themeKey:"palette"}),qt=st({prop:"borderRightColor",themeKey:"palette"}),Vt=st({prop:"borderBottomColor",themeKey:"palette"}),Bt=st({prop:"borderLeftColor",themeKey:"palette"}),zt=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=mt(e.theme,"shape.borderRadius",4);return et(e,e.borderRadius,(function(e){return{borderRadius:yt(t,e)}}))}return null};zt.propTypes={},zt.filterProps=["borderRadius"];var Wt=Pt(Ot,Dt,Mt,Lt,Ft,jt,Ut,qt,Vt,Bt,zt),Kt=Pt(st({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),st({prop:"display"}),st({prop:"overflow"}),st({prop:"textOverflow"}),st({prop:"visibility"}),st({prop:"whiteSpace"})),Ht=Pt(st({prop:"flexBasis"}),st({prop:"flexDirection"}),st({prop:"flexWrap"}),st({prop:"justifyContent"}),st({prop:"alignItems"}),st({prop:"alignContent"}),st({prop:"order"}),st({prop:"flex"}),st({prop:"flexGrow"}),st({prop:"flexShrink"}),st({prop:"alignSelf"}),st({prop:"justifyItems"}),st({prop:"justifySelf"})),Gt=function(e){if(void 0!==e.gap&&null!==e.gap){var t=mt(e.theme,"spacing",8);return et(e,e.gap,(function(e){return{gap:yt(t,e)}}))}return null};Gt.propTypes={},Gt.filterProps=["gap"];var Qt=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=mt(e.theme,"spacing",8);return et(e,e.columnGap,(function(e){return{columnGap:yt(t,e)}}))}return null};Qt.propTypes={},Qt.filterProps=["columnGap"];var $t=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=mt(e.theme,"spacing",8);return et(e,e.rowGap,(function(e){return{rowGap:yt(t,e)}}))}return null};$t.propTypes={},$t.filterProps=["rowGap"];var Yt=Pt(Gt,Qt,$t,st({prop:"gridColumn"}),st({prop:"gridRow"}),st({prop:"gridAutoFlow"}),st({prop:"gridAutoColumns"}),st({prop:"gridAutoRows"}),st({prop:"gridTemplateColumns"}),st({prop:"gridTemplateRows"}),st({prop:"gridTemplateAreas"}),st({prop:"gridArea"})),Xt=Pt(st({prop:"position"}),st({prop:"zIndex",themeKey:"zIndex"}),st({prop:"top"}),st({prop:"right"}),st({prop:"bottom"}),st({prop:"left"})),Jt=Pt(st({prop:"color",themeKey:"palette"}),st({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),st({prop:"backgroundColor",themeKey:"palette"})),Zt=st({prop:"boxShadow",themeKey:"shadows"});function en(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var tn=st({prop:"width",transform:en}),nn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return et(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||Je[t]||en(t)}}))}return null};nn.filterProps=["maxWidth"];var rn=st({prop:"minWidth",transform:en}),on=st({prop:"height",transform:en}),an=st({prop:"maxHeight",transform:en}),sn=st({prop:"minHeight",transform:en}),un=(st({prop:"size",cssProperty:"width",transform:en}),st({prop:"size",cssProperty:"height",transform:en}),Pt(tn,nn,rn,on,an,sn,st({prop:"boxSizing"}))),cn=st({prop:"fontFamily",themeKey:"typography"}),ln=st({prop:"fontSize",themeKey:"typography"}),fn=st({prop:"fontStyle",themeKey:"typography"}),hn=st({prop:"fontWeight",themeKey:"typography"}),dn=st({prop:"letterSpacing"}),pn=st({prop:"textTransform"}),vn=st({prop:"lineHeight"}),mn=st({prop:"textAlign"}),gn=Pt(st({prop:"typography",cssProperty:!1,themeKey:"typography"}),cn,ln,fn,hn,dn,vn,mn,pn),yn={borders:Wt.filterProps,display:Kt.filterProps,flexbox:Ht.filterProps,grid:Yt.filterProps,positions:Xt.filterProps,palette:Jt.filterProps,shadows:Zt.filterProps,sizing:un.filterProps,spacing:kt.filterProps,typography:gn.filterProps},bn={borders:Wt,display:Kt,flexbox:Ht,grid:Yt,positions:Xt,palette:Jt,shadows:Zt,sizing:un,spacing:kt,typography:gn},wn=Object.keys(yn).reduce((function(e,t){return yn[t].forEach((function(n){e[n]=bn[t]})),e}),{});function _n(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function Sn(e,t){return"function"===typeof e?e(t):e}var En=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,o=(Qe(i={},e,n),Qe(i,"theme",r),i),a=t[e];return a?a(o):Qe({},e,n)}function r(e){var i=e||{},o=i.sx,a=i.theme,s=void 0===a?{}:a;if(!o)return null;function u(e){var i=e;if("function"===typeof e)i=e(s);else if("object"!==typeof e)return e;if(!i)return null;var o=tt(s.breakpoints),a=Object.keys(o),u=o;return Object.keys(i).forEach((function(e){var o=Sn(i[e],s);if(null!==o&&void 0!==o)if("object"===typeof o)if(t[e])u=ut(u,n(e,o,s));else{var a=et({theme:s},o,(function(t){return Qe({},e,t)}));_n(a,o)?u[e]=r({sx:o,theme:s}):u=ut(u,a)}else u=ut(u,n(e,o,s))})),nt(a,u)}return Array.isArray(o)?o.map(u):u(o)}return r}();En.filterProps=["sx"];var kn=En,Tn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],In=["theme"],Cn=["theme"];function xn(e){return 0===Object.keys(e).length}var Nn=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},An=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=At(e.props);r[t]=e.style})),r},Pn=function(e,t,n,r){var i,o,a=e.ownerState,s=void 0===a?{}:a,u=[],c=null==n||null==(i=n.components)||null==(o=i[r])?void 0:o.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[At(n.props)])})),u};function Rn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var On=Ct();function Dn(e,t){var n;return u({toolbar:(n={minHeight:56},Qe(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),Qe(n,e.up("sm"),{minHeight:64}),n)},t)}function Mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Ln(e){if(e.type)return e;if("#"===e.charAt(0))return Ln(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(rt(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(rt(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Fn(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function jn(e){var t="hsl"===(e=Ln(e)).type?Ln(function(e){var t=(e=Ln(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),Fn({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Un(e,t){return e=Ln(e),t=Mn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Fn(e)}function qn(e,t){if(e=Ln(e),t=Mn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Fn(e)}function Vn(e,t){if(e=Ln(e),t=Mn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Fn(e)}var Bn={black:"#000",white:"#fff"},zn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Wn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Kn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Hn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Gn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Qn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},$n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Yn=["mode","contrastThreshold","tonalOffset"],Xn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Bn.white,default:Bn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Jn={text:{primary:Bn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Bn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Zn(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Vn(e.main,i):"dark"===t&&(e.dark=qn(e.main,o)))}function er(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,a=void 0===o?.2:o,c=s(e,Yn),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Gn[200],light:Gn[50],dark:Gn[400]}:{main:Gn[700],light:Gn[400],dark:Gn[800]}}(n),f=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Wn[200],light:Wn[50],dark:Wn[400]}:{main:Wn[500],light:Wn[300],dark:Wn[700]}}(n),h=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Kn[500],light:Kn[300],dark:Kn[700]}:{main:Kn[700],light:Kn[400],dark:Kn[800]}}(n),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Qn[400],light:Qn[300],dark:Qn[700]}:{main:Qn[700],light:Qn[500],dark:Qn[900]}}(n),p=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:$n[400],light:$n[300],dark:$n[700]}:{main:$n[800],light:$n[500],dark:$n[900]}}(n),v=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Hn[400],light:Hn[300],dark:Hn[700]}:{main:"#ed6c02",light:Hn[500],dark:Hn[900]}}(n);function m(e){var t=function(e,t){var n=jn(e),r=jn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Jn.text.primary)>=i?Jn.text.primary:Xn.text.primary;return t}var g=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,c=e.darkShade,l=void 0===c?700:c;if(!(t=u({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(rt(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(rt(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Zn(t,"light",s,a),Zn(t,"dark",l,a),t.contrastText||(t.contrastText=m(t.main)),t},y={dark:Jn,light:Xn};return Ge(u({common:u({},Bn),mode:n,primary:g({color:l,name:"primary"}),secondary:g({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:h,name:"error"}),warning:g({color:v,name:"warning"}),info:g({color:d,name:"info"}),success:g({color:p,name:"success"}),grey:zn,contrastThreshold:i,getContrastText:m,augmentColor:g,tonalOffset:a},y[n]),c)}var tr=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var nr={textTransform:"uppercase"},rr='"Roboto", "Helvetica", "Arial", sans-serif';function ir(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?rr:r,o=n.fontSize,a=void 0===o?14:o,c=n.fontWeightLight,l=void 0===c?300:c,f=n.fontWeightRegular,h=void 0===f?400:f,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,g=n.htmlFontSize,y=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,_=s(n,tr);var S=a/14,E=w||function(e){return"".concat(e/y*S,"rem")},k=function(e,t,n,r,o){return u({fontFamily:i,fontWeight:e,fontSize:E(t),lineHeight:n},i===rr?{letterSpacing:"".concat((a=r/t,Math.round(1e5*a)/1e5),"em")}:{},o,b);var a},T={h1:k(l,96,1.167,-1.5),h2:k(l,60,1.2,-.5),h3:k(h,48,1.167,0),h4:k(h,34,1.235,.25),h5:k(h,24,1.334,0),h6:k(p,20,1.6,.15),subtitle1:k(h,16,1.75,.15),subtitle2:k(p,14,1.57,.1),body1:k(h,16,1.5,.15),body2:k(h,14,1.43,.15),button:k(p,14,1.75,.4,nr),caption:k(h,12,1.66,.4),overline:k(h,12,2.66,1,nr)};return Ge(u({htmlFontSize:y,pxToRem:E,fontFamily:i,fontSize:a,fontWeightLight:l,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:m},T),_,{clone:!1})}function or(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var ar=["none",or(0,2,1,-1,0,1,1,0,0,1,3,0),or(0,3,1,-2,0,2,2,0,0,1,5,0),or(0,3,3,-2,0,3,4,0,0,1,8,0),or(0,2,4,-1,0,4,5,0,0,1,10,0),or(0,3,5,-1,0,5,8,0,0,1,14,0),or(0,3,5,-1,0,6,10,0,0,1,18,0),or(0,4,5,-2,0,7,10,1,0,2,16,1),or(0,5,5,-3,0,8,10,1,0,3,14,2),or(0,5,6,-3,0,9,12,1,0,3,16,2),or(0,6,6,-3,0,10,14,1,0,4,18,3),or(0,6,7,-4,0,11,15,1,0,4,20,3),or(0,7,8,-4,0,12,17,2,0,5,22,4),or(0,7,8,-4,0,13,19,2,0,5,24,4),or(0,7,9,-4,0,14,21,2,0,5,26,4),or(0,8,9,-5,0,15,22,2,0,6,28,5),or(0,8,10,-5,0,16,24,2,0,6,30,5),or(0,8,11,-5,0,17,26,2,0,6,32,5),or(0,9,11,-5,0,18,28,2,0,7,34,6),or(0,9,12,-6,0,19,29,2,0,7,36,6),or(0,10,13,-6,0,20,31,3,0,8,38,7),or(0,10,13,-6,0,21,33,3,0,8,40,7),or(0,10,14,-6,0,22,35,3,0,8,42,7),or(0,11,14,-7,0,23,36,3,0,9,44,8),or(0,11,15,-7,0,24,38,3,0,9,46,8)],sr=["duration","easing","delay"],ur={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},cr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lr(e){return"".concat(Math.round(e),"ms")}function fr(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function hr(e){var t=u({},ur,e.easing),n=u({},cr,e.duration);return u({getAutoHeightDuration:fr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,o=void 0===i?n.standard:i,a=r.easing,u=void 0===a?t.easeInOut:a,c=r.delay,l=void 0===c?0:c;s(r,sr);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:lr(o)," ").concat(u," ").concat("string"===typeof l?l:lr(l))})).join(",")}},e,{easing:t,duration:n})}var dr={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},pr=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.transitions,a=void 0===o?{}:o,c=e.typography,l=void 0===c?{}:c,f=s(e,pr);if(e.vars)throw new Error(rt(18));var h=er(i),d=Ct(e),p=Ge(d,{mixins:Dn(d.breakpoints,n),palette:h,shadows:ar.slice(),typography:ir(h,l),transitions:hr(a),zIndex:u({},dr)});p=Ge(p,f);for(var v=arguments.length,m=new Array(v>1?v-1:0),g=1;g<v;g++)m[g-1]=arguments[g];return p=m.reduce((function(e,t){return Ge(e,t)}),p)}var mr=vr,gr=mr(),yr=function(e){return Rn(e)&&"classes"!==e},br=Rn,wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?On:t,r=e.rootShouldForwardProp,i=void 0===r?Rn:r,o=e.slotShouldForwardProp,c=void 0===o?Rn:o,l=e.styleFunctionSx,f=void 0===l?kn:l;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.name,l=r.slot,d=r.skipVariantsResolver,p=r.skipSx,v=r.overridesResolver,m=s(r,Tn),g=void 0!==d?d:l&&"Root"!==l||!1,y=p||!1;var b=Rn;"Root"===l?b=i:l&&(b=c);var w=Ke(e,u({shouldForwardProp:b,label:t},m)),_=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var c=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=s(t,In);return e(u({theme:xn(r)?n:r},i))}:e})):[],l=e;o&&v&&c.push((function(e){var t=xn(e.theme)?n:e.theme,r=Nn(o,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=a(n,2),o=r[0],s=r[1];i[o]="function"===typeof s?s(u({},e,{theme:t})):s})),v(e,i)}return null})),o&&!g&&c.push((function(e){var t=xn(e.theme)?n:e.theme;return Pn(e,An(o,t),t,o)})),y||c.push((function(e){var t=xn(e.theme)?n:e.theme;return f(u({},e,{theme:t}))}));var d=c.length-r.length;if(Array.isArray(e)&&d>0){var p=new Array(d).fill("");(l=[].concat(h(e),h(p))).raw=[].concat(h(e.raw),h(p))}else"function"===typeof e&&e.__emotion_real!==e&&(l=function(t){var r=t.theme,i=s(t,Cn);return e(u({theme:xn(r)?n:r},i))});var m=w.apply(void 0,[l].concat(h(c)));return m};return w.withConfig&&(_.withConfig=w.withConfig),_}}({defaultTheme:gr,rootShouldForwardProp:yr}),_r=wr;function Sr(e,t){var n=u({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}var Er=e.createContext(null);function kr(){return e.useContext(Er)}function Tr(e){return 0===Object.keys(e).length}var Ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=kr();return!t||Tr(t)?e:t},Cr=Ct();var xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr;return Ir(e)};function Nr(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Sr(t.components[n].defaultProps,r):r}({theme:xr(r),name:n,props:t});return i}function Ar(e){return Nr({props:e.props,name:e.name,defaultTheme:gr})}var Pr=it,Rr=function(e){return e},Or=function(){var e=Rr;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Rr}}}(),Dr={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Mr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=Dr[t];return r?"".concat(n,"-").concat(r):"".concat(Or.generate(e),"-").concat(t)}function Lr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=Mr(e,t,n)})),r}function Fr(e){return Mr("MuiSvgIcon",e)}Lr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var jr=n(184),Ur=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],qr=_r("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Pr(n.color))],t["fontSize".concat(Pr(n.fontSize))]]}})((function(e){var t,n,r,i,o,a,s,u,c,l,f,h,d,p,v,m,g,y=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=y.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(o=y.typography)||null==(a=o.pxToRem)?void 0:a.call(o,20))||"1.25rem",medium:(null==(s=y.typography)||null==(u=s.pxToRem)?void 0:u.call(s,24))||"1.5rem",large:(null==(c=y.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[b.fontSize],color:null!=(f=null==(h=(y.vars||y).palette)||null==(d=h[b.color])?void 0:d.main)?f:{action:null==(p=(y.vars||y).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(y.vars||y).palette)||null==(g=m.action)?void 0:g.disabled,inherit:void 0}[b.color]}})),Vr=e.forwardRef((function(e,t){var n=Ar({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,o=n.color,a=void 0===o?"inherit":o,c=n.component,h=void 0===c?"svg":c,d=n.fontSize,p=void 0===d?"medium":d,v=n.htmlColor,m=n.inheritViewBox,g=void 0!==m&&m,y=n.titleAccess,b=n.viewBox,w=void 0===b?"0 0 24 24":b,_=s(n,Ur),S=u({},n,{color:a,component:h,fontSize:p,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:w}),E={};g||(E.viewBox=w);var k=function(e){var t=e.color,n=e.fontSize,r=e.classes;return f({root:["root","inherit"!==t&&"color".concat(Pr(t)),"fontSize".concat(Pr(n))]},Fr,r)}(S);return(0,jr.jsxs)(qr,u({as:h,className:l(k.root,i),ownerState:S,focusable:"false",color:v,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},E,_,{children:[r,y?(0,jr.jsx)("title",{children:y}):null]}))}));Vr.muiName="SvgIcon";var Br=Vr;function zr(t,n){var r=function(e,r){return(0,jr.jsx)(Br,u({"data-testid":"".concat(n,"Icon"),ref:r},e,{children:t}))};return r.muiName=Br.muiName,e.memo(e.forwardRef(r))}var Wr=zr((0,jr.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Kr(e){return Mr("MuiAvatar",e)}Lr("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var Hr=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],Gr=_r("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return u({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&u({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),Qr=_r("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),$r=_r(Wr,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var Yr=e.forwardRef((function(t,n){var r=Ar({props:t,name:"MuiAvatar"}),i=r.alt,o=r.children,c=r.className,h=r.component,d=void 0===h?"div":h,p=r.imgProps,v=r.sizes,m=r.src,g=r.srcSet,y=r.variant,b=void 0===y?"circular":y,w=s(r,Hr),_=null,S=function(t){var n=t.crossOrigin,r=t.referrerPolicy,i=t.src,o=t.srcSet,s=a(e.useState(!1),2),u=s[0],c=s[1];return e.useEffect((function(){if(i||o){c(!1);var e=!0,t=new Image;return t.onload=function(){e&&c("loaded")},t.onerror=function(){e&&c("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,o&&(t.srcset=o),function(){e=!1}}}),[n,r,i,o]),u}(u({},p,{src:m,srcSet:g})),E=m||g,k=E&&"error"!==S,T=u({},r,{colorDefault:!k,component:d,variant:b}),I=function(e){var t=e.classes;return f({root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]},Kr,t)}(T);return _=k?(0,jr.jsx)(Qr,u({alt:i,src:m,srcSet:g,sizes:v,ownerState:T,className:I.img},p)):null!=o?o:E&&i?i[0]:(0,jr.jsx)($r,{className:I.fallback}),(0,jr.jsx)(Gr,u({as:d,ownerState:T,className:l(I.root,c),ref:n},w,{children:_}))})),Xr=Yr,Jr=n(740);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(pi){this.f(pi)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(pi){n.reject(pi)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(Ms){o(Ms)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function f(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==h(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++y)}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now;function k(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function T(e){return e}function I(e,t,n){this.code=N+e,this.message=t||A[e]||"",this.a=n||null}function C(e){var t=e&&e.code;return t?new I(t.substring(N.length),e.message,e.serverResponse):null}k(I,Error),I.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},I.prototype.toJSON=function(){return this.w()};var x,N="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(e){for(var t in P)if(P[t].id===e)return{firebaseEndpoint:(e=P[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function O(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function M(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");D.call(this,n+e[r])}function L(e,t){throw new M("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function j(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}x=R("__EID__")?"__EID__":void 0,k(D,Error),D.prototype.name="CustomError",k(M,D),M.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var q=new F((function(){return new B}),(function(e){e.reset()}));function V(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=q.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var K=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},H=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},G=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Q(e,t){return 0<=z(e,t)}function $(e,t){var n;return(n=0<=(t=z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function X(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,ae=/\x00/g,se=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=s.navigator;if(le){var fe=le.userAgent;if(fe){Z=fe;break e}}Z=""}function he(e){return ue(Z,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<me.length;o++)n=me[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ye(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function be(e,t){this.a=e===Ee&&t||"",this.b=Se}function we(e){return e instanceof be&&e.constructor===be&&e.b===Se?e.a:(L("expected object of type Const, got '"+e+"'"),"type_error:Const")}be.prototype.ta=!0,be.prototype.sa=function(){return this.a},be.prototype.toString=function(){return"Const{"+this.a+"}"};var _e,Se={},Ee={};function ke(){if(void 0===_e){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(n){s.console&&s.console.error(n.message)}_e=e}else _e=e}return _e}function Te(e,t){this.a=t===Ae?e:""}function Ie(e){return e instanceof Te&&e.constructor===Te?e.a:(L("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Ce(e,t){var n=we(e);if(!Ne.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=ke();return new Te(e=t?t.createScriptURL(e):e,Ae)}(e=n.replace(xe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof be?we(e):encodeURIComponent(String(e))})))}Te.prototype.ta=!0,Te.prototype.sa=function(){return this.a.toString()},Te.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xe=/%{(\w+)}/g,Ne=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ae={};function Pe(e,t){this.a=t===je?e:""}function Re(e){return e instanceof Pe&&e.constructor===Pe?e.a:(L("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Pe.prototype.ta=!0,Pe.prototype.sa=function(){return this.a.toString()},Pe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Oe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,De=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Me=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Le(e){if(e instanceof Pe)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Me.test(e))e=new Pe(e,je);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(De);e=t&&Oe.test(t[1])?new Pe(e,je):null}return e}function Fe(e){return e instanceof Pe?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Me.test(e)||(e="about:invalid#zClosurez"),new Pe(e,je))}var je={},Ue=new Pe("about:invalid#zClosurez",je);function qe(e,t,n){this.a=n===Ve?e:""}qe.prototype.ta=!0,qe.prototype.sa=function(){return this.a.toString()},qe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ve={};function Be(e,t,n,r){return e=e instanceof Pe?e:Fe(e),t=t||s,n=n instanceof be?we(n):n||"",t.open(Re(e),n,r,void 0)}function ze(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function We(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function Ke(e){return Ke[" "](e),e}Ke[" "]=f;var He,Ge=he("Opera"),Qe=he("Trident")||he("MSIE"),$e=he("Edge"),Ye=$e||Qe,Xe=he("Gecko")&&!(ue(Z.toLowerCase(),"webkit")&&!he("Edge"))&&!(he("Trident")||he("MSIE"))&&!he("Edge"),Je=ue(Z.toLowerCase(),"webkit")&&!he("Edge");function Ze(){var e=s.document;return e?e.documentMode:void 0}e:{var et="",tt=function(){var e=Z;return Xe?/rv:([^\);]+)(\)|;)/.exec(e):$e?/Edge\/([\d\.]+)/.exec(e):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Je?/WebKit\/(\S+)/.exec(e):Ge?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tt&&(et=tt?tt[1]:""),Qe){var nt=Ze();if(null!=nt&&nt>parseFloat(et)){He=String(nt);break e}}He=et}var rt,it={};function ot(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ee(String(He)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&Qe){var at=Ze();rt=at||(parseInt(He,10)||void 0)}else rt=void 0;var st=rt;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(da){}var ut=!Qe||9<=Number(st);function ct(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function lt(e,t){de(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:dt.hasOwnProperty(n)?e.setAttribute(dt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ft,ht,dt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}W(a?J(o):o,r)}}}function vt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function mt(e){s.setTimeout((function(){throw e}),0)}function gt(e,t){ht||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);ht=function(){e.then(wt)}}else ht=function(){var e=wt;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!he("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ft||(ft=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!he("Presto")&&(e=function(){var e=vt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=_((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!he("Trident")&&!he("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),ft(e)):s.setImmediate(e)}}(),yt||(ht(),yt=!0),bt.add(e,t)}var yt=!1,bt=new U;function wt(){for(var e;e=V();){try{e.a.call(e.b)}catch(t){mt(t)}j(q,e)}yt=!1}function _t(e,t){if(this.a=St,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){Mt(n,Et,e)}),(function(e){if(!(e instanceof Bt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(Uy){}Mt(n,kt,e)}))}catch(r){Mt(this,kt,r)}}var St=0,Et=2,kt=3;function Tt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Tt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var It=new F((function(){return new Tt}),(function(e){e.reset()}));function Ct(e,t,n){var r=It.get();return r.g=e,r.b=t,r.f=n,r}function xt(e){if(e instanceof _t)return e;var t=new _t(f);return Mt(t,Et,e),t}function Nt(e){return new _t((function(t,n){n(e)}))}function At(e,t,n){Lt(e,t,n,null)||gt(S(t,e))}function Pt(e){return new _t((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)At(e[o],S(i,o,!0),S(i,o,!1));else t(r)}))}function Rt(e,t){if(e.a==St)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==St&&1==r?Rt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):jt(n),Ut(n,i,kt,t)))}e.c=null}else Mt(e,kt,t)}function Ot(e,t){e.b||e.a!=Et&&e.a!=kt||Ft(e),e.f?e.f.next=t:e.b=t,e.f=t}function Dt(e,t,n,r){var i=Ct(null,null,null);return i.a=new _t((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(pi){o(pi)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Bt?o(t):e(i)}catch(pi){o(pi)}}:o})),i.a.c=e,Ot(e,i),i.a}function Mt(e,t,n){e.a==St&&(e===n&&(t=kt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Lt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ft(e),t!=kt||n instanceof Bt||function(e,t){e.g=!0,gt((function(){e.g&&Vt.call(null,t)}))}(e,n)))}function Lt(e,t,n,r){if(e instanceof _t)return Ot(e,Ct(t||f,n||null,r)),!0;if(O(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ft(e){e.h||(e.h=!0,gt(e.gc,e))}function jt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==kt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,qt(t,n,r);else try{t.c?t.g.call(t.f):qt(t,n,r)}catch(Uy){Vt.call(null,Uy)}j(It,t)}function qt(e,t,n){t==Et?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}_t.prototype.then=function(e,t,n){return Dt(this,p(e)?e:null,p(t)?t:null,n)},_t.prototype.$goog_Thenable=!0,(e=_t.prototype).oa=function(e,t){return(e=Ct(e,e,t)).c=!0,Ot(this,e),this},e.o=function(e,t){return Dt(this,null,e,t)},e.cancel=function(e){if(this.a==St){var t=new Bt(e);gt((function(){Rt(this,t)}),this)}},e.$c=function(e){this.a=St,Mt(this,Et,e)},e.ad=function(e){this.a=St,Mt(this,kt,e)},e.gc=function(){for(var e;e=jt(this);)Ut(this,e,this.a,this.i);this.h=!1};var Vt=mt;function Bt(e){D.call(this,e)}function zt(){0!=Wt&&(Kt[m(this)]=this),this.ya=this.ya,this.pa=this.pa}k(Bt,D),Bt.prototype.name="cancel";var Wt=0,Kt={};function Ht(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Wt)){var t=m(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Kt[t]}}zt.prototype.ya=!1,zt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Gt=Object.freeze||function(e){return e},Qt=!Qe||9<=Number(st),$t=Qe&&!ot("9"),Yt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",f,t),s.removeEventListener("test",f,t)}catch(n){}return e}();function Xt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Jt(e,t){if(Xt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Xe){e:{try{Ke(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Zt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Xt.prototype.preventDefault=function(){this.defaultPrevented=!0},k(Jt,Xt);var Zt=Gt({2:"touch",3:"pen",4:"mouse"});Jt.prototype.preventDefault=function(){Jt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,$t)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Jt.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function rn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function on(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=sn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new nn(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(e,t,n,r,i){if(r&&r.once)hn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=_n(n),e&&e[en]?En(e,t,n,v(r)?!!r.capture:!!r,i):fn(e,t,n,!1,r,i)}function fn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=bn(e);if(s||(e[un]=s=new on(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=yn,t=Qt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Yt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function hn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else n=_n(n),e&&e[en]?kn(e,t,n,v(r)?!!r.capture:!!r,i):fn(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=_n(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=sn(o=e.a[t],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=sn(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[en])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(an(n,e),0==n.b&&(n.src=null,t[un]=null)):rn(e)}}}function vn(e){return e in cn?cn[e]:cn[e]="on"+e}function mn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&pn(e),n.call(r,t)}function yn(e,t){if(e.wa)return!0;if(!Qt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Jt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=mn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=mn(r[i],e,!1,t),n=n&&o}return n}return gn(e,new Jt(t,this))}function bn(e){return(e=e[un])instanceof on?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(e){return p(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function Sn(){zt.call(this),this.v=new on(this),this.bc=this,this.hb=null}function En(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function kn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Tn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&an(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(e,t,n){if(p(e))n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Cn(e){var t=null;return new _t((function(n,r){-1==(t=In((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function xn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Nn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function An(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof An)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Pn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Rn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Rn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}k(Sn,zt),Sn.prototype[en]=!0,Sn.prototype.addEventListener=function(e,t,n,r){ln(this,e,t,n,r)},Sn.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},Sn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Xt(e,n);else if(e instanceof Xt)e.target=e.target||n;else{var i=e;ge(e=new Xt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Tn(a,r,!0,e)&&i}if(i=Tn(a=e.b=n,r,!0,e)&&i,i=Tn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Tn(a=e.b=t[o],r,!1,e)&&i;return i},Sn.prototype.Da=function(){if(Sn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rn(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=An.prototype).X=function(){Pn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Pn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Rn(this.b,e)?this.b[e]:t},e.set=function(e,t){Rn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Dn?(this.i=void 0!==t?t:e.i,Mn(this,e.c),this.l=e.l,this.a=e.a,Ln(this,e.g),this.f=e.f,Fn(this,nr(e.b)),this.h=e.h):e&&(n=String(e).match(On))?(this.i=!!t,Mn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Ln(this,n[4]),this.f=Bn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!t,this.b=new Yn(null,this.i))}function Mn(e,t,n){e.c=n?Bn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Ln(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Fn(e,t,n){t instanceof Yn?(e.b=t,function(e,t){t&&!e.f&&(Xn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zn(this,t),tr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=zn(t,Qn)),e.b=new Yn(t,e.i))}function jn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function qn(e){return e instanceof Dn?new Dn(e):new Dn(e,void 0)}function Vn(e,t,n,r){var i=new Dn(null,void 0);return e&&Mn(i,e),t&&(i.a=t),n&&Ln(i,n),r&&(i.f=r),i}function Bn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(zn(t,Kn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(zn(t,Kn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(zn(n,"/"==n.charAt(0)?Gn:Hn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",zn(n,$n)),e.join("")},Dn.prototype.resolve=function(e){var t=new Dn(this),n=!!e.c;n?Mn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Ln(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Fn(t,nr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Kn=/[#\/\?@]/g,Hn=/[#\?:]/g,Gn=/[#\?]/g,Qn=/[#\?@]/g,$n=/#/g;function Yn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Xn(e){e.a||(e.a=new An,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jn(e){var t=Nn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Yn(null,void 0);e=xn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Zn(e,t){Xn(e),t=rr(e,t),Rn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Rn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Pn(e)))}function er(e,t){return Xn(e),t=rr(e,t),Rn(e.a.b,t)}function tr(e,t,n){Zn(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),J(n)),e.b+=n.length)}function nr(e){var t=new Yn;return t.c=e.c,e.a&&(t.a=new An(e.a),t.b=e.b),t}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return ar(new or,e,t),t.join("")}function or(){}function ar(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ar(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),cr(r,n),n.push(":"),ar(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":cr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Yn.prototype).add=function(e,t){Xn(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Xn(this),this.a.forEach((function(n,r){W(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Xn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Xn(this);var t=[];if("string"===typeof e)er(this,e)&&(t=X(t,this.a.get(rr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return Xn(this),this.c=null,er(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ur=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(e,t){t.push('"',e.replace(ur,(function(e){var t=sr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),sr[e]=t),t})),'"')}function lr(){var e=Ar();return Qe&&!!st&&11==st||/Edge\/\d+/.test(e)}function fr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function hr(e,t){t=t||s.window;var n="about:blank";e&&(n=Re(Le(e)||Ue)),t.location.href=n}function dr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<dr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function pr(e){return!!((e=(e||Ar()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function vr(e){e=e||s.window;try{e.close()}catch(t){}}function mr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),Cr(Ar())==Tr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Pe?n:Le("undefined"!=typeof n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((he("iPhone")&&!he("iPod")&&!he("iPad")||he("iPad")||he("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ye(a=vt(document,"A"),"HTMLAnchorElement"),t=t instanceof Pe?t:Fe(t),a.href=Re(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Be("",r,n,a),e=Re(t),a&&(Ye&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(e)+'">',e=new qe(e=(r=ke())?r.createHTML(e):e,null,Ve),r=a.document)&&(r.write(function(e){return e instanceof qe&&e.constructor===qe?e.a:(L("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Be(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function br(){var e=null;return new _t((function(t){"complete"==s.document.readyState?t():(e=function(){t()},hn(window,"load",e))})).o((function(t){throw dn(window,"load",e),t}))}function wr(e){return e=e||Ar(),!("file:"!==Mr()&&"ionic:"!==Mr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var e=s.window;try{return!(!e||e==e.top)}catch(t){return!1}}function Sr(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Er(){return Jr.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Jr.default.INTERNAL.hasOwnProperty("node")?"Node":Sr()?"Worker":"Browser"}function kr(){var e=Er();return"ReactNative"===e||"Node"===e}var Tr="Firefox",Ir="Chrome";function Cr(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?Tr:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Ir:"Safari"}var xr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Nr(e,t){t=t||[];var n,r=[],i={};for(n in xr)i[xr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Er())?r=Cr(i=Ar()):"Worker"===r&&(r=Cr(i=Ar())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ar(){return s.navigator&&s.navigator.userAgent||""}function Pr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Rr(){try{var e=s.localStorage,t=qr();if(e)return e.setItem(t,"1"),e.removeItem(t),!lr()||!!s.indexedDB}catch(n){return Sr()&&!!s.indexedDB}return!1}function Or(){return(Dr()||"chrome-extension:"===Mr()||wr())&&!kr()&&Rr()&&!Sr()}function Dr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){return s.location&&s.location.protocol||null}function Lr(e){return!pr(e=e||Ar())&&Cr(e)!=Tr}function Fr(e){return"undefined"===typeof e?null:ir(e)}function jr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ur(e){if(null!==e)return JSON.parse(e)}function qr(e){return e||Math.floor(1e9*Math.random()).toString()}function Vr(e){return"Safari"!=Cr(e=e||Ar())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function zr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ar(),t=Er(),this.b=pr(e)||"ReactNative"===t}function Wr(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Kr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Hr(){return!(!Pr("fireauth.oauthhelper",s)&&!Pr("fireauth.iframe",s))}zr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Dr()&&"chrome-extension:"!==Mr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gr,Qr={};function $r(e){Qr[e]||(Qr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),Gr=2==Yr.abcd}catch(da){Gr=!1}function Xr(e,t,n){Gr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Zr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Xr(e,n,t[n])}function ei(e){var t={};return Zr(t,e),t}function ti(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Xr(t,n,ti(e[n]));return t}function ni(e){var t=e&&(e[si]?"phone":null);if(!(t&&e&&e[ai]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");Xr(this,"uid",e[ai]),Xr(this,"displayName",e[ii]||null);var n=null;e[oi]&&(n=new Date(e[oi]).toUTCString()),Xr(this,"enrollmentTime",n),Xr(this,"factorId",t)}function ri(e){try{var t=new ui(e)}catch(n){t=null}return t}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(e){ni.call(this,e),Xr(this,"phoneNumber",e[si])}function ci(e){var t={},n=e[di],r=e[mi],i=e[gi];if(e=ri(e[vi]),!i||i!=fi&&i!=hi&&!n||i==hi&&!r||i==li&&!e)throw Error("Invalid checkActionCode response!");i==hi?(t[bi]=n||null,t[_i]=n||null,t[yi]=r):(t[bi]=r||null,t[_i]=r||null,t[yi]=n||null),t[wi]=e||null,Xr(this,Ei,i),Xr(this,Si,ti(t))}k(ui,ni),ui.prototype.w=function(){var e=ui.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var li="REVERT_SECOND_FACTOR_ADDITION",fi="EMAIL_SIGNIN",hi="VERIFY_AND_CHANGE_EMAIL",di="email",vi="mfaInfo",mi="newEmail",gi="requestType",yi="email",bi="fromEmail",wi="multiFactorInfo",_i="previousEmail",Si="data",Ei="operation";function ki(e){var t=Un(e=qn(e),Ti)||null,n=Un(e,Ii)||null,r=Un(e,Ni)||null;if(r=r&&Pi[r]||null,!t||!n||!r)throw new I("argument-error",Ti+", "+Ii+"and "+Ni+" are required in a valid action code URL.");Zr(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,Ci)||null,languageCode:Un(e,xi)||null,tenantId:Un(e,Ai)||null})}var Ti="apiKey",Ii="oobCode",Ci="continueUrl",xi="languageCode",Ni="mode",Ai="tenantId",Pi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:fi,verifyAndChangeEmail:hi,verifyEmail:"VERIFY_EMAIL"};function Ri(e){try{return new ki(e)}catch(t){return null}}function Oi(e){var t=e[ji];if("undefined"===typeof t)throw new I("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new I("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Di];if(n&&"object"===typeof n){t=n[Vi];var r=n[Ui];if(n=n[qi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new I("argument-error",Ui+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new I("argument-error",qi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new I("argument-error",Vi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new I("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new I("argument-error",Di+" property must be a non null object when specified.");if(this.f=null,(t=e[Fi])&&"object"===typeof t){if("string"===typeof(t=t[Bi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new I("argument-error",Bi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new I("argument-error",Fi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Li])&&"boolean"!==typeof t)throw new I("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Mi])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new I("argument-error",Mi+" property must be a non empty string when specified.");this.i=e||null}var Di="android",Mi="dynamicLinkDomain",Li="handleCodeInApp",Fi="iOS",ji="url",Ui="installApp",qi="minimumVersion",Vi="packageName",Bi="bundleId";function zi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Wi=null;function Ki(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Wi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Wi){Wi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Wi[o]&&(Wi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Hi(e){var t=Qi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Gi(e){try{return new Hi(e)}catch(t){return null}}function Qi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Ki(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(pi){}return null}Hi.prototype.T=function(){return this.f},Hi.prototype.l=function(){return this.c},Hi.prototype.toString=function(){return this.h};var $i="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yi=["client_id","response_type","scope","redirect_uri","state"],Xi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Yi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Yi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Yi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:$i},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Ji(e){for(var t in Xi)if(Xi[t].fa==e)return Xi[t];return null}function Zi(e){var t={};t["facebook.com"]=io,t["google.com"]=ao,t["github.com"]=oo,t["twitter.com"]=so;var n=e&&e[to];try{if(n)return t[n]?new t[n](e):new ro(e);if("undefined"!==typeof e[eo])return new no(e)}catch(r){}return null}var eo="idToken",to="providerId";function no(e){var t=e[to];if(!t&&e[eo]){var n=Gi(e[eo]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Xr(this,"providerId",t),Xr(this,"isNewUser",n)}function ro(e){no.call(this,e),Xr(this,"profile",ti((e=Ur(e.rawUserInfo||"{}"))||{}))}function io(e){if(ro.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(e){if(ro.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",this.profile&&this.profile.login||null)}function ao(e){if(ro.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function so(e){if(ro.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",e.screenName||null)}function uo(e){var t=qn(e),n=Un(t,"link"),r=Un(qn(n),"link");return t=Un(t,"deep_link_id"),Un(qn(t),"link")||t||r||n||e}function co(e,t){if(!e&&!t)throw new I("internal-error","Internal assert: no raw session string available");if(e&&t)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?lo:fo}k(ro,no),k(io,ro),k(oo,ro),k(ao,ro),k(so,ro);var lo="enroll",fo="signin";function ho(){}function po(e,t){return e.then((function(e){if(e[rs]){var n=Gi(e[rs]);if(!n||t!=n.i)throw new I("user-mismatch");return e}throw new I("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==N+"user-not-found"?new I("user-mismatch"):e}))}function vo(e,t){if(!t)throw new I("internal-error","failed to construct a credential");this.a=t,Xr(this,"providerId",e),Xr(this,"signInMethod",e)}function mo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function go(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new vo(e.providerId,e.pendingToken)}catch(t){}return null}function yo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Xr(this,"idToken",t.idToken),t.accessToken&&Xr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Xr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");Xr(this,"accessToken",t.oauthToken),Xr(this,"secret",t.oauthTokenSecret)}Xr(this,"providerId",e),Xr(this,"signInMethod",n)}function bo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Jn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function wo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new yo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function _o(e,t){this.Qc=t||[],Zr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Ji(e)||{}).Ja||null,this.pb=null}function So(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');_o.call(this,e,[])}function Eo(e){_o.call(this,e,Yi),this.a=[]}function ko(){Eo.call(this,"facebook.com")}function To(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new ko).credential({accessToken:t})}function Io(){Eo.call(this,"github.com")}function Co(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new Io).credential({accessToken:t})}function xo(){Eo.call(this,"google.com"),this.Ca("profile")}function No(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new xo).credential({idToken:n,accessToken:t})}function Ao(){_o.call(this,"twitter.com",$i)}function Po(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new yo("twitter.com",n,"twitter.com")}function Ro(e,t,n){this.a=e,this.f=t,Xr(this,"providerId","password"),Xr(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Oo(e){return e&&e.email&&e.password?new Ro(e.email,e.password,e.signInMethod):null}function Do(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Mo(e,t){if(!(t=Lo(t)))throw new I("argument-error","Invalid email link!");return new Ro(e,t.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Lo(e){return(e=Ri(e=uo(e)))&&e.operation===fi?e:null}function Fo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new I("internal-error");this.a=e,Xr(this,"providerId","phone"),this.fa="phone",Xr(this,"signInMethod","phone")}function jo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Fo(t)}return null}function Uo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function qo(e){try{this.a=e||Jr.default.auth()}catch(t){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Vo(e,t){if(!e)throw new I("missing-verification-id");if(!t)throw new I("missing-verification-code");return new Fo({fb:e,eb:t})}function Bo(e){if(e.temporaryProof&&e.phoneNumber)return new Fo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return No(o,n);case"facebook.com":return To(n);case"github.com":return Co(n);case"twitter.com":return Po(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new vo(t,a):new yo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Eo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function zo(e){if(!e.isOAuthProvider)throw new I("invalid-oauth-provider")}function Wo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function Ko(e){return(e=e||{}).type?new Wo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&C(e.error),e.postBody,e.tenantId):null}function Ho(){this.b=null,this.a=[]}co.prototype.Ha=function(){return this.a?xt(this.a):xt(this.b)},co.prototype.w=function(){return this.type==lo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ho.prototype.ka=function(){},ho.prototype.b=function(){},ho.prototype.c=function(){},ho.prototype.w=function(){},vo.prototype.ka=function(e){return Ts(e,mo(this))},vo.prototype.b=function(e,t){var n=mo(this);return n.idToken=t,Is(e,n)},vo.prototype.c=function(e,t){return po(Cs(e,mo(this)),t)},vo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},yo.prototype.ka=function(e){return Ts(e,bo(this))},yo.prototype.b=function(e,t){var n=bo(this);return n.idToken=t,Is(e,n)},yo.prototype.c=function(e,t){return po(Cs(e,bo(this)),t)},yo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},_o.prototype.Ka=function(e){return this.Jb=ve(e),this},k(So,_o),k(Eo,_o),Eo.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},Eo.prototype.Rb=function(){return J(this.a)},Eo.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new yo(this.providerId,n,this.providerId)},k(ko,Eo),Xr(ko,"PROVIDER_ID","facebook.com"),Xr(ko,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(Io,Eo),Xr(Io,"PROVIDER_ID","github.com"),Xr(Io,"GITHUB_SIGN_IN_METHOD","github.com"),k(xo,Eo),Xr(xo,"PROVIDER_ID","google.com"),Xr(xo,"GOOGLE_SIGN_IN_METHOD","google.com"),k(Ao,_o),Xr(Ao,"PROVIDER_ID","twitter.com"),Xr(Ao,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ro.prototype.ka=function(e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Ls,{email:this.a,oobCode:this.f}):cu(e,iu,{email:this.a,password:this.f})},Ro.prototype.b=function(e,t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Fs,{idToken:t,email:this.a,oobCode:this.f}):cu(e,Ys,{idToken:t,email:this.a,password:this.f})},Ro.prototype.c=function(e,t){return po(this.ka(e),t)},Ro.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Do,{PROVIDER_ID:"password"}),Zr(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Fo.prototype.ka=function(e){return e.gb(Uo(this))},Fo.prototype.b=function(e,t){var n=Uo(this);return n.idToken=t,cu(e,au,n)},Fo.prototype.c=function(e,t){var n=Uo(this);return n.operation="REAUTH",po(e=cu(e,su,n),t)},Fo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},qo.prototype.gb=function(e,t){var n=this.a.a;return xt(t.verify()).then((function(r){if("string"!==typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=v(e)?e.session:null,a=v(e)?e.phoneNumber:e;return i=o&&o.type==lo?o.Ha().then((function(e){return function(e,t){return cu(e,Js,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==fo?o.Ha().then((function(t){return function(e,t){return cu(e,Zs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return cu(e,Qs,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Zr(qo,{PROVIDER_ID:"phone"}),Zr(qo,{PHONE_SIGN_IN_METHOD:"phone"}),Wo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Wo.prototype.T=function(){return this.h},Wo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Go,Qo=null;function $o(e){var t="unauthorized-domain",n=void 0,r=qn(e);e=r.a,"chrome-extension"==(r=r.c)?n=ze("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=ze("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",I.call(this,t,n)}function Yo(e,t,n){I.call(this,e,n),(e=t||{}).Kb&&Xr(this,"email",e.Kb),e.ea&&Xr(this,"phoneNumber",e.ea),e.credential&&Xr(this,"credential",e.credential),e.$b&&Xr(this,"tenantId",e.$b)}function Xo(e){if(e.code){var t=e.code||"";0==t.indexOf(N)&&(t=t.substring(N.length));var n={credential:Bo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new I(t,e.message||void 0);return new Yo(t,n,e.message)}return null}function Jo(){}function Zo(e){return e.c||(e.c=e.b())}function ea(){}function ta(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(Uy){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function na(){}function ra(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function ia(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function oa(e,t,n){this.reset(e,t,n,void 0,void 0)}k($o,I),k(Yo,I),Yo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ge(e,t),e},Yo.prototype.toJSON=function(){return this.w()},Jo.prototype.c=null,k(ea,Jo),ea.prototype.a=function(){var e=ta(this);return e?new ActiveXObject(e):new XMLHttpRequest},ea.prototype.b=function(){var e={};return ta(this)&&(e[0]=!0,e[1]=!0),e},Go=new ea,k(na,Jo),na.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ra;throw Error("Unsupported browser")},na.prototype.b=function(){return{}},(e=ra.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ia(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",ia(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,ia(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},oa.prototype.a=null;function aa(e){this.f=e,this.b=this.c=this.a=null}function sa(e,t){this.name=e,this.value=t}oa.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||E(),delete this.a},sa.prototype.toString=function(){return this.name};var ua=new sa("SEVERE",1e3),ca=new sa("WARNING",900),la=new sa("CONFIG",700),fa=new sa("FINE",500);function ha(e){return e.c?e.c:e.a?ha(e.a):(L("Root logger has no level set."),null)}aa.prototype.log=function(e,t,n){if(e.value>=ha(this).value)for(p(t)&&(t=t()),e=new oa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var da,pa={},va=null;function ma(e){var t;if(va||(va=new aa(""),pa[""]=va,va.c=la),!(t=pa[e])){t=new aa(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ma(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,pa[e]=t}return t}function ga(e,t){e&&e.log(fa,t,void 0)}function ya(e){this.f=e}function ba(e){Sn.call(this),this.u=e,this.h=void 0,this.readyState=wa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ma("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}k(ya,Jo),ya.prototype.a=function(){return new ba(this.f)},ya.prototype.b=(da={},function(){return da}),k(ba,Sn);var wa=0;function _a(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function Sa(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Ea(e)}function Ea(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ka(e){Sn.call(this),this.headers=new An,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ta,this.u=this.S=!1}(e=ba.prototype).open=function(e,t){if(this.readyState!=wa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Ea(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Sa(this)),this.readyState=wa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Ea(this)),this.a&&(this.readyState=3,Ea(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,_a(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Sa(this):Ea(this),3==this.readyState&&_a(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,Sa(this))},e.sc=function(e){this.a&&(this.response=e,Sa(this))},e.Va=function(e){var t=this.i;t&&t.log(ca,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Sa(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ca,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ca,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),k(ka,Sn);var Ta="";ka.prototype.b=ma("goog.net.XhrIo");var Ia=/^https?$/i,Ca=["POST","PUT"];function xa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Go.a(),e.C=e.D?Zo(e.D):Zo(Go),e.a.onreadystatechange=_(e.Wb,e);try{ga(e.b,Fa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return ga(e.b,Fa(e,"Error opening Xhr: "+a.message)),void Aa(e,a)}t=r||"";var o=new An(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)W(e,t,void 0);else for(var n=Nn(e),r=xn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Na,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!Q(Ca,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Da(e),0<e.g&&(e.u=function(e){return Qe&&ot(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ga(e.b,Fa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=_(e.Ma,e)):e.s=In(e.Ma,e.g,e)),ga(e.b,Fa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){ga(e.b,Fa(e,"Send error: "+a.message)),Aa(e,a)}}function Na(e){return"content-type"==e.toLowerCase()}function Aa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Pa(e),Oa(e)}function Pa(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ra(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==Ma(e)&&2==La(e))ga(e.b,Fa(e,"Local request error detected and ignored"));else if(e.i&&4==Ma(e))In(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ma(e)){ga(e.b,Fa(e,"Request complete")),e.c=!1;try{var t,n=La(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(On)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ia.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Ma(e)?e.a.statusText:""}catch(l){ga(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+La(e)+"]",Pa(e)}}finally{Oa(e)}}}function Oa(e,t){if(e.a){Da(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(Uy){(e=e.b)&&e.log(ua,"Problem encountered resetting onreadystatechange: "+Uy.message,void 0)}}}function Da(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Ma(e){return e.a?e.a.readyState:0}function La(e){try{return 2<Ma(e)?e.a.status:-1}catch(t){return-1}}function Fa(e,t){return t+" ["+e.P+" "+e.l+" "+La(e)+"]"}function ja(e){var t=$a;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ua(e,t,n){e.a=!0,e.c=n,e.f=!t,za(e)}function qa(e){if(e.a){if(!e.v)throw new Wa(e);e.v=!1}}function Va(e,t,n,r){e.g.push([t,n,r]),e.a&&za(e)}function Ba(e){return G(e.g,(function(e){return p(e[1])}))}function za(e){if(e.h&&e.a&&Ba(e)){var t=e.h,n=Ga[t];n&&(s.clearTimeout(n.a),delete Ga[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(O(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,Ba(e)||(n=!0)}}e.c=t,r&&(u=_(e.m,e,!0),r=_(e.m,e,!1),t instanceof ja?(Va(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Ha(t),Ga[t.a]=t,e.h=t.a)}function Wa(){D.call(this)}function Ka(){D.call(this)}function Ha(e){this.a=s.setTimeout(_(this.c,this),0),this.b=e}(e=ka.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ga(this.b,Fa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ga(this.b,Fa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Oa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Oa(this,!0)),ka.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Ra(this):this.Jc())},e.Jc=function(){Ra(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ta:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ua,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ga(this.b,"Can not get response: "+t.message),null}},ja.prototype.cancel=function(e){if(this.a)this.c instanceof ja&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ka(this),qa(this),Ua(this,!1,e))}},ja.prototype.m=function(e,t){this.i=!1,Ua(this,e,t)},ja.prototype.then=function(e,t,n){var r,i,o=new _t((function(e,t){r=e,i=t}));return Va(this,r,(function(e){e instanceof Ka?o.cancel():i(e)})),o.then(e,t,n)},ja.prototype.$goog_Thenable=!0,k(Wa,D),Wa.prototype.message="Deferred has already fired",Wa.prototype.name="AlreadyCalledError",k(Ka,D),Ka.prototype.message="Deferred was canceled",Ka.prototype.name="CanceledError",Ha.prototype.c=function(){throw delete Ga[this.a],this.b};var Ga={};function Qa(e){var t={},n=t.document||document,r=Ie(e).toString(),i=vt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new ja(o),u=null,f=null!=t.timeout?t.timeout:5e3;return 0<f&&(u=window.setTimeout((function(){Ya(i,!0);var e=new Za(Ja,"Timeout reached for loading script "+r);qa(a),Ua(a,!1,e)}),f),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ya(i,t.xd||!1,u),qa(a),Ua(a,!0,null))},i.onerror=function(){Ya(i,!0,u);var e=new Za(Xa,"Error while loading script "+r);qa(a),Ua(a,!1,e)},ge(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),lt(i,o),function(e,t){ye(e,"HTMLScriptElement"),e.src=Ie(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function $a(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Ya(e,!0,this.Ma)}}function Ya(e,t,n){null!=n&&s.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Xa=0,Ja=1;function Za(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function es(e){this.f=e}function ts(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||is,this.g=ve(e.secureTokenHeaders||os),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||as,this.a=ve(e.firebaseHeaders||ss),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Er(),!(n=s.XMLHttpRequest||n&&Jr.default.INTERNAL.node&&Jr.default.INTERNAL.node.XMLHttpRequest)&&!Sr())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Sr()?this.f=new ya(self):kr()?this.f=new es(n):this.f=new na,this.b=null}k(Za,D),k(es,Jo),es.prototype.a=function(){return new this.f},es.prototype.b=function(){return{}};var ns,rs="idToken",is=new zr(3e4,6e4),os={"Content-Type":"application/x-www-form-urlencoded"},as=new zr(3e4,6e4),ss={"Content-Type":"application/json"};function us(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function cs(e,t){t&&(e.l=ls("https://securetoken.googleapis.com/v1/token",t),e.h=ls("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=ls("https://identitytoolkit.googleapis.com/v2/",t))}function ls(e,t){return e=qn(e),t=qn(t.url),e.f=e.a+e.f,Mn(e,t.c),e.a=t.a,Ln(e,t.g),e.toString()}function fs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function hs(e,t,n,r,i,o,a){(function(){var e=Ar();return!((e=Cr(e)!=Ir?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Qe||!st||9<st)})()||Sr()?e=_(e.u,e):(ns||(ns=new _t((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[ps]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Va(e,null,t,void 0)}(Qa(Ce(ds,{onload:ps})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=_(e.s,e)),e(t,n,r,i,o,a)}ts.prototype.T=function(){return this.b},ts.prototype.u=function(e,t,n,r,i,o){if(Sr()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ka(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}En(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ga(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(pi){e=null}t&&t(e)})),kn(a,"ready",(function(){u&&clearTimeout(u),Ht(this)})),kn(a,"timeout",(function(){u&&clearTimeout(u),Ht(this),t&&t(null)})),xa(a,e,n,r,i)};var ds=new be(Ee,"https://apis.google.com/js/client.js?onload=%{onload}"),ps="__fcb"+Math.floor(1e6*Math.random()).toString();function vs(e,t,n,r,i,o,a){var s=qn(t+n);jn(s,"key",e.c),a&&jn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&jn(s,c,i[c]);return new _t((function(t,n){hs(e,s.toString(),(function(e){e?e.error?n(fu(e,o||{})):t(e):n(new I("network-request-failed"))}),r,u?void 0:ir(jr(i)),e.a,e.v.get())}))}function ms(e){if("string"!==typeof(e=e.email)||!yr.test(e))throw new I("invalid-email")}function gs(e){"email"in e&&ms(e)}function ys(e){if(!e[rs]){if(e.mfaPendingCredential)throw new I("multi-factor-auth-required",null,ve(e));throw new I("internal-error")}}function bs(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new I("internal-error")}else{if(!e.sessionInfo)throw new I("missing-verification-id");if(!e.code)throw new I("missing-verification-code")}}ts.prototype.s=function(e,t,n,r,i){var o=this;ns.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},ts.prototype.Ab=function(){return cu(this,Xs,{})},ts.prototype.Cb=function(e,t){return cu(this,$s,{idToken:e,email:t})},ts.prototype.Db=function(e,t){return cu(this,Ys,{idToken:e,password:t})};var ws={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function _s(e){if(!e.phoneVerificationInfo)throw new I("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new I("missing-verification-code")}function Ss(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new I("internal-error")}function Es(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(er(e=new Yn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function ks(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Xo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Xo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Xo(e)):e.errorMessage&&(t=lu(e.errorMessage)),t)throw t;ys(e)}function Ts(e,t){return t.returnIdpCredential=!0,cu(e,eu,t)}function Is(e,t){return t.returnIdpCredential=!0,cu(e,nu,t)}function Cs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,cu(e,tu,t)}function xs(e){if(!e.oobCode)throw new I("invalid-action-code")}(e=ts.prototype).Eb=function(e,t){var n={idToken:e},r=[];return de(ws,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),cu(this,$s,n)},e.wb=function(e,t){return ge(e={requestType:"PASSWORD_RESET",email:e},t),cu(this,Ws,e)},e.xb=function(e,t){return ge(e={requestType:"EMAIL_SIGNIN",email:e},t),cu(this,Vs,e)},e.vb=function(e,t){return ge(e={requestType:"VERIFY_EMAIL",idToken:e},t),cu(this,Bs,e)},e.Fb=function(e,t,n){return ge(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),cu(this,zs,e)},e.gb=function(e){return cu(this,ou,e)},e.ob=function(e,t){return cu(this,Gs,{oobCode:e,newPassword:t})},e.Sa=function(e){return cu(this,As,{oobCode:e})},e.kb=function(e){return cu(this,Ns,{oobCode:e})};var Ns={endpoint:"setAccountInfo",A:xs,Z:"email",B:!0},As={endpoint:"resetPassword",A:xs,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new I("internal-error")},B:!0},Ps={endpoint:"signupNewUser",A:function(e){if(ms(e),!e.password)throw new I("weak-password")},G:ys,V:!0,B:!0},Rs={endpoint:"createAuthUri",B:!0},Os={endpoint:"deleteAccount",O:["idToken"]},Ds={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new I("internal-error")}},Ls={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ms,G:ys,V:!0,B:!0},Fs={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ms,G:ys,V:!0},js={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:_s,G:ys,B:!0,Na:!0},Us={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:_s,G:ys,B:!0,Na:!0},qs={endpoint:"getAccountInfo"},Vs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new I("internal-error");ms(e)},Z:"email",B:!0},Bs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},zs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},Ws={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new I("internal-error");ms(e)},Z:"email",B:!0},Ks={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Hs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new I("internal-error")}},Gs={endpoint:"resetPassword",A:xs,Z:"email",B:!0},Qs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},$s={endpoint:"setAccountInfo",O:["idToken"],A:gs,V:!0},Ys={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(gs(e),!e.password)throw new I("weak-password")},G:ys,V:!0},Xs={endpoint:"signupNewUser",G:ys,V:!0,B:!0},Js={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new I("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Zs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},eu={endpoint:"verifyAssertion",A:Ss,Za:Es,G:ks,V:!0,B:!0},tu={endpoint:"verifyAssertion",A:Ss,Za:Es,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new I("user-not-found");if(e.errorMessage)throw lu(e.errorMessage);ys(e)},V:!0,B:!0},nu={endpoint:"verifyAssertion",A:function(e){if(Ss(e),!e.idToken)throw new I("internal-error")},Za:Es,G:ks,V:!0},ru={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new I("invalid-custom-token")},G:ys,V:!0,B:!0},iu={endpoint:"verifyPassword",A:function(e){if(ms(e),!e.password)throw new I("wrong-password")},G:ys,V:!0,B:!0},ou={endpoint:"verifyPhoneNumber",A:bs,G:ys,B:!0},au={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new I("internal-error");bs(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Xo(e);ys(e)}},su={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:bs,G:ys,B:!0},uu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[rs]^!!e.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function cu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Nt(new I("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return xt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),vs(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new I("internal-error");return r[t.Z]}))}function lu(e){return fu({error:{errors:[{message:e}],code:400,message:e}})}function fu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new I(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ge(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new I(r[i],t);return!t&&e&&(t=Fr(e)),new I("internal-error",t)}function hu(e){this.b=e,this.a=null,this.sb=function(e){return(mu||(mu=new _t((function(e,t){function n(){Br(),Pr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Br(),t(Error("Network Error"))},timeout:pu.get()})}if(Pr("gapi.iframes.Iframe"))e();else if(Pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Pr("gapi.load")?n():t(Error("Network Error"))},xt(Qa(r=Ce(du,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw mu=null,e})))).then((function(){return new _t((function(t,n){Pr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),vu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var du=new be(Ee,"https://apis.google.com/js/api.js?onload=%{onload}"),pu=new zr(3e4,6e4),vu=new zr(5e3,15e3),mu=null;function gu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Vn((e=qn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Vn("https",this.l,null,"/__/auth/iframe"),this.a=e,jn(this.a,"apiKey",this.h),jn(this.a,"appName",this.i),this.b=null,this.c=[]}function yu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function bu(e){try{return Jr.default.app(e).auth().Ga()}catch(t){return[]}}function wu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function _u(e){var t=fr();return function(e){return cu(e,Ks,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=qn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=qn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:gr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new $o(fr())}))}function Su(e){return e.m||(e.m=br().then((function(){if(!e.u){var t=e.c,n=e.i,r=bu(e.b),i=new gu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=J(r||[]),e.u=i.toString()}e.v=new hu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ko(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",xt(n)}return n.status="ERROR",xt(n)}))}(e)}))),e.m}function Eu(e){return e.l||(e.C=e.c?Nr(e.c,bu(e.b)):null,e.l=new ts(e.g,R(e.i),e.C),e.f&&cs(e.l,e.f)),e.l}function ku(e,t,n,r,i,o,a,s,u,c,l,f){return(e=new yu(e,t,n,r,i,f)).l=o,e.g=a,e.i=s,e.b=ve(u||null),e.f=c,e.zb(l).toString()}function Tu(e){if(this.a=e||Jr.default.INTERNAL.reactNative&&Jr.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(e){this.b=e,this.a={},this.f=_(this.c,this)}gu.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?jn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},yu.prototype.zb=function(e){return this.h=e,this},yu.prototype.toString=function(){if(this.v){var e=qn(this.v.url);e=Vn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Vn("https",this.u,null,"/__/auth/handler");if(jn(e,"apiKey",this.s),jn(e,"appName",this.c),jn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Jr.default.app(this.c).auth().la()}catch(s){n=null}for(var r in t.pb=n,jn(e,"providerId",this.a.providerId),t=jr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=ve(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),pe(t)||jn(e,"customParameters",Fr(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&jn(e,"scopes",n.join(","))),this.l?jn(e,"redirectUrl",this.l):Zn(e.b,"redirectUrl"),this.g?jn(e,"eventId",this.g):Zn(e.b,"eventId"),this.i?jn(e,"v",this.i):Zn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Un(e,a)&&jn(e,a,this.b[a]);return this.h?jn(e,"tid",this.h):Zn(e.b,"tid"),this.f?jn(e,"eid",this.f):Zn(e.b,"eid"),(a=bu(this.c)).length&&jn(e,"fw",a.join(",")),e.toString()},(e=wu.prototype).Pb=function(e,t,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return Su(e).then((function(){return function(e,t){return e.sb.then((function(){return new _t((function(n){e.a.send(t.type,t,n,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&vr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new _t((function(t){return function n(){Cn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Cn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Ar();return!Lr(e)&&!Vr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Nt(new I("popup-blocked"));if(a&&!Lr())return this.ma().o((function(t){vr(e),i(t)})),r(),xt();this.a||(this.a=_u(Eu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw vr(e),i(t),t}));return r(),t})).then((function(){(zo(n),a)||hr(ku(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=_u(Eu(this)));var i=this;return this.a.then((function(){zo(t),hr(ku(i.s,i.g,i.b,e,t,fr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return Su(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new I("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Y(this.h,(function(t){return t==e}))},(e=Tu.prototype).get=function(e){return xt(this.a.getItem(e)).then((function(e){return e&&Ur(e)}))},e.set=function(e,t){return xt(this.a.setItem(e,Fr(t)))},e.U=function(e){return xt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Cu,xu=[];function Nu(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Au(e){this.a=e}function Pu(e){this.c=e,this.b=!1,this.a=[]}function Ru(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Nt(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new _t((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:f,onMessage:o},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return Ou(e,c),t})).o((function(t){throw Ou(e,c),t}))}function Ou(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(e.a,(function(e){return e==t}))}}function Du(){if(!ju())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Sr()&&self?(this.v=function(){var e=Sr()?self:null;if(W(xu,(function(n){n.b==e&&(t=n)})),!t){var t=new Iu(e);xu.push(t)}return t}(),Nu(this.v,"keyChanged",(function(t,n){return zu(e).then((function(t){return 0<t.length&&W(e.a,(function(e){e(t)})),{keyProcessed:Q(t,n.key)}}))})),Nu(this.v,"ping",(function(){return xt(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?xt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):xt(null)}().then((function(t){(e.h=t)&&(e.g=new Pu(new Au(t)),Ru(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Mu(e){return new _t((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new _t((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Mu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Lu(e){return e.i||(e.i=Mu(e)),e.i}function Fu(e,t){var n=0;return new _t((function r(i,o){Lu(e).then(t).then(i).o((function(t){if(!(3<++n))return Lu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function ju(){try{return!!s.indexedDB}catch(da){return!1}}function Uu(e){return e.objectStore("firebaseLocalStorage")}function qu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Vu(e){return new _t((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Bu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Ru(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):xt()}function zu(e){return Lu(e).then((function(e){var t=Uu(qu(e,!1));return t.getAll?Vu(t.getAll()):new _t((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=dr(e.c,n),e.c=n}return r}))}function Wu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Ku(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=xt().then((function(){if(ju()){var e=qr(),r="__sak"+e;return Cu||(Cu=new Du),(n=Cu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){W(t.a,(function(t){t(e)}))})),e}))}function Hu(){this.a={},this.type="inMemory"}function Gu(){if(!function(){var e="Node"==Er();if(!(e=Qu()||e&&Jr.default.INTERNAL.node&&Jr.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Er())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Qu()||Jr.default.INTERNAL.node.localStorage,this.type="localStorage"}function Qu(){try{var e=s.localStorage,t=qr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function $u(){this.type="nullStorage"}function Yu(){if(!function(){var e="Node"==Er();if(!(e=Xu()||e&&Jr.default.INTERNAL.node&&Jr.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Er())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Xu()||Jr.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Xu(){try{var e=s.sessionStorage,t=qr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Ju(){var e={};e.Browser=tc,e.Node=nc,e.ReactNative=rc,e.Worker=ic,this.a=e[Er()]}Iu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];W(r,(function(t){i.push(xt().then((function(){return t(e.origin,e.data.data)})))})),Pt(i).then((function(r){var i=[];W(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),W(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Au.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Pu.prototype.close=function(){for(;0<this.a.length;)Ou(this,this.a[0]);this.b=!0},(e=Du.prototype).set=function(e,t){var n=this,r=!1;return Fu(this,(function(t){return Vu((t=Uu(qu(t,!0))).get(e))})).then((function(i){return Fu(n,(function(o){if(o=Uu(qu(o,!0)),i)return i.value=t,Vu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Vu(o.add(a))}))})).then((function(){return n.c[e]=t,Bu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Fu(this,(function(t){return Vu(Uu(qu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Fu(this,(function(r){return n=!0,t.b++,Vu(Uu(qu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Bu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=zu(e).then((function(t){0<t.length&&W(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Wu(e),t()}(this),this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e})),0==this.a.length&&Wu(this)},(e=Ku.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e}))},(e=Hu.prototype).get=function(e){return xt(this.a[e])},e.set=function(e,t){return this.a[e]=t,xt()},e.U=function(e){return delete this.a[e],xt()},e.ca=function(){},e.ia=function(){},(e=Gu.prototype).get=function(e){var t=this;return xt().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return xt().then((function(){var r=Fr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return xt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&ln(s.window,"storage",e)},e.ia=function(e){s.window&&dn(s.window,"storage",e)},(e=$u.prototype).get=function(){return xt(null)},e.set=function(){return xt()},e.U=function(){return xt()},e.ca=function(){},e.ia=function(){},(e=Yu.prototype).get=function(e){var t=this;return xt().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return xt().then((function(){var r=Fr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return xt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Zu,ec,tc={F:Gu,cb:Yu},nc={F:Gu,cb:Yu},rc={F:Tu,cb:$u},ic={F:Gu,cb:$u},oc={rd:"local",NONE:"none",td:"session"};function ac(){var e=!(Vr(Ar())||!_r()),t=Lr(),n=Rr();this.m=e,this.h=t,this.l=n,this.a={},Zu||(Zu=new Ju),e=Zu;try{this.g=!lr()&&Hr()||!s.indexedDB?new e.a.F:new Ku(Sr()?new Hu:new e.a.F)}catch(r){this.g=new Hu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Hu}this.v=new Hu,this.f=_(this.Zb,this),this.b={}}function sc(){return ec||(ec=new ac),ec}function uc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function cc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function lc(e,t,n){return n=cc(t,n),"local"==t.F&&(e.b[n]=null),uc(e,t.F).U(n)}function fc(e){e.c&&(clearInterval(e.c),e.c=null)}function hc(e){this.a=e,this.b=sc()}(e=ac.prototype).get=function(e,t){return uc(this,e.F).get(cc(e,t))},e.set=function(e,t,n){var r=cc(e,n),i=this,o=uc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=cc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),pe(this.a)&&(uc(this,"local").ca(this.f),this.h||(lr()||!Hr())&&s.indexedDB||!this.l||function(e){fc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Jt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=cc(e,t),this.a[e]&&(Y(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(uc(this,"local").ia(this.f),fc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?uc(this,"local").ia(this.f):fc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Qe&&st&&10==st&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else W(e,_(this.nb,this))},e.nb=function(e){this.a[e]&&W(this.a[e],(function(e){e()}))};var dc,pc={name:"authEvent",F:"local"};function vc(){this.a=sc()}function mc(e,t){this.b=gc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===dc&&(dc=s.Int32Array?new Int32Array(kc):kc),this.reset()}k(mc,(function(){this.b=-1}));for(var gc=64,yc=gc-1,bc=[],wc=0;wc<yc;wc++)bc[wc]=0;var _c=X(128,bc);function Sc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|dc[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function Ec(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Sc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Sc(e),i=0)}}e.c=i,e.g+=n}mc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var kc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tc(){mc.call(this,8,Ic)}k(Tc,mc);var Ic=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Cc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new vc,this.g=new hc(this.h),this.f=null,this.b=[],this.a=this.c=null}function xc(e){return new I("invalid-cordova-configuration",e)}function Nc(e){var t=new Tc;Ec(t,e),e=[];var n=8*t.g;56>t.c?Ec(t,_c,56-t.c):Ec(t,_c,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Sc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return H(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Ac(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Pc(e){return e.f||(e.f=e.ma().then((function(){return new _t((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Rc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=uo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Ur(Un(o=qn(i),"firebaseError")||null))?C(o):null)?new Wo(r.c,r.b,null,null,o,null,r.T()):new Wo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ac(e,i)}))}var n=new Wo("unknown",null,null,null,new I("no-auth-event")),r=!1,i=Cn(500).then((function(){return Rc(e).then((function(){r||Ac(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Pr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Qo||(Qo=new Ho),function(e){var t=Qo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Pr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Rc(e){var t=null;return function(e){return e.b.get(pc,e.a).then((function(e){return Ko(e)}))}(e.g).then((function(n){return t=n,lc((n=e.g).b,pc,n.a)})).then((function(){return t}))}function Oc(e){this.a=e,this.b=sc()}(e=Cc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?br().then((function(){return new _t((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Nt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Pr("universalLinks.subscribe",s))throw xc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Pr("BuildInfo.packageName",s))throw xc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Pr("cordova.plugins.browsertab.openUrl",s))throw xc("cordova-plugin-browsertab is not installed");if("function"!==typeof Pr("cordova.InAppBrowser.open",s))throw xc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")}))},e.Pb=function(e,t){return t(new I("operation-not-supported-in-this-environment")),xt()},e.Nb=function(){return Nt(new I("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Nt(new I("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=xt().then((function(){return zo(t),Pc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Wo(t,r,null,o,new I("no-auth-event"),null,i),u=Pr("BuildInfo.packageName",s);if("string"!==typeof u)throw new I("invalid-cordova-configuration");var c=Pr("BuildInfo.displayName",s),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Ar().toLowerCase().match(/android/))return Nt(new I("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Nc(o),l.sessionId=o;var f=ku(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(pc,a.w(),t)})).then((function(){var t=Pr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new I("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Pr("cordova.plugins.browsertab.openUrl",s)))throw new I("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Pr("cordova.InAppBrowser.open",s)))throw new I("invalid-cordova-configuration");t=Ar(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new _t((function(e,t){u=function(){var t=Pr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Cn(2e3).then((function(){t(new I("redirect-cancelled-by-user"))})))},l=function(){Wr()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Rc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Pc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Wo("unknown",null,null,null,new I("no-auth-event")),e(t))}))},e.Ta=function(e){Y(this.b,(function(t){return t==e}))};var Dc={name:"pendingRedirect",F:"session"};function Mc(e){return lc(e.b,Dc,e.a)}function Lc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Xc,this.C=new nl,this.g=new Oc($c(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Fc(this.D,this.v,this.m,x,this.J)}function Fc(e,t,n,r,i){var o=Jr.default.SDK_VERSION||null;return wr()?new Cc(e,t,n,o,r,i):new wu(e,t,n,o,r,i)}function jc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Uc(e){e.a.Yb()&&jc(e).o((function(t){var n=new Wo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Kc(t)&&e.s(n)})),e.a.Ub()||Jc(e.b)}function qc(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Dc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Mc(e.g).then((function(){jc(e).o((function(t){var n=new Wo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Kc(t)&&e.s(n)}))})):Uc(e)})).o((function(){Uc(e)}))}function Vc(e,t){Y(e.h,(function(e){return e==t}))}Lc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Fc(this.D,this.v,this.m,null,this.J),this.i={}},Lc.prototype.s=function(e){if(!e)throw new I("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Jc(this.b),t};var Bc=new zr(2e3,1e4),zc=new zr(3e4,6e4);function Wc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Kc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Hc(e,t,n,r,i){var o;return function(e){return e.b.set(Dc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Kc(t))throw new I("operation-not-supported-in-this-environment");return o=t,Mc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new _t((function(){})):Mc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Gc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Bc.get())}Lc.prototype.ra=function(){return this.b.ra()};var Qc={};function $c(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Yc(e,t,n,r){var i=$c(t,n,r);return Qc[i]||(Qc[i]=new Lc(e,t,n,r)),Qc[i]}function Xc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Jc(e){e.g||(e.g=!0,tl(e,!1,null,null))}function Zc(e){e.g&&!e.i&&tl(e,!1,null,null)}function el(e,t){if(e.b=function(){return xt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function tl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Nt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):el(e,n):el(e,{user:null}),e.f=[],e.c=[]}function nl(){}function rl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function il(e,t){this.a=t,Xr(this,"verificationId",e)}function ol(e,t,n,r){return new qo(e).gb(t,n).then((function(e){return new il(e,r)}))}function al(e){var t=Qi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:e,expirationTime:Kr(1e3*t.exp),authTime:Kr(1e3*t.auth_time),issuedAtTime:Kr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function sl(e,t,n){var r=t&&t[cl];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new co(null,r),this.b=[];var i=this;W(t[ul]||[],(function(e){(e=ri(e))&&i.b.push(e)})),Xr(this,"auth",this.a),Xr(this,"session",this.c),Xr(this,"hints",this.b)}Xc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Xc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(tl(this,!0,null,e.a),xt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){tl(e,s,t,null)})).o((function(t){tl(e,s,null,t)}))}(this,e,t):Nt(new I("invalid-auth-event")):(tl(this,!1,null,null),xt())}else Nt(new I("invalid-auth-event"))},Xc.prototype.ra=function(){var e=this;return new _t((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new I("timeout");e.a&&e.a.cancel(),e.a=Cn(zc.get()).then((function(){e.b||(e.g=!0,tl(e,!0,null,t))}))}(e))}))},nl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),xt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Nt(new I("invalid-auth-event"))}else Nt(new I("invalid-auth-event"))},il.prototype.confirm=function(e){return e=Vo(this.verificationId,e),this.a(e)};var ul="mfaInfo",cl="mfaPendingCredential";function ll(e,t,n,r){I.call(this,"multi-factor-auth-required",r,t),this.b=new sl(e,t,n),Xr(this,"resolver",this.b)}function fl(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ll(t,e.serverResponse,n,e.message)}catch(r){}return null}function hl(){}function dl(e){Xr(this,"factorId",e.fa),this.a=e}function pl(e){if(dl.call(this,e),this.a.fa!=qo.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function vl(e,t){for(var n in Xt.call(this,e),t)this[n]=t[n]}function ml(e,t){this.a=e,this.b=[],this.c=_(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&W(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ai]=e.uid),e.displayName&&(r[ii]=e.displayName),e.enrollmentTime&&(r[oi]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[si]=e.phoneNumber);try{t=new ui(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),gl(this,n)}function gl(e,t){e.b=t,Xr(e,"enrolledFactors",t)}function yl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bl(e,t){e.stop(),e.b=Cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Wr()||!e?xt():new _t((function(n){t=function(){Wr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){bl(e,!0)})).o((function(t){e.i(t)&&bl(e,!1)}))}function wl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function _l(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function Sl(e,t){e.b=Gi(t[rs]||""),e.a=t.refreshToken,_l(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function El(e,t){return function(e,t){return new _t((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?hs(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(fu(e)):e.access_token&&e.refresh_token?n(e):r(new I("internal-error")):r(new I("network-request-failed"))}),"POST",Jn(t).toString(),e.g,e.m.get()):r(new I("internal-error"))}))}(e.f,t).then((function(t){return e.b=Gi(t.access_token),e.a=t.refresh_token,_l(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function kl(e,t){this.a=e||null,this.b=t||null,Zr(this,{lastSignInTime:Kr(t||null),creationTime:Kr(e||null)})}function Tl(e,t,n,r,i,o){Zr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Il(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=Jr.default.SDK_VERSION?Nr(Jr.default.SDK_VERSION):null;this.a=new ts(this.l,R(x),r),(this.u=e.emulatorConfig||null)&&cs(this.a,this.u),this.h=new wl(this.a),Ml(this,t[rs]),Sl(this.h,t),Xr(this,"refreshToken",this.h.a),jl(this,n||{}),Sn.call(this),this.P=!1,this.s&&Or()&&(this.b=Yc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new yl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=_(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){Cl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Al(i,e.f)},this.ja=null,this.S=new ml(this,n),Xr(this,"multiFactor",this.S)}function Cl(e,t){e.u=t,cs(e.a,t),e.b&&(t=e.b,e.b=Yc(e.s,e.l,e.m,e.u),e.P&&(Vc(t,e),qc(e.b,e)))}function xl(e,t){e.qa&&dn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&ln(t,"languageCodeChanged",e.Pa)}function Nl(e,t){e.$&&dn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&ln(t,"emulatorConfigChanged",e.Ba)}function Al(e,t){e.aa=t,fs(e.a,Jr.default.SDK_VERSION?Nr(Jr.default.SDK_VERSION,e.aa):null)}function Pl(e,t){e.ja&&dn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&ln(t,"frameworkChanged",e.Oa)}function Rl(e){try{return Jr.default.app(e.m).auth()}catch(t){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Ol(e){e.J||e.D.b||(e.D.start(),dn(e,"tokenChanged",e.ba),ln(e,"tokenChanged",e.ba))}function Dl(e){dn(e,"tokenChanged",e.ba),e.D.stop()}function Ml(e,t){e.Aa=t,Xr(e,"_lat",t)}function Ll(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Pt(t).then((function(){return e}))}function Fl(e){e.b&&!e.P&&(e.P=!0,qc(e.b,e))}function jl(e,t){Zr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new kl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Ul(){}function ql(e){return xt().then((function(){if(e.J)throw new I("app-deleted")}))}function Vl(e){return H(e.providerData,(function(e){return e.providerId}))}function Bl(e,t){t&&(zl(e,t.providerId),e.providerData.push(t))}function zl(e,t){Y(e.providerData,(function(e){return e.providerId==t}))}function Wl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Xr(e,t,n)}function Kl(e,t){e!=t&&(Zr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Xr(e,"metadata",function(e){return new kl(e.a,e.b)}(t.metadata)):Xr(e,"metadata",new kl),W(t.providerData,(function(t){Bl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Xr(e,"refreshToken",e.h.a),gl(e.S,t.S.b))}function Hl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return cu(e.a,qs,{idToken:t}).then(_(e.Kc,e))}(e,t).then((function(){return n||Wl(e,"isAnonymous",!1),t}))}))}function Gl(e,t){t[rs]&&e.Aa!=t[rs]&&(Sl(e.h,t),e.dispatchEvent(new vl("tokenChanged")),Ml(e,t[rs]),Wl(e,"refreshToken",e.h.a))}function Ql(e,t){return Hl(e).then((function(){if(Q(Vl(e),t))return Ll(e).then((function(){throw new I("provider-already-linked")}))}))}function $l(e,t,n){return ei({user:e,credential:Bo(t),additionalUserInfo:t=Zi(t),operationType:n})}function Yl(e,t){return Gl(e,t),e.reload().then((function(){return e}))}function Xl(e,t,n,r,i){if(!Or())return Nt(new I("operation-not-supported-in-this-environment"));if(e.i&&!i)return Nt(e.i);var o=Ji(n.providerId),a=qr(e.uid+":::"),s=null;(!Lr()||_r())&&e.s&&n.isOAuthProvider&&(s=ku(e.s,e.l,e.m,t,n,null,a,Jr.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=mr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Zl(e),!i)return e.I().then((function(){}))})).then((function(){return Wc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new _t((function(n,r){e.na(t,null,new I("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Gc(e.b,e,t,u,a)}))})).then((function(e){return u&&vr(u),e?ei(e):null})).o((function(e){throw u&&vr(u),e})),ef(e,r,i)}function Jl(e,t,n,r,i){if(!Or())return Nt(new I("operation-not-supported-in-this-environment"));if(e.i&&!i)return Nt(e.i);var o=null,a=qr(e.uid+":::");return r=r().then((function(){if(Zl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Ll(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(rf,e.w(),t.a)),t})).then((function(){return Hc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return of(e.ha);throw o})).then((function(){if(o)throw o})),ef(e,r,i)}function Zl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new I("internal-error");throw new I("auth-domain-config-required")}}function ef(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Nt(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new vl("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){$(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=fl(t.w(),Rl(e),_(e.jc,e))),n||t}))}function tf(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[rs]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Il(t,n,e);return e.providerData&&W(e.providerData,(function(e){e&&Bl(i,ei(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function nf(e){this.a=e,this.b=sc()}sl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[ul],delete n[cl],ge(n,e),t.g(n)}))},k(ll,I),hl.prototype.tb=function(e,t,n){return t.type==lo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),ge(n,{phoneVerificationInfo:Uo(e.a)}),cu(t,js,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ge(n={mfaPendingCredential:n},{phoneVerificationInfo:Uo(e.a)}),cu(t,Us,n)}))}(this,e,t)},k(dl,hl),k(pl,dl),k(vl,Xt),(e=ml.prototype).yc=function(e){gl(this,function(e){var t=[];return W(e.mfaInfo||[],(function(e){(e=ri(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new co(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Gl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return cu(r,uu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=K(t.b,(function(e){return e.uid!=n}));return gl(t,r),Gl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(e){return e.w()}))}}},yl.prototype.start=function(){this.a=this.c,bl(this,!0)},yl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},wl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},wl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Nt(new I("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?El(this,{grant_type:"refresh_token",refresh_token:this.a}):xt(null):xt({accessToken:this.b.toString(),refreshToken:this.a})},kl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(Il,Sn),Il.prototype.xa=function(e){this.za=e,us(this.a,e)},Il.prototype.la=function(){return this.za},Il.prototype.Ga=function(){return J(this.aa)},Il.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Xr(Il.prototype,"providerId","firebase"),(e=Il.prototype).reload=function(){var e=this;return ef(this,ql(this).then((function(){return Hl(e).then((function(){return Ll(e)})).then(Ul)})))},e.oc=function(e){return this.I(e).then((function(e){return new al(e)}))},e.I=function(e){var t=this;return ef(this,ql(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new I("internal-error");return e.accessToken!=t.Aa&&(Ml(t,e.accessToken),t.dispatchEvent(new vl("tokenChanged"))),Wl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new I("internal-error");jl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?H(e,(function(e){return new Tl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Bl(this,t[n]);Wl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new vl("userReloaded",{hd:e}))},e.Lc=function(e){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return ef(this,e.c(this.a,this.uid).then((function(e){return Gl(t,e),n=$l(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return ef(this,Ql(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=$l(t,e,"link"),Yl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return ef(this,Ql(this,"phone").then((function(){return ol(Rl(n),e,t,_(n.rb,n))})))},e.Mc=function(e,t){var n=this;return ef(this,xt().then((function(){return ol(Rl(n),e,t,_(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return ef(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Gl(t,e),t.reload()})))},e.ed=function(e){var t=this;return ef(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Gl(t,e),t.reload()})))},e.Db=function(e){var t=this;return ef(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Gl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return ql(this);var t=this;return ef(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Gl(t,e),Wl(t,"displayName",e.displayName||null),Wl(t,"photoURL",e.photoUrl||null),W(t.providerData,(function(e){"password"===e.providerId&&(Xr(e,"displayName",t.displayName),Xr(e,"photoURL",t.photoURL))})),Ll(t)})).then(Ul))},e.cd=function(e){var t=this;return ef(this,Hl(this).then((function(n){return Q(Vl(t),e)?function(e,t,n){return cu(e,Ds,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return W(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),W(Vl(t),(function(e){n[e]||zl(t,e)})),n[qo.PROVIDER_ID]||Xr(t,"phoneNumber",null),Ll(t)})):Ll(t).then((function(){throw new I("no-such-provider")}))})))},e.delete=function(){var e=this;return ef(this,this.I().then((function(t){return cu(e.a,Os,{idToken:t})})).then((function(){e.dispatchEvent(new vl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");xl(e,null),Nl(e,null),Pl(e,null),e.N=[],e.J=!0,Dl(e),Xr(e,"refreshToken",null),e.b&&Vc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?_(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?_(this.Mb,this):null},e.Ec=function(e){var t=this;return Xl(this,"linkViaPopup",e,(function(){return Ql(t,e.providerId).then((function(){return Ll(t)}))}),!1)},e.Nc=function(e){return Xl(this,"reauthViaPopup",e,(function(){return xt()}),!0)},e.Fc=function(e){var t=this;return Jl(this,"linkViaRedirect",e,(function(){return Ql(t,e.providerId)}),!1)},e.Oc=function(e){return Jl(this,"reauthViaRedirect",e,(function(){return xt()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ef(this,this.I().then((function(n){return Is(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=$l(i,e,"link"),Yl(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ef(this,xt().then((function(){return po(Cs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=$l(i,e,"reauthenticate"),Gl(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return ef(this,this.I().then((function(t){return n=t,"undefined"===typeof e||pe(e)?{}:zi(new Oi(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return ef(this,this.I().then((function(e){return r=e,"undefined"===typeof t||pe(t)?{}:zi(new Oi(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return ef(this,e=po(xt(e),n.uid).then((function(e){return t=$l(n,e,"reauthenticate"),Gl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ge(e,this.metadata.w()),W(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ge(e,this.S.w()),e};var rf={name:"redirectUser",F:"session"};function of(e){return lc(e.b,rf,e.a)}function af(e){this.a=e,this.b=sc(),this.c=null,this.f=function(e){var t=cf("local"),n=cf("session"),r=cf("none");return function(e,t,n){var r=cc(t,n),i=uc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Ur(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(uf,e.a).then((function(e){return e?cf(e):t}))}))}))})).then((function(t){return e.c=t,sf(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(cf("local"),this.a,_(this.g,this))}function sf(e,t){var n,r=[];for(n in oc)oc[n]!==t&&r.push(lc(e.b,cf(oc[n]),e.a));return r.push(lc(e.b,uf,e.a)),function(e){return new _t((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)At(e[s],S(o,s),a);else t(i)}))}(r)}af.prototype.g=function(){var e=this,t=cf("local");df(this,(function(){return xt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return sf(e,"local").then((function(){e.c=t}))}))}))};var uf={name:"persistence",F:"session"};function cf(e){return{name:"authUser",F:e}}function lf(e,t){return df(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function ff(e){return df(e,(function(){return lc(e.b,e.c,e.a)}))}function hf(e,t,n){return df(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),tf(e||{})}))}))}function df(e,t){return e.f=e.f.then(t,t),e.f}function pf(e){if(this.l=!1,Xr(this,"settings",new rl),Xr(this,"app",e),!Ef(this).options||!Ef(this).options.apiKey)throw new I("invalid-api-key");e=Jr.default.SDK_VERSION?Nr(Jr.default.SDK_VERSION):null,this.a=new ts(Ef(this).options&&Ef(this).options.apiKey,R(x),e),this.P=[],this.s=[],this.N=[],this.Pa=Jr.default.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=Jr.default.INTERNAL.createSubscribe(_(this.Ac,this)),_f(this,null),this.i=new af(Ef(this).options.apiKey+":"+Ef(this).name),this.D=new nf(Ef(this).options.apiKey+":"+Ef(this).name),this.$=Cf(this,function(e){var t=Ef(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(rf,e.a).then((function(e){return e&&t&&(e.authDomain=t),tf(e||{})}))}(e.D,Ef(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),of(e.D)}));return Cf(e,t)}(e).then((function(){return hf(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return lf(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:ff(e.i)}))):null})).then((function(t){_f(e,t||null)}));return Cf(e,n)}(this)),this.h=Cf(this,function(e){return e.$.then((function(){return bf(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(cf("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(e){var t=Ef(e).options.authDomain,n=Ef(e).options.apiKey;t&&Or()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Yc(t,n,Ef(e).name,e.R),qc(e.b,e),kf(e)&&Fl(kf(e)),e.m){Fl(e.m);var r=e.m;r.xa(e.la()),xl(r,e),Al(r=e.m,e.J),Pl(r,e),Cl(r=e.m,e.R),Nl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,Sn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=qn(this.R.url);e=ei({protocol:e.c,host:e.a,port:e.g,options:ei({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function vf(e){Xt.call(this,"languageCodeChanged"),this.h=e}function mf(e){Xt.call(this,"emulatorConfigChanged"),this.c=e}function gf(e){Xt.call(this,"frameworkChanged"),this.f=e}function yf(e){return e.Oa||Nt(new I("auth-domain-config-required"))}function bf(e){if(!Or())return Nt(new I("operation-not-supported-in-this-environment"));var t=yf(e).then((function(){return e.b.ra()})).then((function(e){return e?ei(e):null}));return Cf(e,t)}function wf(e,t){var n={};return n.apiKey=Ef(e).options.apiKey,n.authDomain=Ef(e).options.authDomain,n.appName=Ef(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new Il(e,t);return n&&(i.ha=n),r&&Al(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return kf(e)&&t.uid==kf(e).uid?(Kl(kf(e),t),e.da(t)):(_f(e,t),Fl(t),e.da(t))})).then((function(){If(e)}))}function _f(e,t){kf(e)&&(function(e,t){Y(e.W,(function(e){return e==t}))}(kf(e),e.Ba),dn(kf(e),"tokenChanged",e.qa),dn(kf(e),"userDeleted",e.za),dn(kf(e),"userInvalidated",e.Aa),Dl(kf(e))),t&&(t.W.push(e.Ba),ln(t,"tokenChanged",e.qa),ln(t,"userDeleted",e.za),ln(t,"userInvalidated",e.Aa),0<e.u&&Ol(t)),Xr(e,"currentUser",t),t&&(t.xa(e.la()),xl(t,e),Al(t,e.J),Pl(t,e),Cl(t,e.R),Nl(t,e))}function Sf(e,t){var n=null,r=null;return Cf(e,t.then((function(t){return n=Bo(t),r=Zi(t),wf(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=fl(t.w(),e,_(e.kc,e))),n||t})).then((function(){return ei({user:kf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Ef(e){return e.app}function kf(e){return e.currentUser}function Tf(e){return kf(e)&&kf(e)._lat||null}function If(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Tf(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Tf(e))}}function Cf(e,t){return e.P.push(t),t.oa((function(){$(e.P,t)})),t}function xf(){}function Nf(){this.a={},this.b=1e12}af.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");e:{for(r in oc)if(oc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Er()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!ju()&&"none"!==e)throw n;break;default:if(!Rr()&&"none"!==e)throw n}}(e),df(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,sf(n,e)})).then((function(){if(n.c=cf(e),t)return n.b.set(n.c,t,n.a)})):xt()}))},k(pf,Sn),k(vf,Xt),k(mf,Xt),k(gf,Xt),(e=pf.prototype).yb=function(e){return Cf(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,us(this.a,this.aa),this.dispatchEvent(new vf(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&br().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,cs(this.a,this.R),this.dispatchEvent(new mf(this.R))}},e.Gc=function(e){this.J.push(e),fs(this.a,Jr.default.SDK_VERSION?Nr(Jr.default.SDK_VERSION,this.J):null),this.dispatchEvent(new gf(this.J))},e.Ga=function(){return J(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:Ef(this).options.apiKey,authDomain:Ef(this).options.authDomain,appName:Ef(this).name,currentUser:kf(this)&&kf(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?_(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return Sf(i,Ts(i.a,o))}))},e.Xc=function(e){if(!Or())return Nt(new I("operation-not-supported-in-this-environment"));var t=this,n=Ji(e.providerId),r=qr(),i=null;(!Lr()||_r())&&Ef(this).options.authDomain&&e.isOAuthProvider&&(i=ku(Ef(this).options.authDomain,Ef(this).options.apiKey,Ef(this).name,"signInViaPopup",e,null,r,Jr.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=mr(i,n&&n.va,n&&n.ua);return Cf(this,n=yf(this).then((function(n){return Wc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new _t((function(e,n){t.na("signInViaPopup",null,new I("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Gc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&vr(o),e?ei(e):null})).o((function(e){throw o&&vr(o),e})))},e.Yc=function(e){if(!Or())return Nt(new I("operation-not-supported-in-this-environment"));var t=this,n=yf(this).then((function(){return function(e){return df(e,(function(){return e.b.set(uf,e.c.F,e.a)}))}(t.i)})).then((function(){return Hc(t.b,"signInViaRedirect",e,void 0,t.T())}));return Cf(this,n)},e.ra=function(){var e=this;return bf(this).then((function(t){return e.b&&Zc(e.b.b),t})).o((function(t){throw e.b&&Zc(e.b.b),t}))},e.dd=function(e){if(!e)return Nt(new I("null-user"));if(this.S!=e.tenantId)return Nt(new I("tenant-id-mismatch"));var t=this,n={};n.apiKey=Ef(this).options.apiKey,n.authDomain=Ef(this).options.authDomain,n.appName=Ef(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[rs]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Il(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Al(t,r),Kl(t,e),t}(e,n,t.D,t.Ga());return Cf(this,this.h.then((function(){if(Ef(t).options.apiKey!=e.l)return r.reload()})).then((function(){return kf(t)&&e.uid==kf(t).uid?(Kl(kf(t),e),t.da(e)):(_f(t,r),Fl(r),t.da(r))})).then((function(){If(t)})))},e.Bb=function(){var e=this;return Cf(this,this.h.then((function(){return e.b&&Zc(e.b.b),kf(e)?(_f(e,null),ff(e.i).then((function(){If(e)}))):xt()})))},e.Zc=function(){var e=this;return hf(this.i,Ef(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=kf(e)&&t){n=kf(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Kl(kf(e),t),kf(e).I();(kf(e)||t)&&(_f(e,t),t&&(Fl(t),t.ha=e.D),e.b&&qc(e.b,e),If(e))}}))},e.da=function(e){return lf(this.i,e)},e.mc=function(){If(this),this.da(kf(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return Sf(t,xt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(kf(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Cf(e,e.h.then((function(){!e.l&&Q(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Tf(e)))})))}(this,(function(){e.next(kf(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(kf(r)):"function"===typeof e.next&&e.next(kf(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(kf(r)):"function"===typeof e.next&&e.next(kf(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return Cf(this,this.h.then((function(){return kf(t)?kf(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return Sf(t,cu(t.a,ru,{token:e}))})).then((function(e){var n=e.user;return Wl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return Sf(n,cu(n.a,iu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return Sf(n,cu(n.a,Ps,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return Sf(t,e.ka(t.a))}))},e.Sc=function(e){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=kf(e);if(t&&t.isAnonymous){var n=ei({providerId:null,isNewUser:!1});return ei({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Sf(e,e.a.Ab()).then((function(t){var n=t.user;return Wl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return kf(this)&&kf(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&kf(this)&&Ol(kf(this))},e.Pc=function(e){var t=this;W(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&kf(this)&&Dl(kf(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),Cf(this,this.h.then((function(){t.l||Q(t.s,e)&&e(Tf(t))})))},e.removeAuthTokenListener=function(e){Y(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(cf("local"),e.a,this.ja),this.b&&(Vc(this.b,this),Zc(this.b.b)),Promise.resolve()},e.hc=function(e){return Cf(this,function(e,t){return cu(e,Rs,{identifier:t,continueUri:Dr()?fr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Lo(e)},e.xb=function(e,t){var n=this;return Cf(this,xt().then((function(){var e=new Oi(t);if(!e.c)throw new I("argument-error",Li+" must be true when sending sign in link to email");return zi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return Cf(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return Cf(this,this.a.Sa(e).then((function(e){return new ci(e)})))},e.kb=function(e){return Cf(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return Cf(this,xt().then((function(){return"undefined"===typeof t||pe(t)?{}:zi(new Oi(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return Cf(this,ol(this,e,t,_(this.ab,this)))},e.Vc=function(e,t){var n=this;return Cf(this,xt().then((function(){var r=t||fr(),i=Mo(e,r);if(!(r=Lo(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new I("tenant-id-mismatch");return n.ab(i)})))},xf.prototype.render=function(){},xf.prototype.reset=function(){},xf.prototype.getResponse=function(){},xf.prototype.execute=function(){};var Af=null;function Pf(e,t){return(t=Rf(t))&&e.a[t]||null}function Rf(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Of(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Df(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Mf(){}function Lf(){}Nf.prototype.render=function(e,t){return this.a[this.b.toString()]=new Of(e,t),this.b++},Nf.prototype.reset=function(e){var t=Pf(this,e);e=Rf(e),t&&e&&(t.delete(),delete this.a[e])},Nf.prototype.getResponse=function(e){return(e=Pf(this,e))?e.getResponse():null},Nf.prototype.execute=function(e){(e=Pf(this,e))&&e.execute()},Of.prototype.getResponse=function(){return Df(this),this.b},Of.prototype.execute=function(){Df(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Of.prototype.delete=function(){Df(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Xr(Mf,"FACTOR_ID","phone"),Lf.prototype.g=function(){return Af||(Af=new Nf),xt(Af)},Lf.prototype.c=function(){};var Ff=null;function jf(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Uf=new be(Ee,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),qf=new zr(3e4,6e4);jf.prototype.g=function(e){var t=this;return new _t((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),qf.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new I("internal-error"));delete s[t.a]},xt(Qa(Ce(Uf,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},jf.prototype.c=function(){this.b--};var Vf=null;function Bf(e,t,n,r,i,o,a){if(Xr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Ff||(Ff=new Lf),a=Ff):(Vf||(Vf=new jf),a=Vf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Kf])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Hf],!s.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ts(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[zf];this.a[zf]=function(e){if(Gf(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Pr(c,s);"function"===typeof t&&t(e)}};var l=this.a[Wf];this.a[Wf]=function(){if(Gf(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Pr(l,s);"function"===typeof e&&e()}}}var zf="callback",Wf="expired-callback",Kf="sitekey",Hf="size";function Gf(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Qf(e,t){return e.h.push(t),t.oa((function(){$(e.h,t)})),t}function $f(e){if(e.J)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function Yf(e,t,n){var r=!1;try{this.b=n||Jr.default.app()}catch(a){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=Jr.default.SDK_VERSION?Nr(Jr.default.SDK_VERSION,o):null,Bf.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,R(x),r)}function Xf(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Jf.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=Jf[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new I("argument-error",e+" failed: "+r)}(e=Bf.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Qf(this,xt().then((function(){if(Dr()&&!Sr())return br();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,cu(e.s,Hs,{})})).then((function(t){e.a[Kf]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){$f(this);var e=this;return Qf(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ut&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',We(a.name),'"'),a.type){o.push(' type="',We(a.type),'"');var s={};ge(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=vt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):lt(o,a)),2<r.length&&pt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){$f(this);var e=this;return Qf(this,this.render().then((function(t){return new _t((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Y(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){$f(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){$f(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},k(Yf,Bf);var Jf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Zf(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function eh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function th(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function nh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function rh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function ih(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function oh(e,t){return v(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function ah(e){return v(e)&&"string"===typeof e.uid}function sh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function uh(e,t){for(var n in t){var r=t[n].name;e[r]=fh(r,e[n],t[n].j)}}function ch(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:S((function(e){return this[e]}),n),set:S((function(e,t,n,r){Xf(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function lh(e,t,n,r){e[t]=fh(t,n,r)}function fh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Xf(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}uh(pf.prototype,{kb:{name:"applyActionCode",j:[Zf("code")]},Sa:{name:"checkActionCode",j:[Zf("code")]},ob:{name:"confirmPasswordReset",j:[Zf("code"),Zf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Zf("email"),Zf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Zf("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Zf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[sh(th(),nh(),"nextOrObserver"),nh("opt_error",!0),nh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[sh(th(),nh(),"nextOrObserver"),nh("opt_error",!0),nh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Zf("email"),sh(th("opt_actionCodeSettings",!0),rh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Zf("email"),th("actionCodeSettings")]},yb:{name:"setPersistence",j:[Zf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ih()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ih()]},Tc:{name:"signInWithCustomToken",j:[Zf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Zf("email"),Zf("password")]},Vc:{name:"signInWithEmailLink",j:[Zf("email"),Zf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Zf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[sh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Il)}},rh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Zf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Zf("url"),th("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Zf("code")]}}),ch(pf.prototype,{lc:{name:"languageCode",lb:sh(Zf(),rh(),"languageCode")},ti:{name:"tenantId",lb:sh(Zf(),rh(),"tenantId")}}),pf.Persistence=oc,pf.Persistence.LOCAL="local",pf.Persistence.SESSION="session",pf.Persistence.NONE="none",uh(Il.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[eh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[eh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ih()]},rb:{name:"linkWithCredential",j:[ih()]},Dc:{name:"linkWithPhoneNumber",j:[Zf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ih()]},ub:{name:"reauthenticateWithCredential",j:[ih()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Zf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[sh(th("opt_actionCodeSettings",!0),rh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Zf(null,!0)]},cd:{name:"unlink",j:[Zf("provider")]},Cb:{name:"updateEmail",j:[Zf("email")]},Db:{name:"updatePassword",j:[Zf("password")]},ed:{name:"updatePhoneNumber",j:[ih("phone")]},Eb:{name:"updateProfile",j:[th("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Zf("email"),sh(th("opt_actionCodeSettings",!0),rh(null,!0),"opt_actionCodeSettings",!0)]}}),uh(Nf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uh(xf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uh(_t.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ch(rl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:eh("appVerificationDisabledForTesting")}}),uh(il.prototype,{confirm:{name:"confirm",j:[Zf("verificationCode")]}}),lh(ho,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[wo,Oo,jo,go],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[sh(Zf(),th(),"json")]),lh(Do,"credential",(function(e,t){return new Ro(e,t)}),[Zf("email"),Zf("password")]),uh(Ro.prototype,{w:{name:"toJSON",j:[Zf(null,!0)]}}),uh(ko.prototype,{Ca:{name:"addScope",j:[Zf("scope")]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(ko,"credential",To,[sh(Zf(),th(),"token")]),lh(Do,"credentialWithLink",Mo,[Zf("email"),Zf("emailLink")]),uh(Io.prototype,{Ca:{name:"addScope",j:[Zf("scope")]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(Io,"credential",Co,[sh(Zf(),th(),"token")]),uh(xo.prototype,{Ca:{name:"addScope",j:[Zf("scope")]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(xo,"credential",No,[sh(Zf(),sh(th(),rh()),"idToken"),sh(Zf(),rh(),"accessToken",!0)]),uh(Ao.prototype,{Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(Ao,"credential",Po,[sh(Zf(),th(),"token"),Zf("secret",!0)]),uh(Eo.prototype,{Ca:{name:"addScope",j:[Zf("scope")]},credential:{name:"credential",j:[sh(Zf(),sh(th(),rh()),"optionsOrIdToken"),sh(Zf(),rh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),uh(yo.prototype,{w:{name:"toJSON",j:[Zf(null,!0)]}}),uh(vo.prototype,{w:{name:"toJSON",j:[Zf(null,!0)]}}),lh(qo,"credential",Vo,[Zf("verificationId"),Zf("verificationCode")]),uh(qo.prototype,{gb:{name:"verifyPhoneNumber",j:[sh(Zf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?oh(e.session,lo)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?oh(e.session,fo)&&ah(e.multiFactorHint):e.session&&e.multiFactorUid?oh(e.session,fo)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),uh(Fo.prototype,{w:{name:"toJSON",j:[Zf(null,!0)]}}),uh(I.prototype,{toJSON:{name:"toJSON",j:[Zf(null,!0)]}}),uh(Yo.prototype,{toJSON:{name:"toJSON",j:[Zf(null,!0)]}}),uh($o.prototype,{toJSON:{name:"toJSON",j:[Zf(null,!0)]}}),uh(ll.prototype,{toJSON:{name:"toJSON",j:[Zf(null,!0)]}}),uh(sl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),uh(ml.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Zf("displayName",!0)]},bd:{name:"unenroll",j:[sh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:ah},Zf(),"multiFactorInfoIdentifier")]}}),uh(Yf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),lh(ki,"parseLink",Ri,[Zf("link")]),lh(Mf,"assertion",(function(e){return new pl(e)}),[ih("phone")]),function(){if("undefined"===typeof Jr.default||!Jr.default.INTERNAL||!Jr.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:hi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:pf,AuthCredential:ho,Error:I};lh(e,"EmailAuthProvider",Do,[]),lh(e,"FacebookAuthProvider",ko,[]),lh(e,"GithubAuthProvider",Io,[]),lh(e,"GoogleAuthProvider",xo,[]),lh(e,"TwitterAuthProvider",Ao,[]),lh(e,"OAuthProvider",Eo,[Zf("providerId")]),lh(e,"SAMLAuthProvider",So,[Zf("providerId")]),lh(e,"PhoneAuthProvider",qo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof pf)}}]),lh(e,"RecaptchaVerifier",Yf,[sh(Zf(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),th("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Jr.default.app.App)}}]),lh(e,"ActionCodeURL",ki,[]),lh(e,"PhoneMultiFactorGenerator",Mf,[]),Jr.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new pf(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),Jr.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:_((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:_(e.nc,e),addAuthTokenListener:_(e.cc,e),removeAuthTokenListener:_(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Jr.default.registerVersion("@firebase/auth","0.16.8"),Jr.default.INTERNAL.extendNamespace({User:Il})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});n(172);var Zr=function(e,t){return Zr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Zr(e,t)};function ei(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Zr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function ti(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Uy){o(Uy)}}function s(e){try{u(r.throw(e))}catch(Uy){o(Uy)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ni(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Uy){o=[6,Uy],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function ri(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var ii=n(293),oi=n(386),ai=function(e,t){return ai=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ai(e,t)};function si(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ui,ci="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},li=li||{},fi=ci||self;function hi(){}function di(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function pi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var vi="closure_uid_"+(1e9*Math.random()>>>0),mi=0;function gi(e,t,n){return e.call.apply(e.bind,arguments)}function yi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function bi(e,t,n){return(bi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gi:yi).apply(null,arguments)}function wi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _i(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Si(){this.s=this.s,this.o=this.o}var Ei={};Si.prototype.s=!1,Si.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,vi)&&e[vi]||(e[vi]=++mi)}(this);delete Ei[e]}},Si.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ki=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ti=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Ii(e){return Array.prototype.concat.apply([],arguments)}function Ci(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function xi(e){return/^[\s\xa0]*$/.test(e)}var Ni,Ai=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Pi(e,t){return-1!=e.indexOf(t)}function Ri(e,t){return e<t?-1:e>t?1:0}e:{var Oi=fi.navigator;if(Oi){var Di=Oi.userAgent;if(Di){Ni=Di;break e}}Ni=""}function Mi(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Li(e){var t={};for(var n in e)t[n]=e[n];return t}var Fi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ji(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Fi.length;o++)n=Fi[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ui(e){return Ui[" "](e),e}Ui[" "]=hi;var qi,Vi=Pi(Ni,"Opera"),Bi=Pi(Ni,"Trident")||Pi(Ni,"MSIE"),zi=Pi(Ni,"Edge"),Wi=zi||Bi,Ki=Pi(Ni,"Gecko")&&!(Pi(Ni.toLowerCase(),"webkit")&&!Pi(Ni,"Edge"))&&!(Pi(Ni,"Trident")||Pi(Ni,"MSIE"))&&!Pi(Ni,"Edge"),Hi=Pi(Ni.toLowerCase(),"webkit")&&!Pi(Ni,"Edge");function Gi(){var e=fi.document;return e?e.documentMode:void 0}e:{var Qi="",$i=function(){var e=Ni;return Ki?/rv:([^\);]+)(\)|;)/.exec(e):zi?/Edge\/([\d\.]+)/.exec(e):Bi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Hi?/WebKit\/(\S+)/.exec(e):Vi?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if($i&&(Qi=$i?$i[1]:""),Bi){var Yi=Gi();if(null!=Yi&&Yi>parseFloat(Qi)){qi=String(Yi);break e}}qi=Qi}var Xi,Ji={};function Zi(){return function(e){var t=Ji;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ai(String(qi)).split("."),n=Ai("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Ri(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Ri(0==o[2].length,0==a[2].length)||Ri(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(fi.document&&Bi){var eo=Gi();Xi=eo||(parseInt(qi,10)||void 0)}else Xi=void 0;var to=Xi,no=function(){if(!fi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{fi.addEventListener("test",hi,t),fi.removeEventListener("test",hi,t)}catch(n){}return e}();function ro(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function io(e,t){if(ro.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ki){e:{try{Ui(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:oo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&io.Z.h.call(this)}}ro.prototype.h=function(){this.defaultPrevented=!0},_i(io,ro);var oo={2:"touch",3:"pen",4:"mouse"};io.prototype.h=function(){io.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ao="closure_listenable_"+(1e6*Math.random()|0),so=0;function uo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++so,this.ca=this.fa=!1}function co(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function lo(e){this.src=e,this.g={},this.h=0}function fo(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=ki(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(co(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ho(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}lo.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ho(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new uo(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var po="closure_lm_"+(1e6*Math.random()|0),vo={};function mo(e,t,n,r,i){if(r&&r.once)return yo(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)mo(e,t[o],n,r,i);return null}return n=To(n),e&&e[ao]?e.N(t,n,pi(r)?!!r.capture:!!r,i):go(e,t,n,!1,r,i)}function go(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=pi(i)?!!i.capture:!!i,s=Eo(e);if(s||(e[po]=s=new lo(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=So;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)no||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_o(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function yo(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)yo(e,t[o],n,r,i);return null}return n=To(n),e&&e[ao]?e.O(t,n,pi(r)?!!r.capture:!!r,i):go(e,t,n,!0,r,i)}function bo(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)bo(e,t[o],n,r,i);else r=pi(r)?!!r.capture:!!r,n=To(n),e&&e[ao]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ho(o=e.g[t],n,r,i))&&(co(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Eo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ho(t,n,r,i)),(n=-1<e?t[e]:null)&&wo(n))}function wo(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ao])fo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_o(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Eo(t))?(fo(n,e),0==n.h&&(n.src=null,t[po]=null)):co(e)}}}function _o(e){return e in vo?vo[e]:vo[e]="on"+e}function So(e,t){if(e.ca)e=!0;else{t=new io(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&wo(e),e=n.call(r,t)}return e}function Eo(e){return(e=e[po])instanceof lo?e:null}var ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function To(e){return"function"===typeof e?e:(e[ko]||(e[ko]=function(t){return e.handleEvent(t)}),e[ko])}function Io(){Si.call(this),this.i=new lo(this),this.P=this,this.I=null}function Co(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ro(t,e);else if(t instanceof ro)t.target=t.target||e;else{var i=t;ji(t=new ro(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=xo(a,r,!0,t)&&i}if(i=xo(a=t.g=e,r,!0,t)&&i,i=xo(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=xo(a=t.g=n[o],r,!1,t)&&i}function xo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&fo(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}_i(Io,Si),Io.prototype[ao]=!0,Io.prototype.removeEventListener=function(e,t,n,r){bo(this,e,t,n,r)},Io.prototype.M=function(){if(Io.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)co(n[r]);delete t.g[e],t.h--}}this.I=null},Io.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Io.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var No=fi.JSON.stringify;function Ao(){var e=jo,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Po,Ro=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Oo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Oo=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Do}),(function(e){return e.reset()})),Do=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Mo(e){fi.setTimeout((function(){throw e}),0)}function Lo(e,t){Po||function(){var e=fi.Promise.resolve(void 0);Po=function(){e.then(Uo)}}(),Fo||(Po(),Fo=!0),jo.add(e,t)}var Fo=!1,jo=new Ro;function Uo(){for(var e;e=Ao();){try{e.h.call(e.g)}catch(n){Mo(n)}var t=Oo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fo=!1}function qo(e,t){Io.call(this),this.h=e||1,this.g=t||fi,this.j=bi(this.kb,this),this.l=Date.now()}function Vo(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Bo(e,t,n){if("function"===typeof e)n&&(e=bi(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=bi(e.handleEvent,e)}return 2147483647<Number(t)?-1:fi.setTimeout(e,t||0)}function zo(e){e.g=Bo((function(){e.g=null,e.i&&(e.i=!1,zo(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}_i(qo,Io),(ui=qo.prototype).da=!1,ui.S=null,ui.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Co(this,"tick"),this.da&&(Vo(this),this.start()))}},ui.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ui.M=function(){qo.Z.M.call(this),Vo(this),delete this.g};var Wo=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ai(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:zo(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(fi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Si);function Ko(e){Si.call(this),this.h=e,this.g={}}_i(Ko,Si);var Ho=[];function Go(e,t,n,r){Array.isArray(n)||(n&&(Ho[0]=n.toString()),n=Ho);for(var i=0;i<n.length;i++){var o=mo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Qo(e){Mi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&wo(e)}),e),e.g={}}function $o(){this.g=!0}function Yo(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return No(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ko.prototype.M=function(){Ko.Z.M.call(this),Qo(this)},Ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$o.prototype.Aa=function(){this.g=!1},$o.prototype.info=function(){};var Xo={},Jo=null;function Zo(){return Jo=Jo||new Io}function ea(e){ro.call(this,Xo.Ma,e)}function ta(e){var t=Zo();Co(t,new ea(t,e))}function na(e,t){ro.call(this,Xo.STAT_EVENT,e),this.stat=t}function ra(e){var t=Zo();Co(t,new na(t,e))}function ia(e,t){ro.call(this,Xo.Na,e),this.size=t}function oa(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return fi.setTimeout((function(){e()}),t)}Xo.Ma="serverreachability",_i(ea,ro),Xo.STAT_EVENT="statevent",_i(na,ro),Xo.Na="timingevent",_i(ia,ro);var aa={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sa={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ua(){}function ca(e){return e.h||(e.h=e.i())}function la(){}ua.prototype.h=null;var fa,ha={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function da(){ro.call(this,"d")}function pa(){ro.call(this,"c")}function va(){}function ma(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ko(this),this.P=ya,e=Wi?125:void 0,this.W=new qo(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ga}function ga(){this.i=null,this.g="",this.h=!1}_i(da,ro),_i(pa,ro),_i(va,ua),va.prototype.g=function(){return new XMLHttpRequest},va.prototype.i=function(){return{}},fa=new va;var ya=45e3,ba={},wa={};function _a(e,t,n){e.K=1,e.v=Wa(ja(t)),e.s=n,e.U=!0,Sa(e,null)}function Sa(e,t){e.F=Date.now(),Ia(e),e.A=ja(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),rs(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ga,e.g=ou(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Wo(bi(e.Ia,e,e.g),e.O)),Go(e.V,e.g,"readystatechange",e.gb),t=e.H?Li(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ta(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ea(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ka(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ta(e,n))==wa){4==t&&(e.o=4,ra(14),i=!1),Yo(e.j,e.m,null,"[Incomplete Response]");break}if(r==ba){e.o=4,ra(15),Yo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Yo(e.j,e.m,r,null),Pa(e,r)}Ea(e)&&r!=wa&&r!=ba&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ra(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xs(t),t.L=!0,ra(11))):(Yo(e.j,e.m,n,"[Invalid Chunked Response]"),Aa(e),Na(e))}function Ta(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?wa:(n=Number(t.substring(n,r)),isNaN(n)?ba:(r+=1)+n>t.length?wa:(t=t.substr(r,n),e.C=r+n,t))}function Ia(e){e.Y=Date.now()+e.P,Ca(e,e.P)}function Ca(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=oa(bi(e.eb,e),t)}function xa(e){e.B&&(fi.clearTimeout(e.B),e.B=null)}function Na(e){0==e.l.G||e.I||eu(e.l,e)}function Aa(e){xa(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Vo(e.W),Qo(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Pa(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||fs(n.i,e)))if(n.I=e.N,!e.J&&fs(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zs(n),Bs(n)}Ys(n),ra(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=oa(bi(n.ab,n),6e3));if(1>=ls(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else nu(n,11)}else if((e.J||n.g==e)&&Zs(n),!xi(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Pi(l,"spdy")||Pi(l,"quic")||Pi(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(hs(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,za(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=iu(r,r.H?r.la:null,r.W),d.J){ds(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(xa(p),Ia(p)),r.g=d}else $s(r);0<n.l.length&&Ks(n)}else"stop"!=o[0]&&"close"!=o[0]||nu(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?nu(n,7):Vs(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}ta(4)}catch(o){}}function Ra(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(di(e)||"string"===typeof e)Ti(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(di(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(di(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Oa(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Oa)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Da(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ma(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ma(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ma(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ui=ma.prototype).setTimeout=function(e){this.P=e},ui.gb=function(e){e=e.target;var t=this.L;t&&3==Ls(e)?t.l():this.Ia(e)},ui.Ia=function(e){try{if(e==this.g)e:{var t=Ls(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Wi||this.g&&(this.h.h||this.g.ga()||Fs(this.g)))){this.I||4!=t||7==n||ta(8==n||0>=r?3:2),xa(this);var i=this.g.ba();this.N=i;t:if(Ea(this)){var o=Fs(this.g);e="";var a=o.length,s=4==Ls(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Aa(this),Na(this);var u="";break t}this.h.i=new fi.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xi(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ra(12),Aa(this),Na(this);break e}Yo(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pa(this,i)}this.U?(ka(this,t,u),Wi&&this.i&&3==t&&(Go(this.V,this.W,"tick",this.fb),this.W.start())):(Yo(this.j,this.m,u,null),Pa(this,u)),4==t&&Aa(this),this.i&&!this.I&&(4==t?eu(this.l,this):(this.i=!1,Ia(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ra(12)):(this.o=0,ra(13)),Aa(this),Na(this)}}}catch(t){}},ui.fb=function(){if(this.g){var e=Ls(this.g),t=this.g.ga();this.C<t.length&&(xa(this),ka(this,e,t),this.i&&4!=e&&Ia(this))}},ui.cancel=function(){this.I=!0,Aa(this)},ui.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ta(3),ra(17)),Aa(this),this.o=2,Na(this)):Ca(this,this.Y-e)},(ui=Oa.prototype).R=function(){Da(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ui.T=function(){return Da(this),this.g.concat()},ui.get=function(e,t){return Ma(this.h,e)?this.h[e]:t},ui.set=function(e,t){Ma(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ui.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var La=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fa(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Fa){this.g=void 0!==t?t:e.g,Ua(this,e.j),this.s=e.s,qa(this,e.i),Va(this,e.m),this.l=e.l,t=e.h;var n=new Za;n.i=t.i,t.g&&(n.g=new Oa(t.g),n.h=t.h),Ba(this,n),this.o=e.o}else e&&(n=String(e).match(La))?(this.g=!!t,Ua(this,n[1]||"",!0),this.s=Ka(n[2]||""),qa(this,n[3]||"",!0),Va(this,n[4]),this.l=Ka(n[5]||"",!0),Ba(this,n[6]||"",!0),this.o=Ka(n[7]||"")):(this.g=!!t,this.h=new Za(null,this.g))}function ja(e){return new Fa(e)}function Ua(e,t,n){e.j=n?Ka(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qa(e,t,n){e.i=n?Ka(t,!0):t}function Va(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ba(e,t,n){t instanceof Za?(e.h=t,function(e,t){t&&!e.j&&(es(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ts(this,t),rs(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ha(t,Xa)),e.h=new Za(t,e.g))}function za(e,t,n){e.h.set(t,n)}function Wa(e){return za(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ka(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ha(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ga),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ga(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Fa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ha(t,Qa,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ha(t,Qa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ha(n,"/"==n.charAt(0)?Ya:$a,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ha(n,Ja)),e.join("")};var Qa=/[#\/\?@]/g,$a=/[#\?:]/g,Ya=/[#\?]/g,Xa=/[#\?@]/g,Ja=/#/g;function Za(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function es(e){e.g||(e.g=new Oa,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ts(e,t){es(e),t=is(e,t),Ma(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ma((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Da(e)))}function ns(e,t){return es(e),t=is(e,t),Ma(e.g.h,t)}function rs(e,t,n){ts(e,t),0<n.length&&(e.i=null,e.g.set(is(e,t),Ci(n)),e.h+=n.length)}function is(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ui=Za.prototype).add=function(e,t){es(this),this.i=null,e=is(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ui.forEach=function(e,t){es(this),this.g.forEach((function(n,r){Ti(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ui.T=function(){es(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},ui.R=function(e){es(this);var t=[];if("string"===typeof e)ns(this,e)&&(t=Ii(t,this.g.get(is(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ii(t,e[n])}return t},ui.set=function(e,t){return es(this),this.i=null,ns(this,e=is(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ui.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ui.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var os=function(e,t){this.h=e,this.g=t};function as(e){this.l=e||us,fi.PerformanceNavigationTiming?e=0<(e=fi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(fi.g&&fi.g.Ea&&fi.g.Ea()&&fi.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ss,us=10;function cs(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ls(e){return e.h?1:e.g?e.g.size:0}function fs(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function hs(e,t){e.g?e.g.add(t):e.h=t}function ds(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ps(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=si(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Ci(e.i)}function vs(){}function ms(){this.g=new vs}function gs(e,t,n){var r=n||"";try{Ra(e,(function(e,n){var i=e;pi(e)&&(i=No(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Uy){throw t.push(r+"type="+encodeURIComponent("_badmap")),Uy}}function ys(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function bs(e){this.l=e.$b||null,this.j=e.ib||!1}function ws(e,t){Io.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_s,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}as.prototype.cancel=function(){var e,t;if(this.i=ps(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=si(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},vs.prototype.stringify=function(e){return fi.JSON.stringify(e,void 0)},vs.prototype.parse=function(e){return fi.JSON.parse(e,void 0)},_i(bs,ua),bs.prototype.g=function(){return new ws(this.l,this.j)},bs.prototype.i=(ss={},function(){return ss}),_i(ws,Io);var _s=0;function Ss(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Es(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ks(e)}function ks(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ui=ws.prototype).open=function(e,t){if(this.readyState!=_s)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ks(this)},ui.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||fi).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ui.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Es(this)),this.readyState=_s},ui.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ks(this)),this.g&&(this.readyState=3,ks(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof fi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ss(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ui.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Es(this):ks(this),3==this.readyState&&Ss(this)}},ui.Ua=function(e){this.g&&(this.response=this.responseText=e,Es(this))},ui.Ta=function(e){this.g&&(this.response=e,Es(this))},ui.ha=function(){this.g&&Es(this)},ui.setRequestHeader=function(e,t){this.v.append(e,t)},ui.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ui.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ts=fi.JSON.parse;function Is(e){Io.call(this),this.headers=new Oa,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cs,this.K=this.L=!1}_i(Is,Io);var Cs="",xs=/^https?$/i,Ns=["POST","PUT"];function As(e){return"content-type"==e.toLowerCase()}function Ps(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rs(e),Ds(e)}function Rs(e){e.D||(e.D=!0,Co(e,"complete"),Co(e,"error"))}function Os(e){if(e.h&&"undefined"!=typeof li&&(!e.C[1]||4!=Ls(e)||2!=e.ba()))if(e.v&&4==Ls(e))Bo(e.Fa,0,e);else if(Co(e,"readystatechange"),4==Ls(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(La)[1]||null;if(!o&&fi.self&&fi.self.location){var a=fi.self.location.protocol;o=a.substr(0,a.length-1)}i=!xs.test(o?o.toLowerCase():"")}t=i}if(t)Co(e,"complete"),Co(e,"success");else{e.m=6;try{var s=2<Ls(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Rs(e)}}finally{Ds(e)}}}function Ds(e,t){if(e.g){Ms(e);var n=e.g,r=e.C[0]?hi:null;e.g=null,e.C=null,t||Co(e,"ready");try{n.onreadystatechange=r}catch(Uy){}}}function Ms(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(fi.clearTimeout(e.A),e.A=null)}function Ls(e){return e.g?e.g.readyState:0}function Fs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Cs:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function js(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Mi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):za(e,t,n))}function Us(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qs(e){this.za=0,this.l=[],this.h=new $o,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Us("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Us("baseRetryDelayMs",5e3,e),this.$a=Us("retryDelaySeedMs",1e4,e),this.Ya=Us("forwardChannelMaxRetries",2,e),this.ra=Us("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new as(e&&e.concurrentRequestLimit),this.Ca=new ms,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Vs(e){if(zs(e),3==e.G){var t=e.V++,n=ja(e.F);za(n,"SID",e.J),za(n,"RID",t),za(n,"TYPE","terminate"),Gs(e,n),(t=new ma(e,e.h,t,void 0)).K=2,t.v=Wa(ja(n)),n=!1,fi.navigator&&fi.navigator.sendBeacon&&(n=fi.navigator.sendBeacon(t.v.toString(),"")),!n&&fi.Image&&((new Image).src=t.v,n=!0),n||(t.g=ou(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ia(t)}ru(e)}function Bs(e){e.g&&(Xs(e),e.g.cancel(),e.g=null)}function zs(e){Bs(e),e.u&&(fi.clearTimeout(e.u),e.u=null),Zs(e),e.i.cancel(),e.m&&("number"===typeof e.m&&fi.clearTimeout(e.m),e.m=null)}function Ws(e,t){e.l.push(new os(e.Za++,t)),3==e.G&&Ks(e)}function Ks(e){cs(e.i)||e.m||(e.m=!0,Lo(e.Ha,e),e.C=0)}function Hs(e,t){var n;n=t?t.m:e.V++;var r=ja(e.F);za(r,"SID",e.J),za(r,"RID",n),za(r,"AID",e.U),Gs(e,r),e.o&&e.s&&js(r,e.o,e.s),n=new ma(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Qs(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),hs(e.i,n),_a(n,r,t)}function Gs(e,t){e.j&&Ra({},(function(e,n){za(t,n,e)}))}function Qs(e,t,n){n=Math.min(e.l.length,n);var r=e.j?bi(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{gs(l,a,"req"+c+"_")}catch(qu){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function $s(e){e.g||e.u||(e.Y=1,Lo(e.Ga,e),e.A=0)}function Ys(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=oa(bi(e.Ga,e),tu(e,e.A)),e.A++,!0)}function Xs(e){null!=e.B&&(fi.clearTimeout(e.B),e.B=null)}function Js(e){e.g=new ma(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ja(e.oa);za(t,"RID","rpc"),za(t,"SID",e.J),za(t,"CI",e.N?"0":"1"),za(t,"AID",e.U),Gs(e,t),za(t,"TYPE","xmlhttp"),e.o&&e.s&&js(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Wa(ja(t)),n.s=null,n.U=!0,Sa(n,e)}function Zs(e){null!=e.v&&(fi.clearTimeout(e.v),e.v=null)}function eu(e,t){var n=null;if(e.g==t){Zs(e),Xs(e),e.g=null;var r=2}else{if(!fs(e.i,t))return;n=t.D,ds(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Co(r=Zo(),new ia(r,n,t,i)),Ks(e)}else $s(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ls(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=oa(bi(e.Ha,e,t),tu(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ys(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:nu(e,5);break;case 4:nu(e,10);break;case 3:nu(e,6);break;default:nu(e,2)}}function tu(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function nu(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=bi(e.jb,e);n||(n=new Fa("//www.google.com/images/cleardot.gif"),fi.location&&"http"==fi.location.protocol||Ua(n,"https"),Wa(n)),function(e,t){var n=new $o;if(fi.Image){var r=new Image;r.onload=wi(ys,n,r,"TestLoadImage: loaded",!0,t),r.onerror=wi(ys,n,r,"TestLoadImage: error",!1,t),r.onabort=wi(ys,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=wi(ys,n,r,"TestLoadImage: timeout",!1,t),fi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ra(2);e.G=0,e.j&&e.j.va(t),ru(e),zs(e)}function ru(e){e.G=0,e.I=-1,e.j&&(0==ps(e.i).length&&0==e.l.length||(e.i.i.length=0,Ci(e.l),e.l.length=0),e.j.ua())}function iu(e,t,n){var r=function(e){return e instanceof Fa?ja(e):new Fa(e,void 0)}(n);if(""!=r.i)t&&qa(r,t+"."+r.i),Va(r,r.m);else{var i=fi.location;r=function(e,t,n,r){var i=new Fa(null,void 0);return e&&Ua(i,e),t&&qa(i,t),n&&Va(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Mi(e.aa,(function(e,t){za(r,t,e)})),t=e.D,n=e.sa,t&&n&&za(r,t,n),za(r,"VER",e.ma),Gs(e,r),r}function ou(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Is(new bs({ib:!0})):new Is(e.qa)).L=e.H,t}function au(){}function su(){if(Bi&&!(10<=Number(to)))throw Error("Environmental error: no available transport.")}function uu(e,t){Io.call(this),this.g=new qs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!xi(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!xi(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fu(this)}function cu(e){da.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function lu(){pa.call(this),this.status=1}function fu(e){this.g=e}(ui=Is.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fa.g(),this.C=this.u?ca(this.u):ca(fa),this.g.onreadystatechange=bi(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Ps(this,o)}e=n||"";var i=new Oa(this.headers);r&&Ra(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=As,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=fi.FormData&&e instanceof fi.FormData,!(0<=ki(Ns,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ms(this),0<this.B&&((this.K=function(e){return Bi&&Zi()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bi(this.pa,this)):this.A=Bo(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Ps(this,o)}},ui.pa=function(){"undefined"!=typeof li&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Co(this,"timeout"),this.abort(8))},ui.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Co(this,"complete"),Co(this,"abort"),Ds(this))},ui.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ds(this,!0)),Is.Z.M.call(this)},ui.Fa=function(){this.s||(this.F||this.v||this.l?Os(this):this.cb())},ui.cb=function(){Os(this)},ui.ba=function(){try{return 2<Ls(this)?this.g.status:-1}catch(ss){return-1}},ui.ga=function(){try{return this.g?this.g.responseText:""}catch(ss){return""}},ui.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ts(t)}},ui.Da=function(){return this.m},ui.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ui=qs.prototype).ma=8,ui.G=1,ui.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},ui.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ma(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ji(n=Li(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Qs(this,t,r),za(i=ja(this.F),"RID",e),za(i,"CVER",22),this.D&&za(i,"X-HTTP-Session-Id",this.D),Gs(this,i),this.o&&n&&js(i,this.o,n),hs(this.i,t),this.Ra&&za(i,"TYPE","init"),this.ja?(za(i,"$req",r),za(i,"SID","null"),t.$=!0,_a(t,i,null)):_a(t,i,r),this.G=2}}else 3==this.G&&(e?Hs(this,e):0==this.l.length||cs(this.i)||Hs(this))},ui.Ga=function(){if(this.u=null,Js(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=oa(bi(this.bb,this),e)}},ui.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ra(10),Bs(this),Js(this))},ui.ab=function(){null!=this.v&&(this.v=null,Bs(this),Ys(this),ra(19))},ui.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ra(2)):(this.h.info("Failed to ping google.com"),ra(1))},(ui=au.prototype).xa=function(){},ui.wa=function(){},ui.va=function(){},ui.ua=function(){},ui.Oa=function(){},su.prototype.g=function(e,t){return new uu(e,t)},_i(uu,Io),uu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Lo(bi(e.hb,e,t))),ra(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=iu(e,null,e.W),Ks(e)},uu.prototype.close=function(){Vs(this.g)},uu.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ws(this.g,t)}else this.v?((t={}).__data__=No(e),Ws(this.g,t)):Ws(this.g,e)},uu.prototype.M=function(){this.g.j=null,delete this.j,Vs(this.g),delete this.g,uu.Z.M.call(this)},_i(cu,da),_i(lu,pa),_i(fu,au),fu.prototype.xa=function(){Co(this.g,"a")},fu.prototype.wa=function(e){Co(this.g,new cu(e))},fu.prototype.va=function(e){Co(this.g,new lu(e))},fu.prototype.ua=function(){Co(this.g,"b")},su.prototype.createWebChannel=su.prototype.g,uu.prototype.send=uu.prototype.u,uu.prototype.open=uu.prototype.m,uu.prototype.close=uu.prototype.close,aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,sa.COMPLETE="complete",la.EventType=ha,ha.OPEN="a",ha.CLOSE="b",ha.ERROR="c",ha.MESSAGE="d",Io.prototype.listen=Io.prototype.N,Is.prototype.listenOnce=Is.prototype.O,Is.prototype.getLastError=Is.prototype.La,Is.prototype.getLastErrorCode=Is.prototype.Da,Is.prototype.getStatus=Is.prototype.ba,Is.prototype.getResponseJson=Is.prototype.Qa,Is.prototype.getResponseText=Is.prototype.ga,Is.prototype.send=Is.prototype.ea;var hu=function(){return new su},du=function(){return Zo()},pu=aa,vu=sa,mu=Xo,gu={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yu=bs,bu=la,wu=Is,_u=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();_u.o=-1;var Su={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Eu=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return ei(t,e),t}(Error),ku=new oi.Logger("@firebase/firestore");function Tu(){return ku.logLevel}function Iu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ku.logLevel<=oi.LogLevel.DEBUG){var r=t.map(Nu);ku.debug.apply(ku,ri(["Firestore (8.10.1): "+e],r))}}function Cu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ku.logLevel<=oi.LogLevel.ERROR){var r=t.map(Nu);ku.error.apply(ku,ri(["Firestore (8.10.1): "+e],r))}}function xu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ku.logLevel<=oi.LogLevel.WARN){var r=t.map(Nu);ku.warn.apply(ku,ri(["Firestore (8.10.1): "+e],r))}}function Nu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Au(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Cu(t),new Error(t)}function Pu(e,t){e||Au()}function Ru(e,t){return e}function Ou(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Du=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ou(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Mu(e,t){return e<t?-1:e>t?1:0}function Lu(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Fu(e){return e+"\0"}var ju=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Eu(Su.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Eu(Su.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Eu(Su.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Eu(Su.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Mu(this.nanoseconds,e.nanoseconds):Mu(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Uu=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new ju(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function qu(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vu(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Bu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var zu=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Au(),void 0===n?n=e.length-t:n>e.length-t&&Au(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Wu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ei(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Eu(Su.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(zu),Ku=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ei(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Ku.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Eu(Su.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Eu(Su.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Eu(Su.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Eu(Su.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(zu),Gu=function(){function e(e){this.fields=e,e.sort(Hu.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Lu(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Qu=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Mu(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Qu.EMPTY_BYTE_STRING=new Qu("");var $u=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yu(e){if(Pu(!!e),"string"==typeof e){var t=0,n=$u.exec(e);if(Pu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Xu(e.seconds),nanos:Xu(e.nanos)}}function Xu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ju(e){return"string"==typeof e?Qu.fromBase64String(e):Qu.fromUint8Array(e)}function Zu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ec(e){var t=e.mapValue.fields.__previous_value__;return Zu(t)?ec(t):t}function tc(e){var t=Yu(e.mapValue.fields.__local_write_time__.timestampValue);return new ju(t.seconds,t.nanos)}function nc(e){return null==e}function rc(e){return 0===e&&1/e==-1/0}function ic(e){return"number"==typeof e&&Number.isInteger(e)&&!rc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var oc=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Wu.fromString(t))},e.fromName=function(t){return new e(Wu.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Wu.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Wu.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Wu(t.slice()))},e}();function ac(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Zu(e)?4:10:Au()}function sc(e,t){var n=ac(e);if(n!==ac(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return tc(e).isEqual(tc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Yu(e.timestampValue),r=Yu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ju(e.bytesValue).isEqual(Ju(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Xu(e.geoPointValue.latitude)===Xu(t.geoPointValue.latitude)&&Xu(e.geoPointValue.longitude)===Xu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Xu(e.integerValue)===Xu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Xu(e.doubleValue),r=Xu(t.doubleValue);return n===r?rc(n)===rc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Lu(e.arrayValue.values||[],t.arrayValue.values||[],sc);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(qu(n)!==qu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!sc(n[i],r[i])))return!1;return!0}(e,t);default:return Au()}}function uc(e,t){return void 0!==(e.values||[]).find((function(e){return sc(e,t)}))}function cc(e,t){var n=ac(e),r=ac(t);if(n!==r)return Mu(n,r);switch(n){case 0:return 0;case 1:return Mu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Xu(e.integerValue||e.doubleValue),r=Xu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return lc(e.timestampValue,t.timestampValue);case 4:return lc(tc(e),tc(t));case 5:return Mu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ju(e),r=Ju(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Mu(n[i],r[i]);if(0!==o)return o}return Mu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Mu(Xu(e.latitude),Xu(t.latitude));return 0!==n?n:Mu(Xu(e.longitude),Xu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=cc(n[i],r[i]);if(o)return o}return Mu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Mu(r[a],o[a]);if(0!==s)return s;var u=cc(n[r[a]],i[o[a]]);if(0!==u)return u}return Mu(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Au()}}function lc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mu(e,t);var n=Yu(e),r=Yu(t),i=Mu(n.seconds,r.seconds);return 0!==i?i:Mu(n.nanos,r.nanos)}function fc(e){return hc(e)}function hc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Yu(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ju(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,oc.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=hc(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+hc(e.fields[o])}return t+"}"}(e.mapValue):Au();var t,n}function dc(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function pc(e){return!!e&&"integerValue"in e}function vc(e){return!!e&&"arrayValue"in e}function mc(e){return!!e&&"nullValue"in e}function gc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function yc(e){return!!e&&"mapValue"in e}function bc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Vu(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=bc(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=bc(e.arrayValue.values[r]);return n}return Object.assign({},e)}var wc=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!yc(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bc(t)},e.prototype.setAll=function(e){var t=this,n=Hu.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=bc(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return sc(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];yc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Vu(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(bc(this.value))},e}();function _c(e){var t=[];return Vu(e.fields,(function(e,n){var r=new Hu([e]);if(yc(n)){var i=_c(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Gu(t)}var Sc=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Uu.min(),wc.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,wc.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,wc.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=wc.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=wc.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Ec=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function kc(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ec(e,t,n,r,i,o,a)}function Tc(e){var t=Ru(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+fc(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),nc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=jc(t.startAt)),t.endAt&&(n+="|ub:",n+=jc(t.endAt)),t.h=n}return t.h}function Ic(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!qc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!sc(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Bc(e.startAt,t.startAt)&&Bc(e.endAt,t.endAt)}function Cc(e){return oc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var xc=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return ei(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Nc(e,n,r):"array-contains"===n?new Oc(e,r):"in"===n?new Dc(e,r):"not-in"===n?new Mc(e,r):"array-contains-any"===n?new Lc(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Ac(e,n):new Pc(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(cc(t,this.value)):null!==t&&ac(this.value)===ac(t)&&this.m(cc(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Au()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Nc=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=oc.fromName(r.referenceValue),i}return ei(t,e),t.prototype.matches=function(e){var t=oc.comparator(e.key,this.key);return this.m(t)},t}(xc),Ac=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Rc("in",n),r}return ei(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(xc),Pc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Rc("not-in",n),r}return ei(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(xc);function Rc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return oc.fromName(e.referenceValue)}))}var Oc=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return ei(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return vc(t)&&uc(t.arrayValue,this.value)},t}(xc),Dc=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return ei(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&uc(this.value.arrayValue,t)},t}(xc),Mc=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return ei(t,e),t.prototype.matches=function(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!uc(this.value.arrayValue,t)},t}(xc),Lc=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return ei(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!vc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return uc(t.value.arrayValue,e)}))},t}(xc),Fc=function(e,t){this.position=e,this.before=t};function jc(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return fc(e)})).join(",")}var Uc=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function qc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Vc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?oc.comparator(oc.fromName(a.referenceValue),n.key):cc(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Bc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!sc(e.position[n],t.position[n]))return!1;return!0}var zc=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Wc(e,t,n,r,i,o,a,s){return new zc(e,t,n,r,i,o,a,s)}function Kc(e){return new zc(e)}function Hc(e){return!nc(e.limit)&&"F"===e.limitType}function Gc(e){return!nc(e.limit)&&"L"===e.limitType}function Qc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function $c(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Yc(e){return null!==e.collectionGroup}function Xc(e){var t=Ru(e);if(null===t.p){t.p=[];var n=$c(t),r=Qc(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Uc(n)),t.p.push(new Uc(Hu.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Uc(Hu.keyField(),u))}}}return t.p}function Jc(e){var t=Ru(e);if(!t.T)if("F"===t.limitType)t.T=kc(t.path,t.collectionGroup,Xc(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Xc(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Uc(o.field,a))}var s=t.endAt?new Fc(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Fc(t.startAt.position,!t.startAt.before):null;t.T=kc(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Zc(e,t,n){return new zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function el(e,t){return Ic(Jc(e),Jc(t))&&e.limitType===t.limitType}function tl(e){return Tc(Jc(e))+"|lt:"+e.limitType}function nl(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+fc(t.value);var t})).join(", ")+"]"),nc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+jc(e.startAt)),e.endAt&&(t+=", endAt: "+jc(e.endAt)),"Target("+t+")"}(Jc(e))+"; limitType="+e.limitType+")"}function rl(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Vc(e.startAt,Xc(e),t))&&(!e.endAt||!Vc(e.endAt,Xc(e),t))}(e,t)}function il(e){return function(t,n){for(var r=!1,i=0,o=Xc(e);i<o.length;i++){var a=o[i],s=ol(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function ol(e,t,n){var r=e.field.isKeyField()?oc.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?cc(r,i):Au()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Au()}}function al(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(t)?"-0":t}}function sl(e){return{integerValue:""+e}}function ul(e,t){return ic(t)?sl(t):al(e,t)}var cl=function(){this._=void 0};function ll(e,t,n){return e instanceof dl?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof pl?vl(e,t):e instanceof ml?gl(e,t):function(e,t){var n=hl(e,t),r=bl(n)+bl(e.A);return pc(n)&&pc(e.A)?sl(r):al(e.R,r)}(e,t)}function fl(e,t,n){return e instanceof pl?vl(e,t):e instanceof ml?gl(e,t):n}function hl(e,t){return e instanceof yl?pc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var dl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ei(t,e),t}(cl),pl=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return ei(t,e),t}(cl);function vl(e,t){for(var n=wl(t),r=function(e){n.some((function(t){return sc(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ml=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return ei(t,e),t}(cl);function gl(e,t){for(var n=wl(t),r=function(e){n=n.filter((function(t){return!sc(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return ei(t,e),t}(cl);function bl(e){return Xu(e.integerValue||e.doubleValue)}function wl(e){return vc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var _l=function(e,t){this.field=e,this.transform=t},Sl=function(e,t){this.version=e,this.transformResults=t},El=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function kl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Tl=function(){};function Il(e,t,n){e instanceof Pl?function(e,t,n){var r=e.value.clone(),i=Dl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Rl?function(e,t,n){if(kl(e.precondition,t)){var r=Dl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ol(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Cl(e,t,n){e instanceof Pl?function(e,t,n){if(kl(e.precondition,t)){var r=e.value.clone(),i=Ml(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Al(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Rl?function(e,t,n){if(kl(e.precondition,t)){var r=Ml(e.fieldTransforms,n,t),i=t.data;i.setAll(Ol(e)),i.setAll(r),t.convertToFoundDocument(Al(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){kl(e.precondition,t)&&t.convertToNoDocument(Uu.min())}(e,t)}function xl(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=hl(o.transform,a||null);null!=s&&(null==n&&(n=wc.empty()),n.set(o.field,s))}return n||null}function Nl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Lu(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pl&&t instanceof pl||e instanceof ml&&t instanceof ml?Lu(e.elements,t.elements,sc):e instanceof yl&&t instanceof yl?sc(e.A,t.A):e instanceof dl&&t instanceof dl}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Al(e){return e.isFoundDocument()?e.version:Uu.min()}var Pl=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return ei(t,e),t}(Tl),Rl=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return ei(t,e),t}(Tl);function Ol(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Dl(e,t,n){var r=new Map;Pu(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,fl(a,s,n[i]))}return r}function Ml(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,ll(s,u,t))}return r}var Ll,Fl,jl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return ei(t,e),t}(Tl),Ul=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return ei(t,e),t}(Tl),ql=function(e){this.count=e};function Vl(e){switch(e){case Su.OK:return Au();case Su.CANCELLED:case Su.UNKNOWN:case Su.DEADLINE_EXCEEDED:case Su.RESOURCE_EXHAUSTED:case Su.INTERNAL:case Su.UNAVAILABLE:case Su.UNAUTHENTICATED:return!1;case Su.INVALID_ARGUMENT:case Su.NOT_FOUND:case Su.ALREADY_EXISTS:case Su.PERMISSION_DENIED:case Su.FAILED_PRECONDITION:case Su.ABORTED:case Su.OUT_OF_RANGE:case Su.UNIMPLEMENTED:case Su.DATA_LOSS:return!0;default:return Au()}}function Bl(e){if(void 0===e)return Cu("GRPC error has no .code"),Su.UNKNOWN;switch(e){case Ll.OK:return Su.OK;case Ll.CANCELLED:return Su.CANCELLED;case Ll.UNKNOWN:return Su.UNKNOWN;case Ll.DEADLINE_EXCEEDED:return Su.DEADLINE_EXCEEDED;case Ll.RESOURCE_EXHAUSTED:return Su.RESOURCE_EXHAUSTED;case Ll.INTERNAL:return Su.INTERNAL;case Ll.UNAVAILABLE:return Su.UNAVAILABLE;case Ll.UNAUTHENTICATED:return Su.UNAUTHENTICATED;case Ll.INVALID_ARGUMENT:return Su.INVALID_ARGUMENT;case Ll.NOT_FOUND:return Su.NOT_FOUND;case Ll.ALREADY_EXISTS:return Su.ALREADY_EXISTS;case Ll.PERMISSION_DENIED:return Su.PERMISSION_DENIED;case Ll.FAILED_PRECONDITION:return Su.FAILED_PRECONDITION;case Ll.ABORTED:return Su.ABORTED;case Ll.OUT_OF_RANGE:return Su.OUT_OF_RANGE;case Ll.UNIMPLEMENTED:return Su.UNIMPLEMENTED;case Ll.DATA_LOSS:return Su.DATA_LOSS;default:return Au()}}(Fl=Ll||(Ll={}))[Fl.OK=0]="OK",Fl[Fl.CANCELLED=1]="CANCELLED",Fl[Fl.UNKNOWN=2]="UNKNOWN",Fl[Fl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fl[Fl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fl[Fl.NOT_FOUND=5]="NOT_FOUND",Fl[Fl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fl[Fl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fl[Fl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fl[Fl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fl[Fl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fl[Fl.ABORTED=10]="ABORTED",Fl[Fl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fl[Fl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fl[Fl.INTERNAL=13]="INTERNAL",Fl[Fl.UNAVAILABLE=14]="UNAVAILABLE",Fl[Fl.DATA_LOSS=15]="DATA_LOSS";var zl=function(){function e(e,t){this.comparator=e,this.root=t||Kl.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Kl.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kl.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Wl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Wl(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Wl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Wl(this.root,e,this.comparator,!0)},e}(),Wl=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Kl=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Au();if(this.right.isRed())throw Au();var e=this.left.check();if(e!==this.right.check())throw Au();return e+(this.isRed()?0:1)},e}();Kl.EMPTY=null,Kl.RED=!0,Kl.BLACK=!1,Kl.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Au()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Au()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Au()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Au()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Au()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Kl(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Hl=function(){function e(e){this.comparator=e,this.data=new zl(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Gl(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Gl(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Gl=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Ql=new zl(oc.comparator);function $l(){return Ql}var Yl=new zl(oc.comparator);function Xl(){return Yl}var Jl=new zl(oc.comparator);function Zl(){return Jl}var ef=new Hl(oc.comparator);function tf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=ef,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var nf=new Hl(Mu);function rf(){return nf}var of=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,af.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Uu.min(),r,rf(),$l(),tf())},e}(),af=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Qu.EMPTY_BYTE_STRING,n,tf(),tf(),tf())},e}(),sf=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},uf=function(e,t){this.targetId=e,this.V=t},cf=function(e,t,n,r){void 0===n&&(n=Qu.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},lf=function(){function e(){this.S=0,this.D=df(),this.C=Qu.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=tf(),t=tf(),n=tf();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Au()}})),new af(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=df()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ff=function(){function e(e){this.W=e,this.G=new Map,this.H=$l(),this.J=hf(),this.Y=new Hl(Mu)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Au()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Cc(i))if(0===n){var o=new oc(i.path);this.tt(t,o,Sc.newNoDocument(o,Uu.min()))}else Pu(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Cc(o.target)){var a=new oc(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Sc.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=tf();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new of(e,n,this.Y,this.H,r);return this.H=$l(),this.J=hf(),this.Y=new Hl(Mu),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new lf,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Hl(Mu),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Iu("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new lf),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function hf(){return new zl(oc.comparator)}function df(){return new zl(oc.comparator)}var pf={asc:"ASCENDING",desc:"DESCENDING"},vf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mf=function(e,t){this.databaseId=e,this.I=t};function gf(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function yf(e,t){return e.I?t.toBase64():t.toUint8Array()}function bf(e,t){return gf(e,t.toTimestamp())}function wf(e){return Pu(!!e),Uu.fromTimestamp(function(e){var t=Yu(e);return new ju(t.seconds,t.nanos)}(e))}function _f(e,t){return function(e){return new Wu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Sf(e){var t=Wu.fromString(e);return Pu(Hf(t)),t}function Ef(e,t){return _f(e.databaseId,t.path)}function kf(e,t){var n=Sf(t);if(n.get(1)!==e.databaseId.projectId)throw new Eu(Su.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Eu(Su.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oc(xf(n))}function Tf(e,t){return _f(e.databaseId,t)}function If(e){var t=Sf(e);return 4===t.length?Wu.emptyPath():xf(t)}function Cf(e){return new Wu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xf(e){return Pu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Nf(e,t,n){return{name:Ef(e,t),fields:n.value.mapValue.fields}}function Af(e,t,n){var r=kf(e,t.name),i=wf(t.updateTime),o=new wc({mapValue:{fields:t.fields}}),a=Sc.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Pf(e,t){var n;if(t instanceof Pl)n={update:Nf(e,t.key,t.value)};else if(t instanceof jl)n={delete:Ef(e,t.key)};else if(t instanceof Rl)n={update:Nf(e,t.key,t.data),updateMask:Kf(t.fieldMask)};else{if(!(t instanceof Ul))return Au();n={verify:Ef(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof dl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ml)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yl)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Au()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:bf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Au()}(e,t.precondition)),n}function Rf(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?El.updateTime(wf(e.updateTime)):void 0!==e.exists?El.exists(e.exists):El.none()}(t.currentDocument):El.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Pu("REQUEST_TIME"===t.setToServerValue),n=new dl;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new pl(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ml(i)}else"increment"in t?n=new yl(e,t.increment):Au();var o=Hu.fromServerFormat(t.fieldPath);return new _l(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=kf(e,t.update.name),o=new wc({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Gu(t.map((function(e){return Hu.fromServerFormat(e)})))}(t.updateMask);return new Rl(i,o,a,n,r)}return new Pl(i,o,n,r)}if(t.delete){var s=kf(e,t.delete);return new jl(s,n)}if(t.verify){var u=kf(e,t.verify);return new Ul(u,n)}return Au()}function Of(e,t){return{documents:[Tf(e,t.path)]}}function Df(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Tf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Tf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(gc(e.value))return{unaryFilter:{field:Vf(e.field),op:"IS_NAN"}};if(mc(e.value))return{unaryFilter:{field:Vf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(gc(e.value))return{unaryFilter:{field:Vf(e.field),op:"IS_NOT_NAN"}};if(mc(e.value))return{unaryFilter:{field:Vf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vf(e.field),op:qf(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Vf(e.field),direction:Uf(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||nc(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Ff(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ff(t.endAt)),n}function Mf(e){var t=If(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Pu(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Lf(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Uc(Bf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return nc(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=jf(n.startAt));var l=null;return n.endAt&&(l=jf(n.endAt)),Wc(t,i,s,a,u,"F",c,l)}function Lf(e){return e?void 0!==e.unaryFilter?[Wf(e)]:void 0!==e.fieldFilter?[zf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Lf(e)})).reduce((function(e,t){return e.concat(t)})):Au():[]}function Ff(e){return{before:e.before,values:e.position}}function jf(e){var t=!!e.before,n=e.values||[];return new Fc(n,t)}function Uf(e){return pf[e]}function qf(e){return vf[e]}function Vf(e){return{fieldPath:e.canonicalString()}}function Bf(e){return Hu.fromServerFormat(e.fieldPath)}function zf(e){return xc.create(Bf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Au()}}(e.fieldFilter.op),e.fieldFilter.value)}function Wf(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Bf(e.unaryFilter.field);return xc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Bf(e.unaryFilter.field);return xc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Bf(e.unaryFilter.field);return xc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Bf(e.unaryFilter.field);return xc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Au()}}function Kf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Hf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Gf(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$f(t)),t=Qf(e.get(n),t);return $f(t)}function Qf(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function $f(e){return e+"\x01\x01"}function Yf(e){var t=e.length;if(Pu(t>=2),2===t)return Pu("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Wu.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Au(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Au()}o=a+2}return new Wu(r)}var Xf=function(e,t){this.seconds=e,this.nanoseconds=t},Jf=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Jf.store="owner",Jf.key="owner";var Zf=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Zf.store="mutationQueues",Zf.keyPath="userId";var eh=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};eh.store="mutations",eh.keyPath="batchId",eh.userMutationsIndex="userMutationsIndex",eh.userMutationsKeyPath=["userId","batchId"];var th=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Gf(t)]},e.key=function(e,t,n){return[e,Gf(t),n]},e}();th.store="documentMutations",th.PLACEHOLDER=new th;var nh=function(e,t){this.path=e,this.readTime=t},rh=function(e,t){this.path=e,this.version=t},ih=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ih.store="remoteDocuments",ih.readTimeIndex="readTimeIndex",ih.readTimeIndexPath="readTime",ih.collectionReadTimeIndex="collectionReadTimeIndex",ih.collectionReadTimeIndexPath=["parentPath","readTime"];var oh=function(e){this.byteSize=e};oh.store="remoteDocumentGlobal",oh.key="remoteDocumentGlobalKey";var ah=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};ah.store="targets",ah.keyPath="targetId",ah.queryTargetsIndexName="queryTargetsIndex",ah.queryTargetsKeyPath=["canonicalId","targetId"];var sh=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};sh.store="targetDocuments",sh.keyPath=["targetId","path"],sh.documentTargetsIndex="documentTargetsIndex",sh.documentTargetsKeyPath=["path","targetId"];var uh=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};uh.key="targetGlobalKey",uh.store="targetGlobal";var ch=function(e,t){this.collectionId=e,this.parent=t};ch.store="collectionParents",ch.keyPath=["collectionId","parent"];var lh=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};lh.store="clientMetadata",lh.keyPath="clientId";var fh=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};fh.store="bundles",fh.keyPath="bundleId";var hh=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};hh.store="namedQueries",hh.keyPath="name";var dh=ri(ri([],ri(ri([],ri(ri([],ri(ri([],[Zf.store,eh.store,th.store,ih.store,ah.store,Jf.store,uh.store,sh.store]),[lh.store])),[oh.store])),[ch.store])),[fh.store,hh.store]),ph="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vh=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),mh=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},gh=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Au(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),yh=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new mh,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new _h(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Ih(t.target.error);n.ft.reject(new _h(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new _h(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Iu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Eh(t)},e}(),bh=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,ii.getUA)())&&Cu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Iu("SimpleDb","Removing database:",e),kh(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,ii.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return ti(this,void 0,void 0,(function(){var t,n=this;return ni(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Iu("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new _h(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Eu(Su.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new _h(e,n))},i.onupgradeneeded=function(e){Iu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Iu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return ti(this,void 0,void 0,(function(){var i,o,a,s,u;return ni(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return ni(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=yh.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),gh.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,Iu("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),wh=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return kh(this.Pt.delete())},e}(),_h=function(e){function t(t,n){var r=this;return(r=e.call(this,Su.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return ei(t,e),t}(Eu);function Sh(e){return"IndexedDbTransactionError"===e.name}var Eh=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Iu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Iu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),kh(n)},e.prototype.add=function(e){return Iu("SimpleDb","ADD",this.store.name,e,e),kh(this.store.add(e))},e.prototype.get=function(e){var t=this;return kh(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Iu("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Iu("SimpleDb","DELETE",this.store.name,e),kh(this.store.delete(e))},e.prototype.count=function(){return Iu("SimpleDb","COUNT",this.store.name),kh(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){Iu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new gh((function(n,r){t.onerror=function(e){var t=Ih(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new gh((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new wh(i),a=t(i.primaryKey,i.value,o);if(a instanceof gh){var s=a.catch((function(e){return o.done(),gh.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return gh.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function kh(e){return new gh((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ih(e.target.error);n(t)}}))}var Th=!1;function Ih(e){var t=bh._t((0,ii.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Eu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Th||(Th=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ch=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return ei(t,e),t}(vh);function xh(e,t){var n=Ru(e);return bh.It(n.Mt,t)}var Nh=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Il(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Cl(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Cl(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Uu.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),tf())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Lu(this.mutations,e.mutations,(function(e,t){return Nl(e,t)}))&&Lu(this.baseMutations,e.baseMutations,(function(e,t){return Nl(e,t)}))},e}(),Ah=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Pu(t.mutations.length===r.length);for(var i=Zl(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Ph=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Uu.min()),void 0===o&&(o=Uu.min()),void 0===a&&(a=Qu.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Rh=function(e){this.Lt=e};function Oh(e,t){if(t.document)return Af(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=oc.fromSegments(t.noDocument.path),r=jh(t.noDocument.readTime),i=Sc.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=oc.fromSegments(t.unknownDocument.path);return r=jh(t.unknownDocument.version),Sc.newUnknownDocument(o,r)}return Au()}function Dh(e,t,n){var r=Mh(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Ef(e,t.key),fields:t.data.value.mapValue.fields,updateTime:gf(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new ih(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Fh(t.version);return a=t.hasCommittedMutations,new ih(null,new nh(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Fh(t.version);return new ih(new rh(c,l),null,null,!0,r,i)}return Au()}function Mh(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Lh(e){var t=new ju(e[0],e[1]);return Uu.fromTimestamp(t)}function Fh(e){var t=e.toTimestamp();return new Xf(t.seconds,t.nanoseconds)}function jh(e){var t=new ju(e.seconds,e.nanoseconds);return Uu.fromTimestamp(t)}function Uh(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Rf(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Rf(e.Lt,t)})),s=ju.fromMillis(t.localWriteTimeMs);return new Nh(t.batchId,s,n,a)}function qh(e){var t,n,r=jh(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?jh(e.lastLimboFreeSnapshotVersion):Uu.min();return void 0!==e.query.documents?(Pu(1===(n=e.query).documents.length),t=Jc(Kc(If(n.documents[0])))):t=function(e){return Jc(Mf(e))}(e.query),new Ph(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Qu.fromBase64String(e.resumeToken))}function Vh(e,t){var n,r=Fh(t.snapshotVersion),i=Fh(t.lastLimboFreeSnapshotVersion);n=Cc(t.target)?Of(e.Lt,t.target):Df(e.Lt,t.target);var o=t.resumeToken.toBase64();return new ah(t.targetId,Tc(t.target),r,o,t.sequenceNumber,i,n)}function Bh(e){var t=Mf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Zc(t,t.limit,"L"):t}var zh=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Wh(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:jh(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Wh(e).put({bundleId:(n=t).id,createTime:Fh(wf(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Kh(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Bh(t.bundledQuery),readTime:jh(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Kh(e).put(function(e){return{name:e.name,readTime:Fh(wf(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Wh(e){return xh(e,fh.store)}function Kh(e){return xh(e,hh.store)}var Hh=function(){function e(){this.Bt=new Gh}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),gh.resolve()},e.prototype.getCollectionParents=function(e,t){return gh.resolve(this.Bt.getEntries(t))},e}(),Gh=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Hl(Wu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Hl(Wu.comparator)).toArray()},e}(),Qh=function(){function e(){this.qt=new Gh}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Gf(i)};return $h(e).put(o)}return gh.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Fu(t),""],!1,!0);return $h(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Yf(o.parent))}return n}))},e}();function $h(e){return xh(e,ch.store)}var Yh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xh=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Jh(e,t,n){var r=e.store(eh.store),i=e.store(th.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Pu(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=th.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return gh.waitFor(o).next((function(){return c}))}function Zh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Au();t=e.noDocument}return JSON.stringify(t).length}Xh.DEFAULT_COLLECTION_PERCENTILE=10,Xh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xh.DEFAULT=new Xh(41943040,Xh.DEFAULT_COLLECTION_PERCENTILE,Xh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xh.DISABLED=new Xh(-1,0,0);var ed=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Pu(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nd(e).$t({index:eh.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=rd(e),a=nd(e);return a.add({}).next((function(s){Pu("number"==typeof s);for(var u=new Nh(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Pf(e.Lt,t)})),i=n.mutations.map((function(t){return Pf(e.Lt,t)}));return new eh(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new Hl((function(e,t){return Mu(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=th.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,th.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),gh.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return nd(e).get(t).next((function(e){return e?(Pu(e.userId===n.userId),Uh(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?gh.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return nd(e).$t({index:eh.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Pu(t.batchId>=r),o=Uh(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return nd(e).$t({index:eh.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nd(e).Nt(eh.userMutationsIndex,n).next((function(e){return e.map((function(e){return Uh(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=th.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return rd(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Yf(u);if(s===n.userId&&t.path.isEqual(l))return nd(e).get(c).next((function(e){if(!e)throw Au();Pu(e.userId===n.userId),o.push(Uh(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Hl(Mu),i=[];return t.forEach((function(t){var o=th.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=rd(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Yf(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),gh.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=th.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Hl(Mu);return rd(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Yf(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(nd(e).get(t).next((function(e){if(null===e)throw Au();Pu(e.userId===n.userId),r.push(Uh(n.R,e))})))})),gh.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Jh(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),gh.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return gh.resolve();var r=IDBKeyRange.lowerBound(th.prefixForUser(t.userId)),i=[];return rd(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Yf(e[1]);i.push(o)}else r.done()})).next((function(){Pu(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return td(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return id(e).get(this.userId).next((function(e){return e||new Zf(t.userId,-1,"")}))},e}();function td(e,t,n){var r=th.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return rd(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function nd(e){return xh(e,eh.store)}function rd(e){return xh(e,th.store)}function id(e){return xh(e,Zf.store)}var od=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),ad=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new od(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Uu.fromTimestamp(new ju(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return sd(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Pu(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return sd(e).$t((function(a,s){var u=qh(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return gh.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return sd(e).$t((function(e,n){var r=qh(n);t(r)}))},e.prototype.Xt=function(e){return ud(e).get(uh.key).next((function(e){return Pu(null!==e),e}))},e.prototype.Zt=function(e,t){return ud(e).put(uh.key,t)},e.prototype.te=function(e,t){return sd(e).put(Vh(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Tc(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return sd(e).$t({range:r,index:ah.queryTargetsIndexName},(function(e,n,r){var o=qh(n);Ic(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=cd(e);return t.forEach((function(t){var a=Gf(t.path);i.push(o.put(new sh(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),gh.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=cd(e);return gh.forEach(t,(function(t){var o=Gf(t.path);return gh.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=cd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=cd(e),i=tf();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=Yf(e[1]),o=new oc(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Gf(t.path),r=IDBKeyRange.bound([n],[Fu(n)],!1,!0),i=0;return cd(e).$t({index:sh.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return sd(e).get(t).next((function(e){return e?qh(e):null}))},e}();function sd(e){return xh(e,ah.store)}function ud(e){return xh(e,uh.store)}function cd(e){return xh(e,sh.store)}function ld(e){return ti(this,void 0,void 0,(function(){return ni(this,(function(t){if(e.code!==Su.FAILED_PRECONDITION||e.message!==ph)throw e;return Iu("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function fd(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Mu(n,i);return 0===a?Mu(r,o):a}var hd=function(){function e(e){this.ne=e,this.buffer=new Hl(fd),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();fd(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),dd=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Iu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return ti(t,void 0,void 0,(function(){var t;return ni(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Sh(t=n.sent())?(Iu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,ld(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),pd=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return gh.resolve(_u.o);var r=new hd(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Iu("LruGarbageCollector","Garbage collection skipped; disabled"),gh.resolve(Yh)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Iu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Yh):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Iu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Tu()<=oi.LogLevel.DEBUG&&Iu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),gh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),vd=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new pd(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return md(e,n)},e.prototype.removeReference=function(e,t,n){return md(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return md(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return id(e).Ot((function(r){return td(e,r,t).next((function(e){return e&&(n=!0),gh.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),cd(e).delete([0,Gf(a.path)])}))}));i.push(u)}})).next((function(){return gh.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return md(e,t)},e.prototype.we=function(e,t){var n,r=cd(e),i=_u.o;return r.$t({index:sh.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==_u.o&&t(new oc(Yf(n)),i),i=s,n=a):i=_u.o})).next((function(){i!==_u.o&&t(new oc(Yf(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function md(e,t){return cd(e).put(function(e,t){return new sh(0,Gf(e.path),t)}(t,e.currentSequenceNumber))}var gd=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Vu(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Bu(this.inner)},e}(),yd=function(){function e(){this.changes=new gd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Uu.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Sc.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?gh.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),bd=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Sd(e).put(Ed(t),n)},e.prototype.removeEntry=function(e,t){var n=Sd(e),r=Ed(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Sd(e).get(Ed(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Sd(e).get(Ed(t)).next((function(e){return{document:n.ye(t,e),size:Zh(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=$l();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=$l(),i=new zl(oc.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Zh(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return gh.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Sd(e).$t({range:r},(function(e,t,r){for(var a=oc.fromSegments(e);o&&oc.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=$l(),o=t.path.length+1,a={};if(n.isEqual(Uu.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Mh(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=ih.collectionReadTimeIndex}return Sd(e).$t(a,(function(e,n,a){if(e.length===o){var s=Oh(r.R,n);t.path.isPrefixOf(s.key.path)?rl(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new wd(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return _d(e).get(oh.key).next((function(e){return Pu(!!e),e}))},e.prototype.me=function(e,t){return _d(e).put(oh.key,t)},e.prototype.ye=function(e,t){if(t){var n=Oh(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Uu.min()))return n}return Sc.newInvalidDocument(e)},e}(),wd=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new gd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return ei(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Hl((function(e,t){return Mu(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Dh(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Zh(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Dh(t.Ie.R,Sc.newNoDocument(o,Uu.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),gh.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(yd);function _d(e){return xh(e,oh.store)}function Sd(e){return xh(e,ih.store)}function Ed(e){return e.path.toArray()}var kd=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Pu(n<r&&n>=0&&r<=11);var o=new yh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Jf.store)}(e),function(e){e.createObjectStore(Zf.store,{keyPath:Zf.keyPath}),e.createObjectStore(eh.store,{keyPath:eh.keyPath,autoIncrement:!0}).createIndex(eh.userMutationsIndex,eh.userMutationsKeyPath,{unique:!0}),e.createObjectStore(th.store)}(e),Td(e),function(e){e.createObjectStore(ih.store)}(e));var a=gh.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(sh.store),e.deleteObjectStore(ah.store),e.deleteObjectStore(uh.store)}(e),Td(e)),a=a.next((function(){return function(e){var t=e.store(uh.store),n=new uh(0,0,Uu.min().toTimestamp(),0);return t.put(uh.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(eh.store).Nt().next((function(n){e.deleteObjectStore(eh.store),e.createObjectStore(eh.store,{keyPath:eh.keyPath,autoIncrement:!0}).createIndex(eh.userMutationsIndex,eh.userMutationsKeyPath,{unique:!0});var r=t.store(eh.store),i=n.map((function(e){return r.put(e)}));return gh.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(lh.store,{keyPath:lh.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(oh.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(ih.store);t.createIndex(ih.readTimeIndex,ih.readTimeIndexPath,{unique:!1}),t.createIndex(ih.collectionReadTimeIndex,ih.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(fh.store,{keyPath:fh.keyPath})}(e),function(e){e.createObjectStore(hh.store,{keyPath:hh.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(ih.store).$t((function(e,n){t+=Zh(n)})).next((function(){var n=new oh(t);return e.store(oh.store).put(oh.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Zf.store),r=e.store(eh.store);return n.Nt().next((function(n){return gh.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(eh.userMutationsIndex,i).next((function(r){return gh.forEach(r,(function(r){Pu(r.userId===n.userId);var i=Uh(t.R,r);return Jh(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(sh.store),n=e.store(ih.store);return e.store(uh.store).get(uh.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Wu(n),a=function(e){return[0,Gf(e)]}(o);r.push(t.get(a).next((function(n){return n?gh.resolve():function(n){return t.put(new sh(0,Gf(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return gh.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(ch.store,{keyPath:ch.keyPath});var n=t.store(ch.store),r=new Gh,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Gf(i)})}};return t.store(ih.store).$t({Ft:!0},(function(e,t){var n=new Wu(e);return i(n.popLast())})).next((function(){return t.store(th.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Yf(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(ah.store);return n.$t((function(e,r){var i=qh(r),o=Vh(t.R,i);return n.put(o)}))},e}();function Td(e){e.createObjectStore(sh.store,{keyPath:sh.keyPath}).createIndex(sh.documentTargetsIndex,sh.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ah.store,{keyPath:ah.keyPath}).createIndex(ah.queryTargetsIndexName,ah.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(uh.store)}var Id="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Cd=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Eu(Su.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vd(this,i),this.Le=n+"main",this.R=new Rh(u),this.Be=new bh(this.Le,11,new kd(this.R)),this.qe=new ad(this.referenceDelegate,this.R),this.Ut=new Qh,this.Ue=function(e,t){return new bd(e,t)}(this.R,this.Ut),this.Ke=new zh,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Cu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Eu(Su.FAILED_PRECONDITION,Id);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new _u(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return ti(t,void 0,void 0,(function(){return ni(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return ti(t,void 0,void 0,(function(){return ni(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return ti(t,void 0,void 0,(function(){return ni(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Nd(t).put(new lh(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Sh(t))return Iu("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Iu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return xd(e).get(Jf.key).next((function(e){return gh.resolve(t.tn(e))}))},e.prototype.en=function(e){return Nd(e).delete(this.clientId)},e.prototype.nn=function(){return ti(this,void 0,void 0,(function(){var e,t,n,r,i=this;return ni(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=xh(e,lh.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return gh.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?gh.resolve(!0):xd(e).get(Jf.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Eu(Su.FAILED_PRECONDITION,Id);return!1}}return!(!t.networkEnabled||!t.inForeground)||Nd(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Iu("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return ti(this,void 0,void 0,(function(){var e=this;return ni(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Jf.store,lh.store],(function(t){var n=new Ch(t,_u.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Nd(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return ed.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Iu("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,dh,(function(o){return i=new Ch(o,r.Ne?r.Ne.next():_u.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Cu("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Eu(Su.FAILED_PRECONDITION,ph);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return xd(e).get(Jf.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Eu(Su.FAILED_PRECONDITION,Id)}))},e.prototype.Ze=function(e){var t=new Jf(this.clientId,this.allowTabSynchronization,Date.now());return xd(e).put(Jf.key,t)},e.yt=function(){return bh.yt()},e.prototype.Xe=function(e){var t=this,n=xd(e);return n.get(Jf.key).next((function(e){return t.tn(e)?(Iu("IndexedDbPersistence","Releasing primary lease."),n.delete(Jf.key)):gh.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Cu("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,ii.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Iu("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Cu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Cu("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function xd(e){return xh(e,Jf.store)}function Nd(e){return xh(e,lh.store)}function Ad(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Pd=function(e,t){this.progress=e,this.wn=t},Rd=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return oc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Yc(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new oc(t)).next((function(e){var t=Xl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Xl();return this.Ut.getCollectionParents(e,i).next((function(a){return gh.forEach(a,(function(a){var s=function(e,t){return new zc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Sc.newInvalidDocument(c),r=r.insert(c,l)),Cl(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){rl(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=tf(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Rl&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Od=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=tf(),i=tf(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Dd=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Uu.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Hc(t)||Gc(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Tu()<=oi.LogLevel.DEBUG&&Iu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),nl(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Hl(il(e));return t.forEach((function(t,r){rl(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Tu()<=oi.LogLevel.DEBUG&&Iu("QueryEngine","Using full collection scan to execute query:",nl(t)),this.Sn.getDocumentsMatchingQuery(e,t,Uu.min())},e}(),Md=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new zl(Mu),this.Fn=new gd((function(e){return Tc(e)}),Ic),this.$n=Uu.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Rd(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function Ld(e,t,n,r){return new Md(e,t,n,r)}function Fd(e,t){return ti(this,void 0,void 0,(function(){var n,r,i,o;return ni(this,(function(a){switch(a.label){case 0:return n=Ru(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Rd(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=tf(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function jd(e,t){var n=Ru(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=gh.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Pu(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Ud(e){var t=Ru(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function qd(e,t){var n=Ru(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Pu(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=$l();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Vd(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Uu.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return gh.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function Vd(e,t,n,r,i){var o=tf();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=$l();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Uu.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Iu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Bd(e,t){var n=Ru(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function zd(e,t){var n=Ru(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,gh.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Ph(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function Wd(e,t,n){return ti(this,void 0,void 0,(function(){var r,i,o,a;return ni(this,(function(s){switch(s.label){case 0:r=Ru(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Sh(a=s.sent()))throw a;return Iu("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function Kd(e,t,n){var r=Ru(e),i=Uu.min(),o=tf();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ru(e),i=r.Fn.get(n);return void 0!==i?gh.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,Jc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Uu.min(),n?o:tf())})).next((function(e){return{documents:e,Bn:o}}))}))}function Hd(e,t){var n=Ru(e),r=Ru(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Gd(e){var t=Ru(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Ru(e),i=$l(),o=Mh(n),a=Sd(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:ih.readTimeIndex,range:s},(function(e,t){var n=Oh(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Lh(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Qd(e){return ti(this,void 0,void 0,(function(){var t;return ni(this,(function(n){return[2,(t=Ru(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Sd(e),n=Uu.min();return t.$t({index:ih.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Lh(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function $d(e,t,n,r){return ti(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return ni(this,(function(p){switch(p.label){case 0:for(i=Ru(e),o=tf(),a=$l(),s=Zl(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,zd(i,function(e){return Jc(Kc(Wu.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Vd(e,h,a,Uu.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Yd(e,t,n){return void 0===n&&(n=tf()),ti(this,void 0,void 0,(function(){var r,i;return ni(this,(function(o){switch(o.label){case 0:return[4,zd(e,Jc(Bh(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ru(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=wf(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(Qu.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var Xd=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return gh.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:wf(n.createTime)}),gh.resolve()},e.prototype.getNamedQuery=function(e,t){return gh.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Bh(e.bundledQuery),readTime:wf(e.readTime)}}(t)),gh.resolve()},e}(),Jd=function(){function e(){this.Wn=new Hl(Zd.Gn),this.zn=new Hl(Zd.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Zd(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Zd(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new oc(new Wu([])),r=new Zd(n,e),i=new Zd(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new oc(new Wu([])),n=new Zd(t,e),r=new Zd(t,e+1),i=tf();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Zd(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Zd=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return oc.comparator(e.key,t.key)||Mu(e.ns,t.ns)},e.Hn=function(e,t){return Mu(e.ns,t.ns)||oc.comparator(e.key,t.key)},e}(),ep=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Hl(Zd.Gn)}return e.prototype.checkEmpty=function(e){return gh.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Nh(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Zd(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return gh.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return gh.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return gh.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return gh.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return gh.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Zd(t,0),i=new Zd(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),gh.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Hl(Mu);return t.forEach((function(e){var t=new Zd(e,0),i=new Zd(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),gh.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;oc.isDocumentKey(i)||(i=i.child(""));var o=new Zd(new oc(i),0),a=new Hl(Mu);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),gh.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Pu(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return gh.forEach(t.mutations,(function(i){var o=new Zd(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Zd(t,0),r=this.rs.firstAfterOrEqual(n);return gh.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,gh.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),tp=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new zl(oc.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return gh.resolve(n?n.document.clone():Sc.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=$l();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Sc.newInvalidDocument(e))})),gh.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=$l(),i=new oc(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||rl(t,c)&&(r=r.insert(c.key,c.clone()))}return gh.resolve(r)},e.prototype.fs=function(e,t){return gh.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new np(this)},e.prototype.getSize=function(e){return gh.resolve(this.size)},e}(),np=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return ei(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),gh.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(yd),rp=function(){function e(e){this.persistence=e,this.ds=new gd((function(e){return Tc(e)}),Ic),this.lastRemoteSnapshotVersion=Uu.min(),this.highestTargetId=0,this.ws=0,this._s=new Jd,this.targetCount=0,this.ys=od.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),gh.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return gh.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return gh.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),gh.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),gh.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new od(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,gh.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),gh.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,gh.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),gh.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return gh.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return gh.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),gh.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),gh.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),gh.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return gh.resolve(n)},e.prototype.containsKey=function(e,t){return gh.resolve(this._s.containsKey(t))},e}(),ip=function(){function e(e,t){var n=this;this.gs={},this.Ne=new _u(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new rp(this),this.Ut=new Hh,this.Ue=function(e,t){return new tp(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Rh(t),this.Ke=new Xd(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new ep(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Iu("MemoryPersistence","Starting transaction:",e);var i=new op(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return gh.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),op=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return ei(t,e),t}(vh),ap=function(){function e(e){this.persistence=e,this.As=new Jd,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Au()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),gh.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),gh.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),gh.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gh.forEach(this.vs,(function(r){var i=oc.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return gh.or([function(){return gh.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),sp=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function up(e,t){return"firestore_clients_"+e+"_"+t}function cp(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function lp(e,t){return"firestore_targets_"+e+"_"+t}sp.UNAUTHENTICATED=new sp(null),sp.GOOGLE_CREDENTIALS=new sp("google-credentials-uid"),sp.FIRST_PARTY=new sp("first-party-uid"),sp.MOCK_USER=new sp("mock-user");var fp=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Eu(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Cu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),hp=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Eu(i.error.code,i.error.message)),o?new e(t,i.state,r):(Cu("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),dp=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=rf(),a=0;i&&a<r.activeTargetIds.length;++a)i=ic(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Cu("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),pp=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Cu("SharedClientState","Failed to parse online state: "+t),null)},e}(),vp=function(){function e(){this.activeTargetIds=rf()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),mp=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new zl(Mu),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=up(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new vp),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return ti(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return ni(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(up(this.persistenceKey,r)))&&(o=dp.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(lp(this.persistenceKey,e));if(n){var r=hp.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(lp(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Iu("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Iu("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Iu("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Iu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Cu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return ti(t,void 0,void 0,(function(){var e,t,r,i,o,a;return ni(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=_u.o;if(null!=e)try{var n=JSON.parse(e);Pu("number"==typeof n),t=n}catch(e){Cu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==_u.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new fp(this.currentUser,e,t,n),i=cp(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=cp(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=lp(this.persistenceKey,e),i=new hp(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return dp.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return fp.Vs(new sp(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return hp.Vs(r,t)},e.prototype.js=function(e){return pp.Vs(e)},e.prototype.ii=function(e){return ti(this,void 0,void 0,(function(){return ni(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Iu("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=rf();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),gp=function(){function e(){this.li=new vp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new vp,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),yp=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),bp=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Iu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Iu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),wp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},_p=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Sp=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return ei(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new wu;a.listenOnce(vu.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case pu.NO_ERROR:var t=a.getResponseJson();Iu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case pu.TIMEOUT:Iu("Connection",'RPC "'+e+'" timed out'),o(new Eu(Su.DEADLINE_EXCEEDED,"Request time out"));break;case pu.HTTP_ERROR:var n=a.getStatus();if(Iu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Su).indexOf(t)>=0?t:Su.UNKNOWN}(r.status);o(new Eu(s,r.message))}else o(new Eu(Su.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Eu(Su.UNAVAILABLE,"Connection failed."));break;default:Au()}}finally{Iu("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=hu(),i=du(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new yu({})),this.ki(o.initMessageHeaders,t),(0,ii.isMobileCordova)()||(0,ii.isReactNative)()||(0,ii.isElectron)()||(0,ii.isIE)()||(0,ii.isUWP)()||(0,ii.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Iu("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new _p({Ei:function(e){c?Iu("Connection","Not sending because WebChannel is closed:",e):(u||(Iu("Connection","Opening WebChannel transport."),s.open(),u=!0),Iu("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,bu.EventType.OPEN,(function(){c||Iu("Connection","WebChannel transport opened.")})),f(s,bu.EventType.CLOSE,(function(){c||(c=!0,Iu("Connection","WebChannel transport closed"),l.Vi())})),f(s,bu.EventType.ERROR,(function(e){c||(c=!0,xu("Connection","WebChannel transport errored:",e),l.Vi(new Eu(Su.UNAVAILABLE,"The operation could not be completed")))})),f(s,bu.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Pu(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Iu("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Ll[e];if(void 0!==t)return Bl(t)}(o),u=i.message;void 0===a&&(a=Su.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new Eu(a,u)),s.close()}else Iu("Connection","WebChannel received:",n),l.Si(n)}})),f(i,mu.STAT_EVENT,(function(e){e.stat===gu.PROXY?Iu("Connection","Detected buffering proxy"):e.stat===gu.NOPROXY&&Iu("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Iu("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return Iu("RestConnection","Received: ",e),e}),(function(t){throw xu("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=wp[e];return this.Di+"/v1/"+t+":"+n},e}());function Ep(){return"undefined"!=typeof window?window:null}function kp(){return"undefined"!=typeof document?document:null}function Tp(e){return new mf(e,!0)}var Ip=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Iu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Cp=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ip(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return ti(this,void 0,void 0,(function(){return ni(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return ti(this,void 0,void 0,(function(){return ni(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return ti(this,void 0,void 0,(function(){return ni(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Su.RESOURCE_EXHAUSTED?(Cu(t.toString()),Cu("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Su.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Eu(Su.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return ti(e,void 0,void 0,(function(){return ni(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Iu("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Iu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),xp=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return ei(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Au()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Pu(void 0===t||"string"==typeof t),Qu.fromBase64String(t||"")):(Pu(void 0===t||t instanceof Uint8Array),Qu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Su.UNKNOWN:Bl(e.code);return new Eu(t,e.message||"")}(s);n=new cf(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=kf(e,r.document.name),o=wf(r.document.updateTime);var s=new wc({mapValue:{fields:r.document.fields}}),u=(a=Sc.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new sf(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=kf(e,r.document),o=r.readTime?wf(r.readTime):Uu.min(),s=Sc.newNoDocument(i,o),a=r.removedTargetIds||[],n=new sf([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=kf(e,r.document),o=r.removedTargetIds||[],n=new sf([],o,i,null);else{if(!("filter"in t))return Au();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new ql(r),o=l.targetId,n=new uf(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Uu.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Uu.min():t.readTime?wf(t.readTime):Uu.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Cf(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Cc(r)?{documents:Of(e,r)}:{query:Df(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=yf(e,t.resumeToken):t.snapshotVersion.compareTo(Uu.min())>0&&(n.readTime=gf(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Au()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Cf(this.R),t.removeTarget=e,this.cr(t)},t}(Cp),Np=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return ei(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Pu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Pu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?wf(e.updateTime):wf(t);return n.isEqual(Uu.min())&&(n=wf(t)),new Sl(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=wf(e.commitTime);return this.listener.Tr(n,t)}return Pu(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Cf(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Pf(t.R,e)}))};this.cr(n)},t}(Cp),Ap=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return ei(t,e),t.prototype.br=function(){if(this.Rr)throw new Eu(Su.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Su.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Eu(Su.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Su.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Eu(Su.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Pp=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Cu(t),this.Vr=!1):Iu("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Rp=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return ti(o,void 0,void 0,(function(){return ni(this,(function(e){switch(e.label){case 0:return Vp(this)?(Iu("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return ti(this,void 0,void 0,(function(){var t;return ni(this,(function(n){switch(n.label){case 0:return(t=Ru(e)).Or.add(4),[4,Dp(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Op(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Pp(n,r)};function Op(e){return ti(this,void 0,void 0,(function(){var t,n;return ni(this,(function(r){switch(r.label){case 0:if(!Vp(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Dp(e){return ti(this,void 0,void 0,(function(){var t,n;return ni(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Mp(e,t){var n=Ru(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),qp(n)?Up(n):nv(n).er()&&Fp(n,t))}function Lp(e,t){var n=Ru(e),r=nv(n);n.$r.delete(t),r.er()&&jp(n,t),0===n.$r.size&&(r.er()?r.ir():Vp(n)&&n.Br.set("Unknown"))}function Fp(e,t){e.qr.U(t.targetId),nv(e).mr(t)}function jp(e,t){e.qr.U(t),nv(e).yr(t)}function Up(e){e.qr=new ff({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),nv(e).start(),e.Br.Sr()}function qp(e){return Vp(e)&&!nv(e).tr()&&e.$r.size>0}function Vp(e){return 0===Ru(e).Or.size}function Bp(e){e.qr=void 0}function zp(e){return ti(this,void 0,void 0,(function(){return ni(this,(function(t){return e.$r.forEach((function(t,n){Fp(e,t)})),[2]}))}))}function Wp(e,t){return ti(this,void 0,void 0,(function(){return ni(this,(function(n){return Bp(e),qp(e)?(e.Br.Nr(t),Up(e)):e.Br.set("Unknown"),[2]}))}))}function Kp(e,t,n){return ti(this,void 0,void 0,(function(){var r,i,o;return ni(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof cf&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return ti(this,void 0,void 0,(function(){var n,r,i,o;return ni(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Iu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Hp(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof sf?e.qr.X(t):t instanceof uf?e.qr.rt(t):e.qr.et(t),n.isEqual(Uu.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ud(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(Qu.EMPTY_BYTE_STRING,n.snapshotVersion)),jp(e,t);var r=new Ph(n.target,t,1,n.sequenceNumber);Fp(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Iu("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Hp(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Hp(e,t,n){return ti(this,void 0,void 0,(function(){var r=this;return ni(this,(function(i){switch(i.label){case 0:if(!Sh(t))throw t;return e.Or.add(1),[4,Dp(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Ud(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return ti(r,void 0,void 0,(function(){return ni(this,(function(t){switch(t.label){case 0:return Iu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Op(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Gp(e,t){return t().catch((function(n){return Hp(e,n,t)}))}function Qp(e){return ti(this,void 0,void 0,(function(){var t,n,r,i,o;return ni(this,(function(a){switch(a.label){case 0:t=Ru(e),n=rv(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Vp(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Bd(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=rv(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Hp(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return $p(t)&&Yp(t),[2]}}))}))}function $p(e){return Vp(e)&&!rv(e).tr()&&e.Fr.length>0}function Yp(e){rv(e).start()}function Xp(e){return ti(this,void 0,void 0,(function(){return ni(this,(function(t){return rv(e).Ar(),[2]}))}))}function Jp(e){return ti(this,void 0,void 0,(function(){var t,n,r,i;return ni(this,(function(o){for(t=rv(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Zp(e,t,n){return ti(this,void 0,void 0,(function(){var r,i;return ni(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Ah.from(r,t,n),[4,Gp(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Qp(e)];case 2:return o.sent(),[2]}}))}))}function ev(e,t){return ti(this,void 0,void 0,(function(){return ni(this,(function(n){switch(n.label){case 0:return t&&rv(e).pr?[4,function(e,t){return ti(this,void 0,void 0,(function(){var n,r;return ni(this,(function(i){switch(i.label){case 0:return Vl(r=t.code)&&r!==Su.ABORTED?(n=e.Fr.shift(),rv(e).sr(),[4,Gp(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Qp(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return $p(e)&&Yp(e),[2]}}))}))}function tv(e,t){return ti(this,void 0,void 0,(function(){var n;return ni(this,(function(r){switch(r.label){case 0:return n=Ru(e),t?(n.Or.delete(2),[4,Op(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Dp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function nv(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Ru(e);return r.br(),new xp(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:zp.bind(null,e),Ri:Wp.bind(null,e),_r:Kp.bind(null,e)}),e.Mr.push((function(n){return ti(t,void 0,void 0,(function(){return ni(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),qp(e)?Up(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Bp(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function rv(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Ru(e);return r.br(),new Np(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Xp.bind(null,e),Ri:ev.bind(null,e),Ir:Jp.bind(null,e),Tr:Zp.bind(null,e)}),e.Mr.push((function(n){return ti(t,void 0,void 0,(function(){return ni(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Qp(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(Iu("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var iv=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new mh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Eu(Su.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ov(e,t){if(Cu("AsyncQueue",t+": "+e),Sh(e))return new Eu(Su.UNAVAILABLE,t+": "+e);throw e}var av=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||oc.comparator(t.key,n.key)}:function(e,t){return oc.comparator(e.key,t.key)},this.keyedMap=Xl(),this.sortedSet=new zl(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),sv=function(){function e(){this.Qr=new zl(oc.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Au():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),uv=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,av.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&el(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),cv=function(){this.Wr=void 0,this.listeners=[]},lv=function(){this.queries=new gd((function(e){return tl(e)}),el),this.onlineState="Unknown",this.Gr=new Set};function fv(e,t){return ti(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return ni(this,(function(c){switch(c.label){case 0:if(n=Ru(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new cv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=ov(s,"Initialization of query '"+nl(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&vv(n),[2]}}))}))}function hv(e,t){return ti(this,void 0,void 0,(function(){var n,r,i,o,a;return ni(this,(function(s){return n=Ru(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function dv(e,t){for(var n=Ru(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&vv(n)}function pv(e,t,n){var r=Ru(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function vv(e){e.Gr.forEach((function(e){e.next()}))}var mv=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new uv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=uv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),gv=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),yv=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return kf(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Af(this.R,e.document,!1):Sc.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return wf(e)},e}(),bv=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=wv(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new yv(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||tf()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return ti(this,void 0,void 0,(function(){var e,t,n,r,i;return ni(this,(function(o){switch(o.label){case 0:return[4,$d(this.localStore,new yv(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Yd(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Pd(Object.assign({},this.progress),e))]}}))}))},e}();function wv(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var _v=function(e){this.key=e},Sv=function(e){this.key=e},Ev=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=tf(),this.mutatedKeys=tf(),this.lo=il(e),this.fo=new av(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new sv,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Hc(this.query)&&i.size===this.query.limit?i.last():null,c=Gc(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=rl(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Hc(this.query)||Gc(this.query))for(;a.size>this.query.limit;){var l=Hc(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Au()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new uv(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new sv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=tf(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Sv(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new _v(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=tf();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return uv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),kv=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Tv=function(e){this.key=e,this.bo=!1},Iv=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new gd((function(e){return tl(e)}),el),this.Vo=new Map,this.So=new Set,this.Do=new zl(oc.comparator),this.Co=new Map,this.No=new Jd,this.xo={},this.ko=new Map,this.Fo=od.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function Cv(e,t){return ti(this,void 0,void 0,(function(){var n,r,i,o,a,s;return ni(this,(function(u){switch(u.label){case 0:return n=nm(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,zd(n.localStore,Jc(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,xv(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Mp(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function xv(e,t,n,r){return ti(this,void 0,void 0,(function(){var i,o,a,s,u,c;return ni(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return ti(this,void 0,void 0,(function(){var i,o,a;return ni(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Kd(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Vv(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Kd(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Ev(t,i.Bn),a=o._o(i.documents),s=af.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Vv(e,n,u.To),c=new kv(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function Nv(e,t){return ti(this,void 0,void 0,(function(){var n,r,i;return ni(this,(function(o){switch(o.label){case 0:return n=Ru(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!el(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Wd(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Lp(n.remoteStore,r.targetId),Uv(n,r.targetId)})).catch(ld)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Uv(n,r.targetId),[4,Wd(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Av(e,t,n){return ti(this,void 0,void 0,(function(){var r,i,o,a;return ni(this,(function(s){switch(s.label){case 0:r=rm(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Ru(e),i=ju.now(),o=t.reduce((function(e,t){return e.add(t.key)}),tf());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=xl(c,n.get(c.key));null!=l&&a.push(new Rl(c.key,l,_c(l.value.mapValue),El.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new zl(Mu)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Wv(r,i.changes)];case 3:return s.sent(),[4,Qp(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=ov(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Pv(e,t){return ti(this,void 0,void 0,(function(){var n,r;return ni(this,(function(i){switch(i.label){case 0:n=Ru(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qd(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Pu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Pu(r.bo):e.removedDocuments.size>0&&(Pu(r.bo),r.bo=!1))})),[4,Wv(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,ld(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Rv(e,t,n){var r=Ru(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ru(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&vv(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ov(e,t,n){return ti(this,void 0,void 0,(function(){var r,i,o,a,s,u;return ni(this,(function(c){switch(c.label){case 0:return(r=Ru(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new zl(oc.comparator)).insert(o,Sc.newNoDocument(o,Uu.min())),s=tf().add(o),u=new of(Uu.min(),new Map,new Hl(Mu),a,s),[4,Pv(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),zv(r),[3,4];case 2:return[4,Wd(r.localStore,t,!1).then((function(){return Uv(r,t,n)})).catch(ld)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Dv(e,t){return ti(this,void 0,void 0,(function(){var n,r,i;return ni(this,(function(o){switch(o.label){case 0:n=Ru(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,jd(n.localStore,t)];case 2:return i=o.sent(),jv(n,r,null),Fv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Wv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ld(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Mv(e,t,n){return ti(this,void 0,void 0,(function(){var r,i;return ni(this,(function(o){switch(o.label){case 0:r=Ru(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Ru(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Pu(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),jv(r,t,n),Fv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Wv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ld(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Lv(e,t){return ti(this,void 0,void 0,(function(){var n,r,i,o,a;return ni(this,(function(s){switch(s.label){case 0:Vp((n=Ru(e)).remoteStore)||Iu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Ru(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=ov(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Fv(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function jv(e,t,n){var r=Ru(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Uv(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||qv(e,t)}))}function qv(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Lp(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),zv(e))}function Vv(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof _v?(e.No.addReference(o.key,t),Bv(e,o)):o instanceof Sv?(Iu("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||qv(e,o.key)):Au()}}function Bv(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Iu("SyncEngine","New document in limbo: "+n),e.So.add(r),zv(e))}function zv(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new oc(Wu.fromString(t)),r=e.Fo.next();e.Co.set(r,new Tv(n)),e.Do=e.Do.insert(n,r),Mp(e.remoteStore,new Ph(Jc(Kc(n.path)),r,2,_u.o))}}function Wv(e,t,n){return ti(this,void 0,void 0,(function(){var r,i,o,a;return ni(this,(function(s){switch(s.label){case 0:return r=Ru(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Od.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return ti(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return ni(this,(function(f){switch(f.label){case 0:n=Ru(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return gh.forEach(t,(function(t){return gh.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return gh.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Sh(r=f.sent()))throw r;return Iu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Kv(e,t){return ti(this,void 0,void 0,(function(){var n,r;return ni(this,(function(i){switch(i.label){case 0:return(n=Ru(e)).currentUser.isEqual(t)?[3,3]:(Iu("SyncEngine","User change. New user:",t.toKey()),[4,Fd(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new Eu(Su.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Wv(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Hv(e,t){var n=Ru(e),r=n.Co.get(t);if(r&&r.bo)return tf().add(r.key);var i=tf(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Gv(e,t){return ti(this,void 0,void 0,(function(){var n,r,i;return ni(this,(function(o){switch(o.label){case 0:return[4,Kd((n=Ru(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Vv(n,t.targetId,i.To),i)]}}))}))}function Qv(e){return ti(this,void 0,void 0,(function(){var t;return ni(this,(function(n){return[2,Gd((t=Ru(e)).localStore).then((function(e){return Wv(t,e)}))]}))}))}function $v(e,t,n,r){return ti(this,void 0,void 0,(function(){var i,o;return ni(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Ru(e),r=Ru(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):gh.resolve(null)}))}))}((i=Ru(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Qp(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(jv(i,t,r||null),Fv(i,t),function(e,t){Ru(Ru(e)._n).Gt(t)}(i.localStore,t)):Au(),a.label=4;case 4:return[4,Wv(i,o)];case 5:return a.sent(),[3,7];case 6:Iu("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Yv(e,t){return ti(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return ni(this,(function(l){switch(l.label){case 0:return nm(n=Ru(e)),rm(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Xv(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,tv(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Mp(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return Uv(n,t),Wd(n.localStore,t,!0)})),Lp(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,Xv(n,u)];case 5:return l.sent(),function(e){var t=Ru(e);t.Co.forEach((function(e,n){Lp(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new zl(oc.comparator)}(n),n.$o=!1,[4,tv(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Xv(e,t,n){return ti(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,v;return ni(this,(function(m){switch(m.label){case 0:n=Ru(e),r=[],i=[],o=0,a=t,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,zd(n.localStore,Jc(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,f=c,m.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,Gv(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Hd(n.localStore,s)];case 8:return v=m.sent(),[4,zd(n.localStore,v)];case 9:return u=m.sent(),[4,xv(n,Jv(v),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Jv(e){return Wc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Zv(e){var t=Ru(e);return Ru(Ru(t.localStore).persistence).fn()}function em(e,t,n,r){return ti(this,void 0,void 0,(function(){var i,o,a;return ni(this,(function(s){switch(s.label){case 0:return(i=Ru(e)).$o?(Iu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Gd(i.localStore)];case 3:return o=s.sent(),a=of.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Wv(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Wd(i.localStore,t,!0)];case 6:return s.sent(),Uv(i,t,r),[3,8];case 7:Au(),s.label=8;case 8:return[2]}}))}))}function tm(e,t,n){return ti(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return ni(this,(function(d){switch(d.label){case 0:if(!(r=nm(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Iu("SyncEngine","Adding an already active target "+a),[3,5]):[4,Hd(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,zd(r.localStore,s)];case 3:return u=d.sent(),[4,xv(r,Jv(s),u.targetId,!1)];case 4:d.sent(),Mp(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return ni(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Wd(r.localStore,e,!1).then((function(){Lp(r.remoteStore,e),Uv(r,e)})).catch(ld)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function nm(e){var t=Ru(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Pv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ov.bind(null,t),t.vo._r=dv.bind(null,t.eventManager),t.vo.Mo=pv.bind(null,t.eventManager),t}function rm(e){var t=Ru(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Dv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mv.bind(null,t),t}function im(e,t,n){var r=Ru(e);(function(e,t,n){return ti(this,void 0,void 0,(function(){var r,i,o,a,s,u;return ni(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=Ru(e),r=wf(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(wv(r)),i=new bv(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,Wv(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=Ru(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return xu("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var om=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return ti(this,void 0,void 0,(function(){return ni(this,(function(t){switch(t.label){case 0:return this.R=Tp(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Ld(this.persistence,new Dd,e.initialUser,this.R)},e.prototype.qo=function(e){return new ip(ap.bs,this.R)},e.prototype.Bo=function(e){return new gp},e.prototype.terminate=function(){return ti(this,void 0,void 0,(function(){return ni(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),am=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return ei(t,e),t.prototype.initialize=function(t){return ti(this,void 0,void 0,(function(){var n=this;return ni(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,Qd(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,rm(this.Qo.syncEngine)];case 4:return r.sent(),[4,Qp(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Ld(this.persistence,new Dd,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new dd(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Ad(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xh.withCacheSize(this.cacheSizeBytes):Xh.DEFAULT;return new Cd(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ep(),kp(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new gp},t}(om),sm=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return ei(t,e),t.prototype.initialize=function(t){return ti(this,void 0,void 0,(function(){var n,r=this;return ni(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof mp?(this.sharedClientState.syncEngine={ui:$v.bind(null,n),ai:em.bind(null,n),hi:tm.bind(null,n),fn:Zv.bind(null,n),ci:Qv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return ti(r,void 0,void 0,(function(){return ni(this,(function(t){switch(t.label){case 0:return[4,Yv(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Ep();if(!mp.yt(t))throw new Eu(Su.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ad(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mp(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(am),um=function(){function e(){}return e.prototype.initialize=function(e,t){return ti(this,void 0,void 0,(function(){var n=this;return ni(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Rv(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Kv.bind(null,this.syncEngine),[4,tv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new lv},e.prototype.createDatastore=function(e){var t,n=Tp(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Sp(t));return function(e,t,n){return new Ap(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Rv(a.syncEngine,e,0)},o=bp.yt()?new bp:new yp,new Rp(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Iv(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return ti(this,void 0,void 0,(function(){var t;return ni(this,(function(n){switch(n.label){case 0:return t=Ru(e),Iu("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Dp(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function cm(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return ti(this,void 0,void 0,(function(){var r;return ni(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return ti(this,void 0,void 0,(function(){return ni(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var lm=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),fm=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new mh,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return ti(this,void 0,void 0,(function(){return ni(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return ti(this,void 0,void 0,(function(){return ni(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return ti(this,void 0,void 0,(function(){var e,t,n,r;return ni(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new gv(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return ti(this,void 0,void 0,(function(){var e,t;return ni(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return ti(this,void 0,void 0,(function(){var t;return ni(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return ti(this,void 0,void 0,(function(){var e,t;return ni(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),hm=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return ti(this,void 0,void 0,(function(){var t,n=this;return ni(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Eu(Su.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return ti(this,void 0,void 0,(function(){var n,r,i,o,a,s;return ni(this,(function(u){switch(u.label){case 0:return n=Ru(e),r=Cf(n.R)+"/documents",i={documents:t.map((function(e){return Ef(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Pu(!!t.found),t.found.name,t.found.updateTime;var n=kf(e,t.found.name),r=wf(t.found.updateTime),i=new wc({mapValue:{fields:t.found.fields}});return Sc.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Pu(!!t.missing),Pu(!!t.readTime);var n=kf(e,t.missing),r=wf(t.readTime);return Sc.newNoDocument(n,r)}(e,t):Au()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Pu(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new jl(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return ti(this,void 0,void 0,(function(){var e,t=this;return ni(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=oc.fromPath(n);t.mutations.push(new Ul(r,t.precondition(r)))})),[4,function(e,t){return ti(this,void 0,void 0,(function(){var n,r,i;return ni(this,(function(o){switch(o.label){case 0:return n=Ru(e),r=Cf(n.R)+"/documents",i={writes:t.map((function(e){return Pf(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Au();t=Uu.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Eu(Su.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?El.updateTime(t):El.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Uu.min()))throw new Eu(Su.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return El.updateTime(t)}return El.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),dm=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Ip(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return ti(e,void 0,void 0,(function(){var e,t,n=this;return ni(this,(function(r){return e=new hm(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!nc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Vl(t)}return!1},e}(),pm=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=sp.UNAUTHENTICATED,this.clientId=Du.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return ti(r,void 0,void 0,(function(){return ni(this,(function(t){switch(t.label){case 0:return Iu("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return ti(this,void 0,void 0,(function(){return ni(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Eu(Su.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new mh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return ti(e,void 0,void 0,(function(){var e,n;return ni(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=ov(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function vm(e,t){return ti(this,void 0,void 0,(function(){var n,r,i=this;return ni(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Iu("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return ti(i,void 0,void 0,(function(){return ni(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Fd(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function mm(e,t){return ti(this,void 0,void 0,(function(){var n,r;return ni(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,gm(e)];case 1:return n=i.sent(),Iu("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return ti(this,void 0,void 0,(function(){var n,r;return ni(this,(function(i){switch(i.label){case 0:return(n=Ru(e)).asyncQueue.verifyOperationInProgress(),Iu("RemoteStore","RemoteStore received new credentials"),r=Vp(n),n.Or.add(3),[4,Dp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Op(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function gm(e){return ti(this,void 0,void 0,(function(){return ni(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Iu("FirestoreClient","Using default OfflineComponentProvider"),[4,vm(e,new om)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function ym(e){return ti(this,void 0,void 0,(function(){return ni(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Iu("FirestoreClient","Using default OnlineComponentProvider"),[4,mm(e,new um)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function bm(e){return gm(e).then((function(e){return e.persistence}))}function wm(e){return gm(e).then((function(e){return e.localStore}))}function _m(e){return ym(e).then((function(e){return e.remoteStore}))}function Sm(e){return ym(e).then((function(e){return e.syncEngine}))}function Em(e){return ti(this,void 0,void 0,(function(){var t,n;return ni(this,(function(r){switch(r.label){case 0:return[4,ym(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Cv.bind(null,t.syncEngine),n.onUnlisten=Nv.bind(null,t.syncEngine),n)]}}))}))}function km(e,t,n){var r=this;void 0===n&&(n={});var i=new mh;return e.asyncQueue.enqueueAndForget((function(){return ti(r,void 0,void 0,(function(){var r;return ni(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new lm({next:function(o){t.enqueueAndForget((function(){return hv(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Eu(Su.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Eu(Su.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new mv(Kc(n.path),o,{includeMetadataChanges:!0,so:!0});return fv(e,a)},[4,Em(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Tm(e,t,n){var r=this;void 0===n&&(n={});var i=new mh;return e.asyncQueue.enqueueAndForget((function(){return ti(r,void 0,void 0,(function(){var r;return ni(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new lm({next:function(n){t.enqueueAndForget((function(){return hv(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Eu(Su.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new mv(n,o,{includeMetadataChanges:!0,so:!0});return fv(e,a)},[4,Em(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var Im=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Cm=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),xm=new Map,Nm=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Am=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(sp.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Pm=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Rm=function(){function e(e){var t=this;this.currentUser=sp.UNAUTHENTICATED,this.oc=new mh,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Iu("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Iu("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Iu("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Pu("string"==typeof n.accessToken),new Nm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return ti(n,void 0,void 0,(function(){return ni(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Pu(null===e||"string"==typeof e),new sp(e)},e}(),Om=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=sp.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Dm=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Om(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(sp.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Mm(e,t,n){if(!n)throw new Eu(Su.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Lm(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Eu(Su.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Fm(e,t,n,r){if(!0===t&&!0===r)throw new Eu(Su.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function jm(e){if(!oc.isDocumentKey(e))throw new Eu(Su.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Um(e){if(oc.isDocumentKey(e))throw new Eu(Su.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function qm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Au()}function Vm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Eu(Su.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qm(e);throw new Eu(Su.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Bm(e,t){if(t<=0)throw new Eu(Su.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var zm=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Eu(Su.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Eu(Su.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Fm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Wm=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zm({}),this._settingsFrozen=!1,e instanceof Cm?(this._databaseId=e,this._credentials=new Am):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Eu(Su.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cm(e.options.projectId)}(e),this._credentials=new Rm(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Eu(Su.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Eu(Su.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zm(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Am;switch(e.type){case"gapi":var t=e.client;return Pu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Dm(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Eu(Su.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=xm.get(this))&&(Iu("ComponentProvider","Removing Datastore"),xm.delete(this),e.terminate()),Promise.resolve();var e},e}(),Km=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Gm(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Hm=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Gm=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Kc(r))||this)._path=r,i.type="collection",i}return ei(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Km(this.firestore,null,new oc(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Hm);function Qm(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,ii.getModularInstance)(e),Mm("collection","path",t),e instanceof Wm)return Um(n=Wu.fromString.apply(Wu,ri([t],r))),new Gm(e,null,n);if(!(e instanceof Km||e instanceof Gm))throw new Eu(Su.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Um(n=Wu.fromString.apply(Wu,ri([e.path],r)).child(Wu.fromString(t))),new Gm(e.firestore,null,n)}function $m(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,ii.getModularInstance)(e),1===arguments.length&&(t=Du.u()),Mm("doc","path",t),e instanceof Wm)return jm(n=Wu.fromString.apply(Wu,ri([t],r))),new Km(e,null,new oc(n));if(!(e instanceof Km||e instanceof Gm))throw new Eu(Su.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return jm(n=e._path.child(Wu.fromString.apply(Wu,ri([t],r)))),new Km(e.firestore,e instanceof Gm?e.converter:null,new oc(n))}function Ym(e,t){return e=(0,ii.getModularInstance)(e),t=(0,ii.getModularInstance)(t),(e instanceof Km||e instanceof Gm)&&(t instanceof Km||t instanceof Gm)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Xm(e,t){return e=(0,ii.getModularInstance)(e),t=(0,ii.getModularInstance)(t),e instanceof Hm&&t instanceof Hm&&e.firestore===t.firestore&&el(e._query,t._query)&&e.converter===t.converter}var Jm=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Ip(this,"async_queue_retry"),this.Ic=function(){var t=kp();t&&Iu("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=kp();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=kp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new mh;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return ti(this,void 0,void 0,(function(){var e,t=this;return ni(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Sh(e=n.sent()))throw e;return Iu("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Cu("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=iv.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Au()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return ti(this,void 0,void 0,(function(){var e;return ni(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Zm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var eg=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new mh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),tg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Jm,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return ei(t,e),t.prototype._terminate=function(){return this._firestoreClient||rg(this),this._firestoreClient.terminate()},t}(Wm);function ng(e){return e._firestoreClient||rg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rg(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Im(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new pm(e._credentials,e._queue,r)}function ig(e,t,n){var r=this,i=new mh;return e.asyncQueue.enqueue((function(){return ti(r,void 0,void 0,(function(){var r;return ni(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,vm(e,n)];case 1:return o.sent(),[4,mm(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Su.FAILED_PRECONDITION||e.code===Su.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function og(e){if(e._initialized||e._terminated)throw new Eu(Su.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ag=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Eu(Su.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hu(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),sg=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Qu.fromBase64String(t))}catch(t){throw new Eu(Su.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Qu.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),ug=function(e){this._methodName=e},cg=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Eu(Su.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Eu(Su.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Mu(this._lat,e._lat)||Mu(this._long,e._long)},e}(),lg=/^__.*__$/,fg=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Rl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pl(e,this.data,t,this.fieldTransforms)},e}(),hg=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Rl(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function dg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Au()}}var pg=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return Dg(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(dg(this.Nc)&&lg.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),vg=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Tp(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new pg({Nc:e,methodName:t,qc:n,path:Hu.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function mg(e){var t=e._freezeSettings(),n=Tp(e._databaseId);return new vg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gg(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Ag("Data must be an object, but it was:",a,r);var s,u,c=xg(r,a);if(o.merge)s=new Gu(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Pg(t,h[f],n);if(!a.contains(d))throw new Eu(Su.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Mg(l,d)||l.push(d)}s=new Gu(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new fg(new wc(c),s,u)}var yg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ei(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(ug);function bg(e,t,n){return new pg({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var wg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ei(t,e),t.prototype._toFieldTransform=function(e){return new _l(e.path,new dl)},t.prototype.isEqual=function(e){return e instanceof t},t}(ug),_g=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return ei(t,e),t.prototype._toFieldTransform=function(e){var t=bg(this,e,!0),n=this.Kc.map((function(e){return Cg(e,t)})),r=new pl(n);return new _l(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(ug),Sg=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return ei(t,e),t.prototype._toFieldTransform=function(e){var t=bg(this,e,!0),n=this.Kc.map((function(e){return Cg(e,t)})),r=new ml(n);return new _l(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(ug),Eg=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return ei(t,e),t.prototype._toFieldTransform=function(e){var t=new yl(e.R,ul(e.R,this.Qc));return new _l(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(ug);function kg(e,t,n,r){var i=e.Uc(1,t,n);Ag("Data must be an object, but it was:",i,r);var o=[],a=wc.empty();Vu(r,(function(e,r){var s=Og(t,e,n);r=(0,ii.getModularInstance)(r);var u=i.Oc(s);if(r instanceof yg)o.push(s);else{var c=Cg(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Gu(o);return new hg(a,s,i.fieldTransforms)}function Tg(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[Pg(t,r,n)],u=[i];if(o.length%2!=0)throw new Eu(Su.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Pg(t,o[c])),u.push(o[c+1]);for(var l=[],f=wc.empty(),h=s.length-1;h>=0;--h)if(!Mg(l,s[h])){var d=s[h],p=u[h];p=(0,ii.getModularInstance)(p);var v=a.Oc(d);if(p instanceof yg)l.push(d);else{var m=Cg(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Gu(l);return new hg(f,g,a.fieldTransforms)}function Ig(e,t,n,r){return void 0===r&&(r=!1),Cg(n,e.Uc(r?4:3,t))}function Cg(e,t){if(Ng(e=(0,ii.getModularInstance)(e)))return Ag("Unsupported field value:",t,e),xg(e,t);if(e instanceof ug)return function(e,t){if(!dg(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Cg(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,ii.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ul(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ju.fromDate(e);return{timestampValue:gf(t.R,n)}}if(e instanceof ju)return n=new ju(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:gf(t.R,n)};if(e instanceof cg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof sg)return{bytesValue:yf(t.R,e._byteString)};if(e instanceof Km){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:_f(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+qm(e))}(e,t)}function xg(e,t){var n={};return Bu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vu(e,(function(e,r){var i=Cg(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ng(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ju||e instanceof cg||e instanceof sg||e instanceof Km||e instanceof ug)}function Ag(e,t,n){if(!Ng(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=qm(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Pg(e,t,n){if((t=(0,ii.getModularInstance)(t))instanceof ag)return t._internalPath;if("string"==typeof t)return Og(e,t);throw Dg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Rg=new RegExp("[~\\*/\\[\\]]");function Og(e,t,n){if(t.search(Rg)>=0)throw Dg("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(ag.bind.apply(ag,ri([void 0],t.split(".")))))._internalPath}catch(Uy){throw Dg("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Dg(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Eu(Su.INVALID_ARGUMENT,(s+=". ")+e+u)}function Mg(e,t){return e.some((function(e){return e.isEqual(t)}))}var Lg=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Km(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Fg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(jg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Fg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ei(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Lg);function jg(e,t){return"string"==typeof t?Og(e,t):t instanceof ag?t._internalPath:t._delegate._internalPath}var Ug=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),qg=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return ei(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(jg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Lg),Vg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ei(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(qg),Bg=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ug(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Vg(n._firestore,n._userDataWriter,r.key,r,new Ug(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Eu(Su.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Vg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ug(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Vg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ug(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:zg(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function zg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Au()}}function Wg(e,t){return e instanceof qg&&t instanceof qg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Bg&&t instanceof Bg&&e._firestore===t._firestore&&Xm(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Kg(e){if(Gc(e)&&0===e.explicitOrderBy.length)throw new Eu(Su.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hg=function(){};function Gg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Qg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return ei(t,e),t.prototype._apply=function(e){var t=mg(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Eu(Su.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ty(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(ey(r,e,f))}s={arrayValue:{values:u}}}else s=ey(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ty(a,o),s=Ig(n,"where",a,"in"===o||"not-in"===o);var h=xc.create(i,o,s);return function(e,t){if(t.g()){var n=$c(e);if(null!==n&&!n.isEqual(t.field))throw new Eu(Su.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Qc(e);null!==r&&ny(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Eu(Su.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Eu(Su.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Hm(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Hg),$g=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return ei(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Eu(Su.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Eu(Su.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Uc(t,n);return function(e,t){if(null===Qc(e)){var n=$c(e);null!==n&&ny(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Hm(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new zc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Hg),Yg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return ei(t,e),t.prototype._apply=function(e){return new Hm(e.firestore,e.converter,Zc(e._query,this.Hc,this.Jc))},t}(Hg),Xg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return ei(t,e),t.prototype._apply=function(e){var t=Zg(e,this.type,this.Yc,this.Xc);return new Hm(e.firestore,e.converter,function(e,t){return new zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Hg),Jg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return ei(t,e),t.prototype._apply=function(e){var t=Zg(e,this.type,this.Yc,this.Xc);return new Hm(e.firestore,e.converter,function(e,t){return new zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Hg);function Zg(e,t,n,r){if(n[0]=(0,ii.getModularInstance)(n[0]),n[0]instanceof Lg)return function(e,t,n,r,i){if(!r)throw new Eu(Su.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Xc(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(dc(t,r.key));else{var c=r.data.field(u.field);if(Zu(c))throw new Eu(Su.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Eu(Su.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Fc(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=mg(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Eu(Su.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Eu(Su.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Yc(e)&&-1!==c.indexOf("/"))throw new Eu(Su.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Wu.fromString(c));if(!oc.isDocumentKey(l))throw new Eu(Su.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new oc(l);s.push(dc(t,f))}else{var h=Ig(n,r,c);s.push(h)}}return new Fc(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function ey(e,t,n){if("string"==typeof(n=(0,ii.getModularInstance)(n))){if(""===n)throw new Eu(Su.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yc(t)&&-1!==n.indexOf("/"))throw new Eu(Su.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Wu.fromString(n));if(!oc.isDocumentKey(r))throw new Eu(Su.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return dc(e,new oc(r))}if(n instanceof Km)return dc(e,n._key);throw new Eu(Su.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qm(n)+".")}function ty(e,t){if(!Array.isArray(e)||0===e.length)throw new Eu(Su.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Eu(Su.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function ny(e,t,n){if(!n.isEqual(t))throw new Eu(Su.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ry=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),ac(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ju(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Au()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Vu(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new cg(Xu(e.latitude),Xu(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=ec(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(tc(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Yu(e);return new ju(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Wu.fromString(e);Pu(Hf(n));var r=new Cm(n.get(1),n.get(3)),i=new oc(n.popFirst(5));return r.isEqual(t)||Cu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function iy(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var oy=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return ei(t,e),t.prototype.convertBytes=function(e){return new sg(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Km(this.firestore,null,t)},t}(ry),ay=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=mg(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=sy(e,this._firestore),i=iy(r.converter,t,n),o=gg(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,El.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=sy(e,this._firestore);return o="string"==typeof(t=(0,ii.getModularInstance)(t))||t instanceof ag?Tg(this._dataReader,"WriteBatch.update",a._key,t,n,r):kg(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,El.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=sy(e,this._firestore);return this._mutations=this._mutations.concat(new jl(t._key,El.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Eu(Su.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function sy(e,t){if((e=(0,ii.getModularInstance)(e)).firestore!==t)throw new Eu(Su.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var uy=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return ei(t,e),t.prototype.convertBytes=function(e){return new sg(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Km(this.firestore,null,t)},t}(ry);function cy(e,t,n){e=Vm(e,Km);var r=Vm(e.firestore,tg),i=iy(e.converter,t,n);return hy(r,[gg(mg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,El.none())])}function ly(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Vm(e,Km);var o=Vm(e.firestore,tg),a=mg(o);return hy(o,[("string"==typeof(t=(0,ii.getModularInstance)(t))||t instanceof ag?Tg(a,"updateDoc",e._key,t,n,r):kg(a,"updateDoc",e._key,t)).toMutation(e._key,El.exists(!0))])}function fy(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,ii.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Zm(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(Zm(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof Km)c=Vm(e.firestore,tg),l=Kc(e._key.path),u={next:function(t){i[s]&&i[s](dy(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=Vm(e,Hm);c=Vm(d.firestore,tg),l=d._query;var p=new uy(c);u={next:function(e){i[s]&&i[s](new Bg(c,p,d,e))},error:i[s+1],complete:i[s+2]},Kg(e._query)}return function(e,t,n,r){var i=this,o=new lm(r),a=new mv(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return ti(i,void 0,void 0,(function(){var t;return ni(this,(function(n){switch(n.label){case 0:return t=fv,[4,Em(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return ti(i,void 0,void 0,(function(){var t;return ni(this,(function(n){switch(n.label){case 0:return t=hv,[4,Em(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(ng(c),l,f,u)}function hy(e,t){return function(e,t){var n=this,r=new mh;return e.asyncQueue.enqueueAndForget((function(){return ti(n,void 0,void 0,(function(){var n;return ni(this,(function(i){switch(i.label){case 0:return n=Av,[4,Sm(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(ng(e),t)}function dy(e,t,n){var r=n.docs.get(t._key),i=new uy(e);return new qg(e,i,t._key,r,new Ug(n.hasPendingWrites,n.fromCache),t.converter)}var py=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return ei(t,e),t.prototype.get=function(t){var n=this,r=sy(t,this._firestore),i=new uy(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new qg(n._firestore,i,r._key,e._document,new Ug(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=mg(e)}return e.prototype.get=function(e){var t=this,n=sy(e,this._firestore),r=new oy(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Au();var i=e[0];if(i.isFoundDocument())return new Lg(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Lg(t._firestore,r,n._key,null,n.converter);throw Au()}))},e.prototype.set=function(e,t,n){var r=sy(e,this._firestore),i=iy(r.converter,t,n),o=gg(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=sy(e,this._firestore);return o="string"==typeof(t=(0,ii.getModularInstance)(t))||t instanceof ag?Tg(this._dataReader,"Transaction.update",a._key,t,n,r):kg(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=sy(e,this._firestore);return this._transaction.delete(t._key),this},e}());function vy(){if("undefined"==typeof Uint8Array)throw new Eu(Su.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function my(){if("undefined"==typeof atob)throw new Eu(Su.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var gy=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return my(),new e(sg.fromBase64String(t))},e.fromUint8Array=function(t){return vy(),new e(sg.fromUint8Array(t))},e.prototype.toBase64=function(){return my(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return vy(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),yy=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){og(e=Vm(e,tg));var n=ng(e),r=e._freezeSettings(),i=new um;return ig(n,i,new am(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){og(e=Vm(e,tg));var t=ng(e),n=e._freezeSettings(),r=new um;return ig(t,r,new sm(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Eu(Su.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new mh;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return ti(t,void 0,void 0,(function(){var t;return ni(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return ti(this,void 0,void 0,(function(){var t;return ni(this,(function(n){switch(n.label){case 0:return bh.yt()?(t=e+"main",[4,bh.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Ad(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),by=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Cm||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||xu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=Vm(e,Wm))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&xu("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=sp.MOCK_USER;else{a=(0,ii.createMockUserToken)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Eu(Su.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new sp(u)}e._credentials=new Pm(new Nm(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return ti(t,void 0,void 0,(function(){var t,n;return ni(this,(function(r){switch(r.label){case 0:return[4,bm(e)];case 1:return t=r.sent(),[4,_m(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Ru(e);return t.Or.delete(0),Op(t)}(n))]}}))}))}))}(ng(Vm(this._delegate,tg)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return ti(t,void 0,void 0,(function(){var t,n;return ni(this,(function(r){switch(r.label){case 0:return[4,bm(e)];case 1:return t=r.sent(),[4,_m(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return ti(this,void 0,void 0,(function(){var t;return ni(this,(function(n){switch(n.label){case 0:return(t=Ru(e)).Or.add(0),[4,Dp(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(ng(Vm(this._delegate,tg)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Fm("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new mh;return e.asyncQueue.enqueueAndForget((function(){return ti(t,void 0,void 0,(function(){var t;return ni(this,(function(r){switch(r.label){case 0:return t=Lv,[4,Sm(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(ng(Vm(this._delegate,tg)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new lm(t);return e.asyncQueue.enqueueAndForget((function(){return ti(n,void 0,void 0,(function(){var t;return ni(this,(function(n){switch(n.label){case 0:return t=function(e,t){Ru(e).Gr.add(t),t.next()},[4,Em(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return ti(n,void 0,void 0,(function(){var t;return ni(this,(function(n){switch(n.label){case 0:return t=function(e,t){Ru(e).Gr.delete(t)},[4,Em(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(ng(e=Vm(e,tg)),Zm(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Eu(Su.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Oy(this,Qm(this._delegate,e))}catch(e){throw Ty(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new ky(this,$m(this._delegate,e))}catch(e){throw Ty(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Ay(this,function(e,t){if(e=Vm(e,Wm),Mm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Eu(Su.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Hm(e,null,function(e){return new zc(Wu.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Ty(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new mh;return e.asyncQueue.enqueueAndForget((function(){return ti(n,void 0,void 0,(function(){var n;return ni(this,(function(i){switch(i.label){case 0:return[4,function(e){return ym(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new dm(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(ng(e),(function(n){return t(new py(e,n))}))}(this._delegate,(function(n){return e(new _y(t,n))}))},e.prototype.batch=function(){var e=this;return ng(this._delegate),new Sy(new ay(this._delegate,(function(t){return hy(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Eu(Su.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Eu(Su.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),wy=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return ei(t,e),t.prototype.convertBytes=function(e){return new gy(new sg(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ky.eu(t,this.firestore,null)},t}(ry);var _y=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wy(e)}return e.prototype.get=function(e){var t=this,n=Dy(e);return this._delegate.get(n).then((function(e){return new xy(t._firestore,new qg(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Dy(e);return n?(Lm("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Dy(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,ri([a,t,n],i)),this},e.prototype.delete=function(e){var t=Dy(e);return this._delegate.delete(t),this},e}(),Sy=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Dy(e);return n?(Lm("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Dy(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,ri([a,t,n],i)),this},e.prototype.delete=function(e){var t=Dy(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Ey=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Vg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ny(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new wy(t),n),i.set(n,o)),o},e}();Ey.su=new WeakMap;var ky=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wy(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Eu(Su.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Km(n._delegate,r,new oc(t)))},e.eu=function(t,n,r){return new e(n,new Km(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Oy(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Oy(this.firestore,Qm(this._delegate,e))}catch(e){throw Ty(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,ii.getModularInstance)(e))instanceof Km&&Ym(this._delegate,e)},e.prototype.set=function(e,t){t=Lm("DocumentReference.set",t);try{return t?cy(this._delegate,e,t):cy(this._delegate,e)}catch(e){throw Ty(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ly(this._delegate,e):ly.apply(void 0,ri([this._delegate,e,t],n))}catch(e){throw Ty(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return hy(Vm((e=this._delegate).firestore,tg),[new jl(e._key,El.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Iy(t),i=Cy(t,(function(t){return new xy(e.firestore,new qg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return fy(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Vm(e,Km);var t=Vm(e.firestore,tg),n=ng(t),r=new uy(t);return function(e,t){var n=this,r=new mh;return e.asyncQueue.enqueueAndForget((function(){return ti(n,void 0,void 0,(function(){var n;return ni(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return ti(this,void 0,void 0,(function(){var r,i;return ni(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Ru(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Eu(Su.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=ov(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,wm(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new qg(t,r,e._key,n,new Ug(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Vm(e,Km);var t=Vm(e.firestore,tg);return km(ng(t),e._key,{source:"server"}).then((function(n){return dy(t,e,n)}))}(this._delegate):function(e){e=Vm(e,Km);var t=Vm(e.firestore,tg);return km(ng(t),e._key).then((function(n){return dy(t,e,n)}))}(this._delegate)).then((function(e){return new xy(t.firestore,new qg(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ey.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Ty(e,t,n){return e.message=e.message.replace(t,n),e}function Iy(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Zm(r))return r}return{}}function Cy(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Zm(e[0])?e[0]:Zm(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var xy=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ky(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Wg(this._delegate,e._delegate)},e}(),Ny=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ei(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(xy),Ay=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wy(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Gg(this._delegate,function(e,t,n){var r=t,i=jg("where",e);return new Qg(i,r,n)}(t,n,r)))}catch(t){throw Ty(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Gg(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=jg("orderBy",e);return new $g(r,n)}(t,n)))}catch(t){throw Ty(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Gg(this._delegate,function(e){return Bm("limit",e),new Yg("limit",e,"F")}(t)))}catch(t){throw Ty(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Gg(this._delegate,function(e){return Bm("limitToLast",e),new Yg("limitToLast",e,"L")}(t)))}catch(t){throw Ty(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xg("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Ty(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xg("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Ty(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Jg("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Ty(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gg(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Jg("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Ty(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Xm(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Vm(e,Hm);var t=Vm(e.firestore,tg),n=ng(t),r=new uy(t);return function(e,t){var n=this,r=new mh;return e.asyncQueue.enqueueAndForget((function(){return ti(n,void 0,void 0,(function(){var n;return ni(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return ti(this,void 0,void 0,(function(){var r,i,o,a,s;return ni(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Kd(e,t,!0)];case 1:return s=u.sent(),r=new Ev(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=ov(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,wm(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Bg(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Vm(e,Hm);var t=Vm(e.firestore,tg),n=ng(t),r=new uy(t);return Tm(n,e._query,{source:"server"}).then((function(n){return new Bg(t,r,e,n)}))}(this._delegate):function(e){e=Vm(e,Hm);var t=Vm(e.firestore,tg),n=ng(t),r=new uy(t);return Kg(e._query),Tm(n,e._query).then((function(n){return new Bg(t,r,e,n)}))}(this._delegate)).then((function(e){return new Ry(t.firestore,new Bg(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Iy(t),i=Cy(t,(function(t){return new Ry(e.firestore,new Bg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return fy(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ey.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Py=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ny(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Ry=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Ay(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Ny(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Py(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Ny(n._firestore,r))}))},e.prototype.isEqual=function(e){return Wg(this._delegate,e._delegate)},e}(),Oy=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return ei(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new ky(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new ky(this.firestore,void 0===e?$m(this._delegate):$m(this._delegate,e))}catch(e){throw Ty(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Vm(e.firestore,tg),r=$m(e),i=iy(e.converter,t);return hy(n,[gg(mg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,El.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ky(t.firestore,e)}))},t.prototype.isEqual=function(e){return Ym(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ey.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(Ay);function Dy(e){return Vm(e,Km)}var My=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(ag.bind.apply(ag,ri([void 0],e)))}return e.documentId=function(){return new e(Hu.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,ii.getModularInstance)(e))instanceof ag&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Ly=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new wg("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new yg("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new _g("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Sg("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Eg("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function Fy(e){return function(e,t){var n=ng(e=Vm(e,tg)),r=new eg;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new fm(e,t)}(function(e,t){if(e instanceof Uint8Array)return cm(e,t);if(e instanceof ArrayBuffer)return cm(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Tp(t));e.asyncQueue.enqueueAndForget((function(){return ti(i,void 0,void 0,(function(){var t;return ni(this,(function(n){switch(n.label){case 0:return t=im,[4,Sm(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function jy(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return ti(n,void 0,void 0,(function(){var n;return ni(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=Ru(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,wm(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(ng(t=Vm(t,tg)),n).then((function(e){return e?new Hm(t,null,e.query):null}))).then((function(e){return e?new Ay(r,e):null}))}var Uy,qy,Vy=n(181),By={Firestore:by,GeoPoint:cg,Timestamp:ju,Blob:gy,Transaction:_y,WriteBatch:Sy,DocumentReference:ky,DocumentSnapshot:xy,Query:Ay,QueryDocumentSnapshot:Ny,QuerySnapshot:Ry,CollectionReference:Oy,FieldPath:My,FieldValue:Ly,setLogLevel:function(e){var t;t=e,ku.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Vy.Component("firestore",(function(e){return function(e,t){return new by(e,new tg(e,t),new yy)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},By)))})(Uy=Jr.default),Uy.registerVersion("@firebase/firestore","2.4.1"),(qy=by).prototype.loadBundle=Fy,qy.prototype.namedQuery=jy;var zy=function(e,t){return zy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},zy(e,t)};function Wy(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Uy){o(Uy)}}function s(e){try{u(r.throw(e))}catch(Uy){o(Uy)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Ky(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Uy){o=[6,Uy],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;Object.create;var Hy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gy=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}zy(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);var Qy=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return Wy(this,void 0,void 0,(function(){var e;return Ky(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return Wy(this,void 0,void 0,(function(){return Ky(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return Wy(this,void 0,void 0,(function(){var e,t;return Ky(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function $y(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Yy=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return $y(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?$y(e,(function(e){return t.decode(e)})):e},e}();var Xy=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new Yy,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new Qy(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(Uy){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return Wy(this,void 0,void 0,(function(){var r,i,o;return Ky(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return Wy(this,void 0,void 0,(function(){var e;return Ky(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return Wy(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h,d;return Ky(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new Gy("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([Jy(c,this.postJSON(r,i,o)),l,Jy(c,this.cancelAllRequests)])];case 2:if(!(f=p.sent()))throw new Gy("cancelled","Firebase Functions instance was deleted.");if(h=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!Hy[s])return new Gy("internal","internal");r=Hy[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(Uy){}return"ok"===r?null:new Gy(r,i,o)}(f.status,f.json,this.serializer),h)throw h;if(!f.json)throw new Gy("internal","Response is not valid JSON object.");if("undefined"===typeof(d=f.json.data)&&(d=f.json.result),"undefined"===typeof d)throw new Gy("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function Jy(e,t){return Wy(this,void 0,void 0,(function(){var n;return Ky(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:Xy};e.INTERNAL.registerComponent(new Vy.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new Xy(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Jr.default,fetch.bind(self)),Jr.default.registerVersion("@firebase/functions","0.6.16");var Zy=function(){return Zy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zy.apply(this,arguments)};function eb(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Uy){o(Uy)}}function s(e){try{u(r.throw(e))}catch(Uy){o(Uy)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function tb(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Uy){o=[6,Uy],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function nb(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rb(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create;var ib,ob=n(494),ab="0.4.32",sb=1e4,ub="w:0.4.32",cb="FIS_v2",lb=36e5,fb=((ib={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ib["not-registered"]="Firebase Installation is not registered.",ib["installation-not-found"]="Firebase Installation not found.",ib["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',ib["app-offline"]="Could not process request. Application offline.",ib["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",ib),hb=new ii.ErrorFactory("installations","Installations",fb);function db(e){return e instanceof ii.FirebaseError&&e.code.includes("request-failed")}function pb(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function vb(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function mb(e,t){return eb(this,void 0,void 0,(function(){var n,r;return tb(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,hb.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function gb(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yb(e,t){var n=t.refreshToken,r=gb(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function bb(e){return eb(this,void 0,void 0,(function(){var t;return tb(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function wb(e,t){var n=t.fid;return eb(this,void 0,void 0,(function(){var t,r,i,o,a,s;return tb(this,(function(u){switch(u.label){case 0:return t=pb(e),r=gb(e),i={fid:n,authVersion:cb,appId:e.appId,sdkVersion:ub},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,bb((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:vb(s.authToken)}];case 3:return[4,mb("Create Installation",a)];case 4:throw u.sent()}}))}))}function _b(e){return new Promise((function(t){setTimeout(t,e)}))}function Sb(e){var t=btoa(String.fromCharCode.apply(String,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],rb(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}var Eb=/^[cdef][\w-]{21}$/;function kb(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return Sb(e).substr(0,22)}(e);return Eb.test(t)?t:""}catch(gg){return""}}function Tb(e){return e.appName+"!"+e.appId}var Ib=new Map;function Cb(e,t){var n=Tb(e);xb(n,t),function(e,t){var n=Ab();n&&n.postMessage({key:e,fid:t});Pb()}(n,t)}function xb(e,t){var n,r,i=Ib.get(e);if(i)try{for(var o=nb(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Nb=null;function Ab(){return!Nb&&"BroadcastChannel"in self&&((Nb=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){xb(e.data.key,e.data.fid)}),Nb}function Pb(){0===Ib.size&&Nb&&(Nb.close(),Nb=null)}var Rb,Ob="firebase-installations-store",Db=null;function Mb(){return Db||(Db=(0,ob.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(Ob)}))),Db}function Lb(e,t){return eb(this,void 0,void 0,(function(){var n,r,i,o,a;return tb(this,(function(s){switch(s.label){case 0:return n=Tb(e),[4,Mb()];case 1:return r=s.sent(),i=r.transaction(Ob,"readwrite"),[4,(o=i.objectStore(Ob)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||Cb(e,t.fid),[2,t]}}))}))}function Fb(e){return eb(this,void 0,void 0,(function(){var t,n,r;return tb(this,(function(i){switch(i.label){case 0:return t=Tb(e),[4,Mb()];case 1:return n=i.sent(),[4,(r=n.transaction(Ob,"readwrite")).objectStore(Ob).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function jb(e,t){return eb(this,void 0,void 0,(function(){var n,r,i,o,a,s;return tb(this,(function(u){switch(u.label){case 0:return n=Tb(e),[4,Mb()];case 1:return r=u.sent(),i=r.transaction(Ob,"readwrite"),[4,(o=i.objectStore(Ob)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||Cb(e,s.fid),[2,s]}}))}))}function Ub(e){return eb(this,void 0,void 0,(function(){var t,n,r;return tb(this,(function(i){switch(i.label){case 0:return[4,jb(e,(function(n){var r=function(e){return Bb(e||{fid:kb(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(hb.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return eb(this,void 0,void 0,(function(){var n,r;return tb(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,wb(e,t)];case 1:return n=i.sent(),[2,Lb(e,n)];case 2:return db(r=i.sent())&&409===r.customData.serverCode?[4,Fb(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Lb(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:qb(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function qb(e){return eb(this,void 0,void 0,(function(){var t,n,r,i;return tb(this,(function(o){switch(o.label){case 0:return[4,Vb(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,_b(100)];case 3:return o.sent(),[4,Vb(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,Ub(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function Vb(e){return jb(e,(function(e){if(!e)throw hb.create("installation-not-found");return Bb(e)}))}function Bb(e){return 1===(t=e).registrationStatus&&t.registrationTime+sb<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function zb(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return eb(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return tb(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return pb(e)+"/"+n+"/authTokens:generate"}(n,t),i=yb(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:ub}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,bb((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,vb(c)];case 3:return[4,mb("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function Wb(e,t){return void 0===t&&(t=!1),eb(this,void 0,void 0,(function(){var n,r,i;return tb(this,(function(o){switch(o.label){case 0:return[4,jb(e.appConfig,(function(r){if(!Hb(r))throw hb.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+lb}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return eb(this,void 0,void 0,(function(){var n,r;return tb(this,(function(i){switch(i.label){case 0:return[4,Kb(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,_b(100)];case 3:return i.sent(),[4,Kb(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Wb(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw hb.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return Zy(Zy({},e),{authToken:t})}(r);return n=function(e,t){return eb(this,void 0,void 0,(function(){var n,r,i;return tb(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,zb(e,t)];case 1:return n=o.sent(),i=Zy(Zy({},t),{authToken:n}),[4,Lb(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!db(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Fb(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Zy(Zy({},t),{authToken:{requestStatus:0}}),[4,Lb(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Kb(e){return jb(e,(function(e){if(!Hb(e))throw hb.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+sb<Date.now()?Zy(Zy({},e),{authToken:{requestStatus:0}}):e}))}function Hb(e){return void 0!==e&&2===e.registrationStatus}function Gb(e){return eb(this,void 0,void 0,(function(){var t;return tb(this,(function(n){switch(n.label){case 0:return[4,Ub(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function Qb(e,t){return eb(this,void 0,void 0,(function(){var n,r,i,o;return tb(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return pb(e)+"/"+n}(e,t),r=yb(e,t),i={method:"DELETE",headers:r},[4,bb((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,mb("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function $b(e,t){var n=e.appConfig;return function(e,t){Ab();var n=Tb(e),r=Ib.get(n);r||(r=new Set,Ib.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=Tb(e),r=Ib.get(n);r&&(r.delete(t),0===r.size&&Ib.delete(n),Pb())}(n,t)}}function Yb(e){return hb.create("missing-app-config-values",{valueName:e})}(Rb=Jr.default).INTERNAL.registerComponent(new Vy.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Yb("App Configuration");if(!e.name)throw Yb("App Name");try{for(var r=nb(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw Yb(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return eb(this,void 0,void 0,(function(){var t,n,r;return tb(this,(function(i){switch(i.label){case 0:return[4,Ub(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):Wb(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),eb(this,void 0,void 0,(function(){return tb(this,(function(n){switch(n.label){case 0:return[4,Gb(e.appConfig)];case 1:return n.sent(),[4,Wb(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return eb(this,void 0,void 0,(function(){var t,n;return tb(this,(function(r){switch(r.label){case 0:return[4,jb(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw hb.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw hb.create("app-offline");case 3:return[4,Qb(t,n)];case 4:return r.sent(),[4,Fb(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return $b(r,e)}};return i}),"PUBLIC")),Rb.registerVersion("@firebase/installations",ab);var Xb=function(){return Xb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xb.apply(this,arguments)};function Jb(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Uy){o(Uy)}}function s(e){try{u(r.throw(e))}catch(Uy){o(Uy)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Zb(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Uy){o=[6,Uy],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function ew(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function tw(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create;var nw,rw,iw=n(365),ow=((nw={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',nw["only-available-in-window"]="This method is available in a Window context.",nw["only-available-in-sw"]="This method is available in a service worker context.",nw["permission-default"]="The notification permission was not granted and dismissed instead.",nw["permission-blocked"]="The notification permission was not granted and blocked instead.",nw["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",nw["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",nw["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",nw["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",nw["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",nw["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",nw["token-update-no-token"]="FCM returned no token when updating the user to push.",nw["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",nw["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",nw["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",nw["invalid-vapid-key"]="The public VAPID key must be a string.",nw["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",nw),aw=new ii.ErrorFactory("messaging","Messaging",ow),sw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",uw="google.c.a.c_id";function cw(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],tw(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lw(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(rw||(rw={}));var fw="fcm_token_details_db",hw="fcm_token_object_Store";function dw(e){return Jb(this,void 0,void 0,(function(){var t,n,r,i=this;return Zb(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(fw))return[2,null];o.label=2;case 2:return r=null,[4,(0,iw.openDb)(fw,5,(function(t){return Jb(i,void 0,void 0,(function(){var n,i,o,a;return Zb(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(hw)?[4,(n=t.transaction.objectStore(hw)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:cw(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:cw(o.auth),p256dh:cw(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:cw(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,iw.deleteDb)(fw)];case 4:return o.sent(),[4,(0,iw.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,iw.deleteDb)("undefined")];case 6:return o.sent(),[2,pw(r)?r:null]}}))}))}function pw(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var vw="firebase-messaging-store",mw=null;function gw(){return mw||(mw=(0,iw.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(vw)}))),mw}function yw(e){return Jb(this,void 0,void 0,(function(){var t,n,r;return Zb(this,(function(i){switch(i.label){case 0:return t=_w(e),[4,gw()];case 1:return[4,i.sent().transaction(vw).objectStore(vw).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,dw(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,bw(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function bw(e,t){return Jb(this,void 0,void 0,(function(){var n,r,i;return Zb(this,(function(o){switch(o.label){case 0:return n=_w(e),[4,gw()];case 1:return r=o.sent(),[4,(i=r.transaction(vw,"readwrite")).objectStore(vw).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function ww(e){return Jb(this,void 0,void 0,(function(){var t,n,r;return Zb(this,(function(i){switch(i.label){case 0:return t=_w(e),[4,gw()];case 1:return n=i.sent(),[4,(r=n.transaction(vw,"readwrite")).objectStore(vw).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function _w(e){return e.appConfig.appId}function Sw(e,t){return Jb(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Zb(this,(function(u){switch(u.label){case 0:return[4,Iw(e)];case 1:n=u.sent(),r=Cw(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Tw(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),aw.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,aw.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw aw.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Ew(e,t){return Jb(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Zb(this,(function(u){switch(u.label){case 0:return[4,Iw(e)];case 1:n=u.sent(),r=Cw(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Tw(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),aw.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,aw.create("token-update-failed",{errorInfo:s});if(!o.token)throw aw.create("token-update-no-token");return[2,o.token]}}))}))}function kw(e,t){return Jb(this,void 0,void 0,(function(){var n,r,i,o,a;return Zb(this,(function(s){switch(s.label){case 0:return[4,Iw(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Tw(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,aw.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),aw.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function Tw(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function Iw(e){var t=e.appConfig,n=e.installations;return Jb(this,void 0,void 0,(function(){var e;return Zb(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function Cw(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==sw&&(o.web.applicationPubKey=i),o}function xw(e,t,n){return Jb(this,void 0,void 0,(function(){var r,i,o,a;return Zb(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw aw.create("permission-blocked");return[4,Rw(t,n)];case 1:return r=s.sent(),[4,yw(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:cw(r.getKey("auth")),p256dh:cw(r.getKey("p256dh"))},i?[3,3]:[2,Pw(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,kw(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,Pw(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,Aw({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function Nw(e,t){return Jb(this,void 0,void 0,(function(){var n,r;return Zb(this,(function(i){switch(i.label){case 0:return[4,yw(e)];case 1:return(n=i.sent())?[4,kw(e,n.token)]:[3,4];case 2:return i.sent(),[4,ww(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Aw(e,t,n){return Jb(this,void 0,void 0,(function(){var r,i,o;return Zb(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Ew(t,e)];case 1:return r=a.sent(),i=Xb(Xb({},e),{token:r,createTime:Date.now()}),[4,bw(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Nw(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function Pw(e,t){return Jb(this,void 0,void 0,(function(){var n,r;return Zb(this,(function(i){switch(i.label){case 0:return[4,Sw(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,bw(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function Rw(e,t){return Jb(this,void 0,void 0,(function(){var n;return Zb(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lw(t)})]}}))}))}function Ow(e){return"object"===typeof e&&!!e&&uw in e}function Dw(e){return new Promise((function(t){setTimeout(t,e)}))}var Mw=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw aw.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return Jb(this,void 0,void 0,(function(){var n;return Zb(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,yw(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:sw,r.label=2;case 2:return[2,xw(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return Nw(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw aw.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw aw.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw aw.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw aw.create("only-available-in-window")},e.prototype.onMessage=function(){throw aw.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw aw.create("only-available-in-window")},e.prototype.onPush=function(e){return Jb(this,void 0,void 0,(function(){var t,n,r,i;return Zb(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,Uw()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,jw(n,t)]:(r=!1,t.notification?[4,qw(Lw(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Dw(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return Jb(this,void 0,void 0,(function(){var r;return Zb(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,Nw(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,yw(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Nw(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,xw(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:sw)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return Jb(this,void 0,void 0,(function(){var r,i,o,a,s;return Zb(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return Ow(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,Fw(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,Dw(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=rw.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function Lw(e){var t,n=Xb({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function Fw(e){return Jb(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return Zb(this,(function(u){switch(u.label){case 0:return[4,Uw()];case 1:t=u.sent();try{for(n=ew(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function jw(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=rw.PUSH_RECEIVED;try{for(var i=ew(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Uw(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function qw(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var Vw=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return Jb(this,void 0,void 0,(function(){var t,n;return Zb(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===rw.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),Ow(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return Jb(this,void 0,void 0,(function(){return Zb(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw aw.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,xw(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return Jb(this,void 0,void 0,(function(){return Zb(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=sw),[2]}))}))},e.prototype.updateSwReg=function(e){return Jb(this,void 0,void 0,(function(){return Zb(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw aw.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return Jb(this,void 0,void 0,(function(){var e,t;return Zb(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),aw.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return Jb(this,void 0,void 0,(function(){return Zb(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Nw(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return Jb(this,void 0,void 0,(function(){var e;return Zb(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?aw.create("permission-blocked"):aw.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw aw.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw aw.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw aw.create("invalid-sw-registration");if(this.swRegistration)throw aw.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw aw.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw aw.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return Jb(this,void 0,void 0,(function(){var n;return Zb(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case rw.NOTIFICATION_CLICKED:return"notification_open";case rw.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function Bw(e){return aw.create("missing-app-config-values",{valueName:e})}var zw={isSupported:Ww};function Ww(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Jr.default.INTERNAL.registerComponent(new Vy.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Bw("App Configuration Object");if(!e.name)throw Bw("App Name");var r=e.options;try{for(var i=ew(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw Bw(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Ww())throw aw.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Mw(r):new Vw(r)}),"PUBLIC").setServiceProps(zw));var Kw=function(e,t){return Kw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Kw(e,t)};var Hw=function(){return Hw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Hw.apply(this,arguments)};function Gw(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Uy){o(Uy)}}function s(e){try{u(r.throw(e))}catch(Uy){o(Uy)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Qw(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Uy){o=[6,Uy],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function $w(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Yw="firebasestorage.googleapis.com",Xw=function(e){function t(n,r){var i=e.call(this,Jw(n),"Firebase Storage: "+r+" ("+Jw(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Kw(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._codeEquals=function(e){return Jw(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(ii.FirebaseError);function Jw(e){return"storage/"+e}function Zw(){return new Xw("unknown","An unknown error occurred, please check the error payload for server response.")}function e_(){return new Xw("canceled","User canceled the upload/download.")}function t_(){return new Xw("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function n_(e){return new Xw("invalid-argument",e)}function r_(){return new Xw("app-deleted","The Firebase app was deleted.")}function i_(e){return new Xw("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function o_(e,t){return new Xw("invalid-format","String does not match format '"+e+"': "+t)}function a_(e){throw new Xw("internal-error","Internal error: "+e)}var s_={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},u_=function(e,t){this.data=e,this.contentType=t||null};function c_(e,t){switch(e){case s_.RAW:return new u_(l_(t));case s_.BASE64:case s_.BASE64URL:return new u_(f_(e,t));case s_.DATA_URL:return new u_(function(e){var t=new h_(e);return t.base64?f_(s_.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(Uy){throw o_(s_.DATA_URL,"Malformed data URL.")}return l_(t)}(t.rest)}(t),new h_(t).contentType)}throw Zw()}function l_(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function f_(e,t){switch(e){case s_.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw o_(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case s_.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw o_(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(Uy){throw o_(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var h_=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw o_(s_.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var d_,p_={STATE_CHANGED:"state_changed"},v_={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function m_(e){switch(e){case"running":case"pausing":case"canceling":return v_.RUNNING;case"paused":return v_.PAUSED;case"success":return v_.SUCCESS;case"canceled":return v_.CANCELED;default:return v_.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(d_||(d_={}));var g_=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=d_.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=d_.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=d_.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw a_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw a_("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw a_("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Uy){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw a_("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var y_=function(){function e(){}return e.prototype.createConnection=function(){return new g_},e}(),b_=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(Uy){return new e(t,"")}if(""===r.path)return r;throw new Xw("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Yw?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Xw("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),w_=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function __(e){return"string"===typeof e||e instanceof String}function S_(e){return E_()&&e instanceof Blob}function E_(){return"undefined"!==typeof Blob}function k_(e,t,n,r){if(r<t)throw n_("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw n_("Invalid value for '"+e+"'. Expected "+n+" or less.")}function T_(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function I_(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var C_=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(Uy){o(Uy)}else null!==a?((r=Zw()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?r_():e_()):o(r=new Xw("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new x_(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,$w([null,e],t));else{var i;s()||o?c.call.apply(c,$w([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var h=!1;function d(e){h||(h=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new x_(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===d_.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new x_(a,r))}else{var s=r.getErrorCode()===d_.ABORT;t(!1,new x_(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),x_=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function N_(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function A_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=N_();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(E_())return new Blob(e);throw new Xw("unsupported-environment","This browser doesn't seem to support creating Blobs")}var P_=function(){function e(e,t){var n=0,r="";S_(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(S_(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(E_()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(A_.apply(null,r))}var i=t.map((function(e){return __(e)?c_(s_.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function R_(e){var t;try{t=JSON.parse(e)}catch(Uy){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function O_(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function D_(e,t){return t}var M_=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||D_},L_=null;function F_(){if(L_)return L_;var e=[];e.push(new M_("bucket")),e.push(new M_("generation")),e.push(new M_("metageneration")),e.push(new M_("name","fullPath",!0));var t=new M_("name");t.xform=function(e,t){return function(e){return!__(e)||e.length<2?e:O_(e)}(t)},e.push(t);var n=new M_("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new M_("timeCreated")),e.push(new M_("updated")),e.push(new M_("md5Hash",null,!0)),e.push(new M_("cacheControl",null,!0)),e.push(new M_("contentDisposition",null,!0)),e.push(new M_("contentEncoding",null,!0)),e.push(new M_("contentLanguage",null,!0)),e.push(new M_("contentType",null,!0)),e.push(new M_("metadata","customMetadata",!0)),L_=e}function j_(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new b_(n,r);return t._makeStorageReference(i)}})}(r,e),r}function U_(e,t,n){var r=R_(t);return null===r?null:j_(e,r,n)}function q_(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function V_(e,t,n){var r=R_(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new b_(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new b_(t,l.name)),r.items.push(s)}return r}(e,t,r)}var B_=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function z_(e){if(!e)throw Zw()}function W_(e,t){return function(n,r){var i=U_(e,r,t);return z_(null!==i),i}}function K_(e,t){return function(n,r){var i=U_(e,r,t);return z_(null!==i),function(e,t,n){var r=R_(t);if(null===r)return null;if(!__(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent,a=i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return T_("/b/"+o(r)+"/o/"+o(i),n)+I_({alt:"media",token:t})}));return a[0]}(i,r,e.host)}}function H_(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Xw("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Xw("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Xw("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Xw("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function G_(e){var t=H_(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Xw("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Q_(e,t,n){var r=T_(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new B_(r,"GET",W_(e,n),i);return o.errorHandler=G_(t),o}function $_(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=T_(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new B_(a,"GET",function(e,t){return function(n,r){var i=V_(e,t,r);return z_(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=H_(t),u}function Y_(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var X_=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function J_(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Uy){z_(!1)}return z_(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Z_=262144;function eS(e,t,n,r,i,o,a,s){var u=new X_(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Xw("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(f,h);if(null===p)throw t_();var v=t.maxUploadRetryTime,m=new B_(n,"POST",(function(e,n){var i,a=J_(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?W_(t,o)(e,n):null,new X_(s,c,"final"===a,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=H_(e),m}var tS=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function nS(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var rS=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=F_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Y_(t,r,i),s={name:a.fullPath},u=T_(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=q_(a,n),f=e.maxUploadRetryTime,h=new B_(u,"POST",(function(e){var t;J_(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Uy){z_(!1)}return z_(__(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=H_(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new B_(n,"POST",(function(e){var t=J_(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Uy){z_(!1)}n||z_(!1);var i=Number(n);return z_(!isNaN(i)),new X_(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=H_(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Z_*this._chunkMultiplier,n=new X_(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=eS(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(Uy){return e._error=Uy,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Z_*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Q_(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Y_(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+q_(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=P_.getBlob(c,r,l);if(null===f)throw t_();var h={name:u.fullPath},d=T_(o,e.host),p=e.maxUploadRetryTime,v=new B_(d,"POST",W_(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=H_(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=e_(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=m_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new tS(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(m_(this._state)){case v_.SUCCESS:nS(this._resolve.bind(null,this.snapshot))();break;case v_.CANCELED:case v_.ERROR:nS(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(m_(this._state)){case v_.RUNNING:case v_.PAUSED:e.next&&nS(e.next.bind(e,this.snapshot))();break;case v_.SUCCESS:e.complete&&nS(e.complete.bind(e))();break;default:e.error&&nS(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),iS=function(){function e(e,t){this._service=e,this._location=t instanceof b_?t:b_.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new b_(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return O_(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new b_(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw i_(e)},e}();function oS(e){var t={prefixes:[],items:[]};return aS(e,t).then((function(){return t}))}function aS(e,t,n){return Gw(this,void 0,void 0,(function(){var r,i,o;return Qw(this,(function(a){switch(a.label){case 0:return[4,sS(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,aS(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function sS(e,t){return Gw(this,void 0,void 0,(function(){var n,r;return Qw(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&k_("options.maxResults",1,1e3,t.maxResults),n=t||{},r=$_(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function uS(e,t){return Gw(this,void 0,void 0,(function(){var n;return Qw(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=T_(t.fullServerUrl(),e.host),o=q_(n,r),a=e.maxOperationRetryTime,s=new B_(i,"PATCH",W_(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=G_(t),s}(e.storage,e._location,t,F_()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function cS(e){return Gw(this,void 0,void 0,(function(){var t;return Qw(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=T_(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new B_(r,"GET",K_(e,n),i);return o.errorHandler=G_(t),o}(e.storage,e._location,F_()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Xw("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function lS(e){return Gw(this,void 0,void 0,(function(){var t;return Qw(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=T_(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new B_(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=G_(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function fS(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new b_(e._location.bucket,n);return new iS(e.storage,r)}function hS(e){return/^[A-Za-z]+:\/\//.test(e)}function dS(e,t){if(e instanceof mS){var n=e;if(null==n._bucket)throw new Xw("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new iS(n,n._bucket);return null!=t?dS(r,t):r}return void 0!==t?fS(e,t):e}function pS(e,t){if(t&&hS(t)){if(e instanceof mS)return new iS(e,t);throw n_("To use ref(service, url), the first argument must be a Storage instance.")}return dS(e,t)}function vS(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:b_.makeFromBucketSpec(n,e)}var mS=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Yw,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?b_.makeFromBucketSpec(i,this._host):vS(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=b_.makeFromBucketSpec(this._url,e):this._bucket=vS(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){k_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){k_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Gw(this,void 0,void 0,(function(){var e,t;return Qw(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return Gw(this,void 0,void 0,(function(){var e;return Qw(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new iS(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new w_(r_());var i=function(e,t,n,r,i,o){var a=I_(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new C_(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return Gw(this,void 0,void 0,(function(){var t,n,r;return Qw(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function gS(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new rS(e,new P_(t),n)}(e=(0,ii.getModularInstance)(e),t,n)}function yS(e){return function(e){return Gw(this,void 0,void 0,(function(){var t;return Qw(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Q_(e.storage,e._location,F_()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,ii.getModularInstance)(e))}function bS(e,t){return pS(e=(0,ii.getModularInstance)(e),t)}function wS(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:(0,ii.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}var _S=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),SS=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new _S(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new _S(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new _S(e,i,i._ref))}:{next:t.next?function(e){return t.next(new _S(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),ES=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new kS(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new kS(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),kS=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return fS(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new SS(gS(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=s_.RAW),this._throwIfRoot("putString");var r=c_(t,e),i=Hw({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new SS(new rS(this._delegate,new P_(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return oS(e=(0,ii.getModularInstance)(e))}(this._delegate).then((function(t){return new ES(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return sS(e=(0,ii.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new ES(e,t.storage)}))},e.prototype.getMetadata=function(){return yS(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return uS(e=(0,ii.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return cS(e=(0,ii.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return lS(e=(0,ii.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw i_(e)},e}(),TS=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(hS(e))throw n_("ref() expected a child path but got a URL, use refFromURL instead.");return new kS(bS(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!hS(e))throw n_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{b_.makeFromUrl(e,this._delegate.host)}catch(Uy){throw n_("refFromUrl() expected a valid full URL but got an invalid one.")}return new kS(bS(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),wS(this._delegate,e,t,n)},e}();function IS(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new TS(r,new mS(r,i,o,new y_,n,Jr.default.SDK_VERSION))}!function(e){var t={TaskState:v_,TaskEvent:p_,StringFormat:s_,Storage:mS,Reference:kS};e.INTERNAL.registerComponent(new Vy.Component("storage",IS,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.1")}(Jr.default);var CS=function(){return CS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},CS.apply(this,arguments)};Object.create;function xS(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var NS,AS,PS,RS="0.4.18",OS=RS,DS="FB-PERF-TRACE-MEASURE",MS="_wt_",LS="_fcp",FS="_fid",jS="@firebase/performance/config",US="@firebase/performance/configexpire",qS="Performance",VS=((NS={})["trace started"]="Trace {$traceName} was started before.",NS["trace stopped"]="Trace {$traceName} is not running.",NS["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",NS["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",NS["no window"]="Window is not available.",NS["no app id"]="App id is not available.",NS["no project id"]="Project id is not available.",NS["no api key"]="Api key is not available.",NS["invalid cc log"]="Attempted to queue invalid cc event",NS["FB not default"]="Performance can only start when Firebase app instance is the default one.",NS["RC response not ok"]="RC response is not ok",NS["invalid attribute name"]="Attribute name {$attributeName} is invalid.",NS["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",NS["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",NS["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",NS),BS=new ii.ErrorFactory("performance",qS,VS),zS=new oi.Logger(qS);zS.logLevel=oi.LogLevel.INFO;var WS,KS=function(){function e(e){if(this.window=e,!e)throw BS.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,ii.isIndexedDBAvailable)()||(zS.info("IndexedDB is not supported by current browswer"),!1):(zS.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===AS&&(AS=new e(PS)),AS},e}();function HS(e,t){var n=e.length-t.length;if(n<0||n>1)throw BS.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var GS,QS,$S=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=HS("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=HS("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw BS.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw BS.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw BS.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===WS&&(WS=new e),WS},e}();function YS(){return GS}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(QS||(QS={}));var XS=["firebase_","google_","ga_"],JS=new RegExp("^[a-zA-Z]\\w*$");function ZS(){var e=KS.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function eE(){switch(KS.getInstance().document.visibilityState){case"visible":return QS.VISIBLE;case"hidden":return QS.HIDDEN;default:return QS.UNKNOWN}}function tE(){var e=KS.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var nE="0.0.1",rE=!0,iE="FIREBASE_INSTALLATIONS_AUTH";function oE(e){var t=function(){var e=KS.getInstance().localStorage;if(!e)return;var t=e.getItem(US);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(jS);if(!r)return;try{return JSON.parse(r)}catch(gg){return}}();return t?(sE(t),Promise.resolve()):function(e){return function(){var e=$S.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+$S.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+$S.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:iE+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:$S.getInstance().getAppId(),app_version:OS,sdk_version:nE})});return fetch(r).then((function(e){if(e.ok)return e.json();throw BS.create("RC response not ok")}))})).catch((function(){zS.info(aE)}))}(e).then(sE).then((function(e){return function(e){var t=KS.getInstance().localStorage;if(!e||!t)return;t.setItem(jS,JSON.stringify(e)),t.setItem(US,String(Date.now()+60*$S.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var aE="Could not fetch config, will use default configs";function sE(e){if(!e)return e;var t=$S.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=rE,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=uE(t.tracesSamplingRate),t.logNetworkAfterSampling=uE(t.networkRequestsSamplingRate),e}function uE(e){return Math.random()<=e}var cE,lE=1;function fE(){return lE=2,cE=cE||function(){var e=KS.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=$S.getInstance().installationsService.getId();return e.then((function(e){GS=e})),e}()})).then((function(e){return oE(e)})).then((function(){return hE()}),(function(){return hE()}))}function hE(){lE=3}var dE,pE=1e4,vE=3,mE=[],gE=!1;function yE(e){setTimeout((function(){if(0!==vE)return mE.length?void function(){var e=mE.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=$S.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||zS.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=pE;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(mE=xS(xS([],t),mE),zS.info("Retry transport request later.")),vE=3,yE(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:$S.getInstance().logSource,log_event:t},e).catch((function(){mE=xS(xS([],e),mE),vE--,zS.info("Tries left: "+vE+"."),yE(pE)}))}():yE(pE)}),e)}function bE(e){if(!e.eventTime||!e.message)throw BS.create("invalid cc log");mE=xS(xS([],mE),[e])}function wE(e,t){dE||(dE=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];bE({message:e.apply(void 0,t),eventTime:Date.now()})}}(EE)),dE(e,t)}function _E(e){var t=$S.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&KS.getInstance().requiredApisAvailable()&&(e.isAuto&&eE()!==QS.VISIBLE||(3===lE?SE(e):fE().then((function(){return SE(e)}),(function(){return SE(e)}))))}function SE(e){if(YS()){var t=$S.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return wE(e,1)}),0)}}function EE(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:kE(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:kE(),trace_metric:t};return JSON.stringify(r)}(e)}function kE(){return{google_app_id:$S.getInstance().getAppId(),app_instance_id:YS(),web_app_info:{sdk_version:OS,page_url:KS.getInstance().getUrl(),service_worker_status:ZS(),visibility_state:eE(),effective_connection_type:tE()},application_process_state:0}}var TE=["_fp",LS,FS];var IE=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=KS.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw BS.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw BS.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),_E(this)},e.prototype.record=function(e,t,n){if(e<=0)throw BS.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw BS.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=CS({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}_E(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(MS)&&TE.indexOf(n)>-1)&&n.startsWith("_"))throw BS.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&zS.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n=function(e){if(0===e.length||e.length>40)return!1;var t=XS.some((function(t){return e.startsWith(t)}));return!t&&!!e.match(JS)}(e),r=function(e){return 0!==e.length&&e.length<=100}(t);if(n&&r)this.customAttributes[e]=t;else{if(!n)throw BS.create("invalid attribute name",{attributeName:e});if(!r)throw BS.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return CS({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=KS.getInstance().getUrl();if(i){var o=new e(MS+i,!0),a=Math.floor(1e3*KS.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(LS,Math.floor(1e3*u.startTime)),r&&o.putMetric(FS,Math.floor(1e3*r))}_E(o)}},e.createUserTimingTrace=function(t){_E(new e(t,!1,t))},e}();function CE(e){var t=e;if(t&&void 0!==t.responseStart){var n=KS.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=$S.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return wE(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function xE(){YS()&&(setTimeout((function(){return function(){var e=KS.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){IE.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),IE.createOobTrace(t,n,e))}))}else IE.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=KS.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){CE(r[n])}e.setupObserver("resource",CE)}()}),0),setTimeout((function(){return function(){for(var e=KS.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){NE(r[n])}e.setupObserver("measure",NE)}()}),0))}function NE(e){var t=e.name;t.substring(0,DS.length)!==DS&&IE.createUserTimingTrace(t)}var AE=function(){function e(e){this.app=e,KS.getInstance().requiredApisAvailable()&&(0,ii.validateIndexedDBOpenable)().then((function(e){e&&(gE||(yE(5500),gE=!0),fE().then(xE,xE))})).catch((function(e){zS.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new IE(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return $S.getInstance().instrumentationEnabled},set:function(e){$S.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return $S.getInstance().dataCollectionEnabled},set:function(e){$S.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw BS.create("FB not default");if("undefined"===typeof window)throw BS.create("no window");return function(e){PS=e}(window),$S.getInstance().firebaseAppInstance=e,$S.getInstance().installationsService=t,new AE(e)};e.INTERNAL.registerComponent(new Vy.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",RS)}(Jr.default);var PE=function(){return PE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},PE.apply(this,arguments)};function RE(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Uy){o(Uy)}}function s(e){try{u(r.throw(e))}catch(Uy){o(Uy)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function OE(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Uy){o=[6,Uy],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;Object.create;var DE,ME,LE="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(DE||(DE={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(ME||(ME={}));var FE,jE=new oi.Logger("@firebase/analytics");function UE(e,t,n,r,i,o){return RE(this,void 0,void 0,(function(){var a,s,u,c;return OE(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),u=s.find((function(e){return e.measurementId===i})),u?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),jE.error(c),[3,8];case 8:return e(DE.CONFIG,i,o),[2]}}))}))}function qE(e,t,n,r,i){return RE(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,h;return OE(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(f=l[c],"break"!==u(f));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(DE.EVENT,r,i||{}),[3,5];case 4:return h=d.sent(),jE.error(h),[3,5];case 5:return[2]}}))}))}function VE(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return RE(this,void 0,void 0,(function(){var s;return OE(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==DE.EVENT?[3,2]:[4,qE(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==DE.CONFIG?[3,4]:[4,UE(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(DE.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),jE.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var BE=((FE={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",FE["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",FE["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",FE["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",FE["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",FE["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",FE["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",FE["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',FE["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',FE),zE=new ii.ErrorFactory("analytics","Analytics",BE),WE=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function KE(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function HE(e){var t;return RE(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return OE(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:KE(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw zE.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function GE(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=WE),RE(this,void 0,void 0,(function(){var t,a,s,u,c,l,f;return OE(this,(function(h){switch(h.label){case 0:t=e.appId,a=e.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,QE(n,i)];case 2:return h.sent(),[3,4];case 3:if(s=h.sent(),a)return jE.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return h.trys.push([4,6,,7]),[4,HE(e)];case 5:return u=h.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof ii.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=h.sent())){if(r.deleteThrottleMetadata(t),a)return jE.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,ii.calculateBackoffMillis)(o,r.intervalMillis,30):(0,ii.calculateBackoffMillis)(o,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,f),jE.debug("Calling attemptFetch again in "+l+" millis"),[2,GE(e,f,n,r)];case 7:return[2]}}))}))}function QE(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(zE.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var $E=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function YE(e,t,n,r,i,o){return RE(this,void 0,void 0,(function(){var a,s,u,c,l,f,h;return OE(this,(function(d){switch(d.label){case 0:return a=function(e,t,n){return void 0===t&&(t=WE),RE(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return OE(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw zE.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw zE.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new $E,setTimeout((function(){return RE(c,void 0,void 0,(function(){return OE(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,GE({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&jE.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return jE.error(e)})),t.push(a),s=function(){return RE(this,void 0,void 0,(function(){var e;return OE(this,(function(t){switch(t.label){case 0:return(0,ii.isIndexedDBAvailable)()?[3,1]:(jE.warn(zE.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,ii.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),jE.warn(zE.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(LE))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=LE+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(h={}).origin="firebase",h.update=!0,f=h,null!=l&&(f.firebase_id=l),i(DE.CONFIG,c.measurementId,f),[2,c.measurementId]}}))}))}var XE,JE,ZE={},ek=[],tk={},nk="dataLayer",rk="gtag",ik=!1;function ok(e){if(ik)throw zE.create("already-initialized");e.dataLayerName&&(nk=e.dataLayerName),e.gtagName&&(rk=e.gtagName)}function ak(e,t){!function(){var e=[];if((0,ii.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,ii.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=zE.create("invalid-analytics-context",{errorInfo:t});jE.warn(n.message)}}();var n=e.options.appId;if(!n)throw zE.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw zE.create("no-api-key");jE.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ZE[n])throw zE.create("already-exists",{id:n});if(!ik){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(nk);var r=VE(ZE,ek,tk,nk,rk),i=r.wrappedGtag,o=r.gtagCore;JE=i,XE=o,ik=!0}ZE[n]=YE(e,ek,tk,t,XE,nk);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return RE(this,void 0,void 0,(function(){var o,a;return OE(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(DE.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=PE(PE({},r),{send_to:o}),e(DE.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(JE,ZE[n],e,t,r).catch((function(e){return jE.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return RE(this,void 0,void 0,(function(){var i;return OE(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(DE.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(DE.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(JE,ZE[n],e,t).catch((function(e){return jE.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return RE(this,void 0,void 0,(function(){var i;return OE(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(DE.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(DE.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(JE,ZE[n],e,t).catch((function(e){return jE.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return RE(this,void 0,void 0,(function(){var i,o,a,s,u;return OE(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(DE.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(DE.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(JE,ZE[n],e,t).catch((function(e){return jE.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return RE(this,void 0,void 0,(function(){var n;return OE(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(ZE[n],e).catch((function(e){return jE.error(e)}))},INTERNAL:{delete:function(){return delete ZE[n],Promise.resolve()}}};return a}var sk="analytics";function uk(){return RE(this,void 0,void 0,(function(){return OE(this,(function(e){switch(e.label){case 0:if((0,ii.isBrowserExtension)())return[2,!1];if(!(0,ii.areCookiesEnabled)())return[2,!1];if(!(0,ii.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,ii.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new Vy.Component(sk,(function(e){return ak(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:ok,EventName:ME,isSupported:uk})),e.INTERNAL.registerComponent(new Vy.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(sk).getImmediate().logEvent}}catch(Uy){throw zE.create("interop-component-reg-failed",{reason:Uy})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(Jr.default);var ck=function(){return ck=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ck.apply(this,arguments)};function lk(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Uy){o(Uy)}}function s(e){try{u(r.throw(e))}catch(Uy){o(Uy)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function fk(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Uy){o=[6,Uy],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;Object.create;var hk,dk=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return lk(this,void 0,void 0,(function(){var t,n,r,i,o;return fk(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),pk=((hk={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",hk["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",hk["registration-api-key"]="Undefined API key. Check Firebase app initialization.",hk["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",hk["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",hk["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",hk["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",hk["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",hk["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",hk["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',hk["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',hk["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",hk["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",hk),vk=new ii.ErrorFactory("remoteconfig","Remote Config",pk);var mk=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return lk(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,h,d,p,v,m,g,y,b;return fk(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=w.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return f=w.sent(),[3,6];case 5:throw h=w.sent(),d="fetch-client-network","AbortError"===h.name&&(d="fetch-timeout"),vk.create(d,{originalErrorMessage:h.message});case 6:if(p=f.status,v=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];y=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,f.json()];case 8:return y=w.sent(),[3,10];case 9:throw b=w.sent(),vk.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:m=y.entries,g=y.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?p=500:"NO_CHANGE"===g?p=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(m={}),304!==p&&200!==p)throw vk.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:m}]}var _}))}))},e}(),gk=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),yk=["1","true","t","yes","y","on"],bk=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&yk.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),wk=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=oi.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=oi.LogLevel.SILENT;break;default:this._logger.logLevel=oi.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return lk(this,void 0,void 0,(function(){var e,t,n;return fk(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return lk(this,void 0,void 0,(function(){var e,t,n,r=this;return fk(this,(function(i){switch(i.label){case 0:e=new gk,setTimeout((function(){return lk(r,void 0,void 0,(function(){return fk(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof ii.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return lk(this,void 0,void 0,(function(){return fk(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(ck(ck({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new bk("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new bk("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new bk("static"))},e}();function _k(e,t){var n=e.target.error||void 0;return vk.create(t,{originalErrorMessage:n&&n.message})}var Sk="app_namespace_store";var Ek=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(_k(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(Sk,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return lk(this,void 0,void 0,(function(){var t,n=this;return fk(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Sk],"readonly").objectStore(Sk),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(_k(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(Uy){i(vk.create("storage-get",{originalErrorMessage:Uy&&Uy.message}))}}))]}}))}))},e.prototype.set=function(e,t){return lk(this,void 0,void 0,(function(){var n,r=this;return fk(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([Sk],"readwrite").objectStore(Sk),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(_k(e,"storage-set"))},u.onsuccess=function(){i()}}catch(Uy){o(vk.create("storage-set",{originalErrorMessage:Uy&&Uy.message}))}}))]}}))}))},e.prototype.delete=function(e){return lk(this,void 0,void 0,(function(){var t,n=this;return fk(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Sk],"readwrite").objectStore(Sk),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(_k(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(Uy){i(vk.create("storage-delete",{originalErrorMessage:Uy&&Uy.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),kk=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return lk(this,void 0,void 0,(function(){var e,t,n,r,i,o;return fk(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function Tk(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(vk.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Ik,Ck=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return lk(this,void 0,void 0,(function(){var t;return fk(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return lk(this,void 0,void 0,(function(){var t,i,o;return fk(this,(function(a){switch(a.label){case 0:return[4,Tk(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof ii.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,ii.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),xk="@firebase/remote-config";(Ik=Jr.default).INTERNAL.registerComponent(new Vy.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw vk.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw vk.create("registration-project-id");if(!s)throw vk.create("registration-api-key");if(!u)throw vk.create("registration-app-id");n=n||"firebase";var c=new Ek(u,r.name,n),l=new kk(c),f=new oi.Logger(xk);f.logLevel=oi.LogLevel.ERROR;var h=new mk(i,Ik.SDK_VERSION,n,a,s,u),d=new Ck(h,c),p=new dk(d,c,l,f),v=new wk(r,p,l,c,f);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),Ik.registerVersion(xk,"0.1.43");n(446);var Nk="8.10.1";Jr.default.registerVersion("firebase",Nk,"app"),Jr.default.SDK_VERSION=Nk;console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Jr.default.registerVersion("firebase","8.10.1");var Ak=Jr.default.initializeApp({apiKey:"AIzaSyCmZvGQojXvqJnkkTQeHEbCjSaZdVGt0h0",authDomain:"instagram-react-fd015.firebaseapp.com",projectId:"instagram-react-fd015",storageBucket:"instagram-react-fd015.appspot.com",messagingSenderId:"1025466879952",appId:"1:1025466879952:web:0b95d86a04d3926b5bf3d5",measurementId:"G-GMC4Y7HVLV"}).firestore(),Pk=Jr.default.auth(),Rk=Jr.default.storage();var Ok=function(t){var n=t.postId,r=t.user,i=t.username,o=t.caption,s=t.imageUrl,u=a((0,e.useState)([]),2),c=u[0],l=u[1],f=a((0,e.useState)(""),2),h=f[0],d=f[1];return(0,e.useEffect)((function(){var e;return n&&(e=Ak.collection("posts").doc(n).collection("comments").orderBy("timestamp","desc").onSnapshot((function(e){l(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[n]),(0,jr.jsxs)("div",{className:"post",children:[(0,jr.jsxs)("div",{className:"post__header",children:[(0,jr.jsx)(Xr,{className:"post__avatar",alt:"Faizan MK",src:"/static/images/avatar/1.jpg"}),(0,jr.jsx)("h3",{children:i})]}),(0,jr.jsx)("img",{className:"post__image",src:s,alt:""}),(0,jr.jsxs)("h4",{className:"post__text",children:[" ",(0,jr.jsx)("strong",{children:i})," ",o]}),(0,jr.jsx)("div",{className:"post__comments",children:c.map((function(e){return(0,jr.jsxs)("p",{children:[(0,jr.jsx)("strong",{children:e.username})," ",e.text]})}))}),r&&(0,jr.jsxs)("form",{className:"post__commentBox",children:[(0,jr.jsx)("input",{className:"post__input",type:"text",placeholder:"Add a comment..",value:h,onChange:function(e){return d(e.target.value)}}),(0,jr.jsx)("button",{className:"post__button",disabled:!h,type:"submit",onClick:function(e){e.preventDefault(),Ak.collection("posts").doc(n).collection("comments").add({text:h,username:r.displayName,timestamp:Jr.default.firestore.FieldValue.serverTimestamp()}),d("")},children:"Post"})]})]})};function Dk(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Mk(t,n){return e.useMemo((function(){return null==t&&null==n?null:function(e){Dk(t,e),Dk(n,e)}}),[t,n])}function Lk(e){return e&&e.ownerDocument||document}var Fk="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;function jk(t){var n=e.useRef(t);return Fk((function(){n.current=t})),e.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}function Uk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var qk=n(164);var Vk=e.forwardRef((function(t,n){var r=t.children,i=t.container,o=t.disablePortal,s=void 0!==o&&o,u=a(e.useState(null),2),c=u[0],l=u[1],f=Mk(e.isValidElement(r)?r.ref:null,n);return Fk((function(){s||l(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,s]),Fk((function(){if(c&&!s)return Dk(n,c),function(){Dk(n,null)}}),[n,c,s]),s?e.isValidElement(r)?e.cloneElement(r,{ref:f}):r:c?qk.createPortal(r,c):c}));var Bk=Vk;function zk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wk(e){return Lk(e).defaultView||window}function Kk(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function Hk(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Gk(e){return parseInt(Wk(e).getComputedStyle(e).paddingRight,10)||0}function Qk(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}function $k(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat(h(r));[].forEach.call(e.children,(function(e){var t=-1===o.indexOf(e),n=!Qk(e);t&&n&&Hk(e,i)}))}function Yk(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function Xk(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=Lk(e);return t.body===e?Wk(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=Kk(Lk(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Gk(r)+i,"px");var o=Lk(r).querySelectorAll(".mui-fixed");[].forEach.call(o,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(Gk(e)+i,"px")}))}var a;if(r.parentNode instanceof DocumentFragment)a=Lk(r).body;else{var s=r.parentElement,u=Wk(r);a="HTML"===(null==s?void 0:s.nodeName)&&"scroll"===u.getComputedStyle(s).overflowY?s:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var Jk=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}var t,n,r;return t=e,n=[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Hk(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);$k(t,e.mount,e.modalRef,r,!0);var i=Yk(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=Yk(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=Xk(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=Yk(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&Hk(e.modalRef,t),$k(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var o=i.modals[i.modals.length-1];o.modalRef&&Hk(o.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}],n&&zk(t.prototype,n),r&&zk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Zk=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function eT(e){var t=[],n=[];return Array.from(e.querySelectorAll(Zk)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function tT(){return!0}var nT=function(t){var n=t.children,r=t.disableAutoFocus,i=void 0!==r&&r,o=t.disableEnforceFocus,a=void 0!==o&&o,s=t.disableRestoreFocus,u=void 0!==s&&s,c=t.getTabbable,l=void 0===c?eT:c,f=t.isEnabled,h=void 0===f?tT:f,d=t.open,p=e.useRef(),v=e.useRef(null),m=e.useRef(null),g=e.useRef(null),y=e.useRef(null),b=e.useRef(!1),w=e.useRef(null),_=Mk(n.ref,w),S=e.useRef(null);e.useEffect((function(){d&&w.current&&(b.current=!i)}),[i,d]),e.useEffect((function(){if(d&&w.current){var e=Lk(w.current);return w.current.contains(e.activeElement)||(w.current.hasAttribute("tabIndex")||w.current.setAttribute("tabIndex",-1),b.current&&w.current.focus()),function(){u||(g.current&&g.current.focus&&(p.current=!0,g.current.focus()),g.current=null)}}}),[d]),e.useEffect((function(){if(d&&w.current){var e=Lk(w.current),t=function(t){var n=w.current;if(null!==n)if(e.hasFocus()&&!a&&h()&&!p.current){if(!n.contains(e.activeElement)){if(t&&y.current!==t.target||e.activeElement!==y.current)y.current=null;else if(null!==y.current)return;if(!b.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(w.current)),r.length>0){var i,o,s=Boolean((null==(i=S.current)?void 0:i.shiftKey)&&"Tab"===(null==(o=S.current)?void 0:o.key)),u=r[0],c=r[r.length-1];s?c.focus():u.focus()}else n.focus()}}else p.current=!1},n=function(t){S.current=t,!a&&h()&&"Tab"===t.key&&e.activeElement===w.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,a,u,h,d,l]);var E=function(e){null===g.current&&(g.current=e.relatedTarget),b.current=!0};return(0,jr.jsxs)(e.Fragment,{children:[(0,jr.jsx)("div",{tabIndex:0,onFocus:E,ref:v,"data-test":"sentinelStart"}),e.cloneElement(n,{ref:_,onFocus:function(e){null===g.current&&(g.current=e.relatedTarget),b.current=!0,y.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,jr.jsx)("div",{tabIndex:0,onFocus:E,ref:m,"data-test":"sentinelEnd"})]})};function rT(e){return Mr("MuiModal",e)}Lr("MuiModal",["root","hidden"]);var iT=function(e){return"string"===typeof e};function oT(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}function aT(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,i=e.externalForwardedProps,o=e.className;if(!t){var a=l(null==i?void 0:i.className,null==r?void 0:r.className,o,null==n?void 0:n.className),s=u({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),c=u({},n,i,r);return a.length>0&&(c.className=a),Object.keys(s).length>0&&(c.style=s),{props:c,internalRef:void 0}}var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}(u({},i,r)),h=oT(r),d=oT(i),p=t(f),v=l(null==p?void 0:p.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),m=u({},null==p?void 0:p.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),g=u({},p,n,d,h);return v.length>0&&(g.className=v),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:p.ref}}function sT(e,t){return"function"===typeof e?e(t):e}var uT=["elementType","externalSlotProps","ownerState"];function cT(e){var t,n=e.elementType,r=e.externalSlotProps,i=e.ownerState,o=s(e,uT),a=sT(r,i),c=aT(u({},o,{externalSlotProps:a})),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return iT(e)?t:u({},t,{ownerState:u({},t.ownerState,n)})}(n,u({},c.props,{ref:Mk(c.internalRef,Mk(null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref))}),i);return l}var lT=["children","classes","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited"];var fT=new Jk,hT=e.forwardRef((function(t,n){var r,i=t.children,o=t.classes,c=t.closeAfterTransition,l=void 0!==c&&c,h=t.component,d=void 0===h?"div":h,p=t.components,v=void 0===p?{}:p,m=t.componentsProps,g=void 0===m?{}:m,y=t.container,b=t.disableAutoFocus,w=void 0!==b&&b,_=t.disableEnforceFocus,S=void 0!==_&&_,E=t.disableEscapeKeyDown,k=void 0!==E&&E,T=t.disablePortal,I=void 0!==T&&T,C=t.disableRestoreFocus,x=void 0!==C&&C,N=t.disableScrollLock,A=void 0!==N&&N,P=t.hideBackdrop,R=void 0!==P&&P,O=t.keepMounted,D=void 0!==O&&O,M=t.manager,L=void 0===M?fT:M,F=t.onBackdropClick,j=t.onClose,U=t.onKeyDown,q=t.open,V=t.onTransitionEnter,B=t.onTransitionExited,z=s(t,lT),W=a(e.useState(!0),2),K=W[0],H=W[1],G=e.useRef({}),Q=e.useRef(null),$=e.useRef(null),Y=Mk($,n),X=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(t),J=null==(r=t["aria-hidden"])||r,Z=function(){return G.current.modalRef=$.current,G.current.mountNode=Q.current,G.current},ee=function(){L.mount(Z(),{disableScrollLock:A}),$.current.scrollTop=0},te=jk((function(){var e=function(e){return"function"===typeof e?e():e}(y)||Lk(Q.current).body;L.add(Z(),e),$.current&&ee()})),ne=e.useCallback((function(){return L.isTopModal(Z())}),[L]),re=jk((function(e){Q.current=e,e&&(q&&ne()?ee():Hk($.current,J))})),ie=e.useCallback((function(){L.remove(Z(),J)}),[L,J]);e.useEffect((function(){return function(){ie()}}),[ie]),e.useEffect((function(){q?te():X&&l||ie()}),[q,ie,X,l,te]);var oe=u({},t,{classes:o,closeAfterTransition:l,disableAutoFocus:w,disableEnforceFocus:S,disableEscapeKeyDown:k,disablePortal:I,disableRestoreFocus:x,disableScrollLock:A,exited:K,hideBackdrop:R,keepMounted:D}),ae=function(e){var t=e.open,n=e.exited;return f({root:["root",!t&&n&&"hidden"]},rT,e.classes)}(oe),se={};void 0===i.props.tabIndex&&(se.tabIndex="-1"),X&&(se.onEnter=Uk((function(){H(!1),V&&V()}),i.props.onEnter),se.onExited=Uk((function(){H(!0),B&&B(),l&&ie()}),i.props.onExited));var ue=v.Root||d,ce=cT({elementType:ue,externalSlotProps:g.root,externalForwardedProps:z,additionalProps:{ref:Y,role:"presentation",onKeyDown:function(e){U&&U(e),"Escape"===e.key&&ne()&&(k||(e.stopPropagation(),j&&j(e,"escapeKeyDown")))}},className:ae.root,ownerState:oe}),le=v.Backdrop,fe=cT({elementType:le,externalSlotProps:g.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(e){e.target===e.currentTarget&&(F&&F(e),j&&j(e,"backdropClick"))},open:q},ownerState:oe});return D||q||X&&!K?(0,jr.jsx)(Bk,{ref:re,container:y,disablePortal:I,children:(0,jr.jsxs)(ue,u({},ce,{children:[!R&&le?(0,jr.jsx)(le,u({},fe)):null,(0,jr.jsx)(nT,{disableEnforceFocus:S,disableAutoFocus:w,disableRestoreFocus:x,isEnabled:ne,open:q,children:e.cloneElement(i,se)})]}))}):null})),dT=hT;function pT(e,t){return pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pT(e,t)}function vT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pT(e,t)}var mT=!1,gT=e.createContext(null),yT="unmounted",bT="exited",wT="entering",_T="entered",ST="exiting",ET=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=bT,r.appearStatus=wT):i=_T:i=e.unmountOnExit||e.mountOnEnter?yT:bT,r.state={status:i},r.nextCallback=null,r}vT(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===yT?{status:bT}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==wT&&n!==_T&&(t=wT):n!==wT&&n!==_T||(t=ST)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===wT){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:qk.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===bT&&this.setState({status:yT})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[qk.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||mT?this.safeSetState({status:_T},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:wT},(function(){t.props.onEntering(o,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:_T},(function(){t.props.onEntered(o,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:qk.findDOMNode(this);t&&!mT?(this.props.onExit(r),this.safeSetState({status:ST},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:bT},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:bT},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:qk.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===yT)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,s(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(gT.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},n}(e.Component);function kT(){}ET.contextType=gT,ET.propTypes={},ET.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:kT,onEntering:kT,onEntered:kT,onExit:kT,onExiting:kT,onExited:kT},ET.UNMOUNTED=yT,ET.EXITED=bT,ET.ENTERING=wT,ET.ENTERED=_T,ET.EXITING=ST;var TT=ET;function IT(){return xr(gr)}var CT=function(e){return e.scrollTop};function xT(e,t){var n,r,i=e.timeout,o=e.easing,a=e.style,s=void 0===a?{}:a;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}var NT=Mk,AT=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],PT={entering:{opacity:1},entered:{opacity:1}},RT=e.forwardRef((function(t,n){var r=IT(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},o=t.addEndListener,a=t.appear,c=void 0===a||a,l=t.children,f=t.easing,h=t.in,d=t.onEnter,p=t.onEntered,v=t.onEntering,m=t.onExit,g=t.onExited,y=t.onExiting,b=t.style,w=t.timeout,_=void 0===w?i:w,S=t.TransitionComponent,E=void 0===S?TT:S,k=s(t,AT),T=e.useRef(null),I=NT(l.ref,n),C=NT(T,I),x=function(e){return function(t){if(e){var n=T.current;void 0===t?e(n):e(n,t)}}},N=x(v),A=x((function(e,t){CT(e);var n=xT({style:b,timeout:_,easing:f},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),d&&d(e,t)})),P=x(p),R=x(y),O=x((function(e){var t=xT({style:b,timeout:_,easing:f},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),D=x(g);return(0,jr.jsx)(E,u({appear:c,in:h,nodeRef:T,onEnter:A,onEntered:P,onEntering:N,onExit:O,onExited:D,onExiting:R,addEndListener:function(e){o&&o(T.current,e)},timeout:_},k,{children:function(t,n){return e.cloneElement(l,u({style:u({opacity:0,visibility:"exited"!==t||h?void 0:"hidden"},PT[t],b,l.props.style),ref:C},n))}}))})),OT=RT;function DT(e){return Mr("MuiBackdrop",e)}Lr("MuiBackdrop",["root","invisible"]);var MT=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],LT=_r("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return u({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),FT=e.forwardRef((function(e,t){var n,r,i=Ar({props:e,name:"MuiBackdrop"}),o=i.children,a=i.component,c=void 0===a?"div":a,h=i.components,d=void 0===h?{}:h,p=i.componentsProps,v=void 0===p?{}:p,m=i.className,g=i.invisible,y=void 0!==g&&g,b=i.open,w=i.transitionDuration,_=i.TransitionComponent,S=void 0===_?OT:_,E=s(i,MT),k=u({},i,{component:c,invisible:y}),T=function(e){var t=e.classes;return f({root:["root",e.invisible&&"invisible"]},DT,t)}(k);return(0,jr.jsx)(S,u({in:b,timeout:w},E,{children:(0,jr.jsx)(LT,{"aria-hidden":!0,as:null!=(n=d.Root)?n:c,className:l(T.root,m),ownerState:u({},k,null==(r=v.root)?void 0:r.ownerState),classes:T,ref:t,children:o})}))})),jT=FT,UT=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","theme"],qT=_r("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return u({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),VT=_r(jT,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),BT=e.forwardRef((function(t,n){var r,i,o=Ar({name:"MuiModal",props:t}),c=o.BackdropComponent,l=void 0===c?VT:c,f=o.BackdropProps,h=o.closeAfterTransition,d=void 0!==h&&h,p=o.children,v=o.component,m=o.components,g=void 0===m?{}:m,y=o.componentsProps,b=void 0===y?{}:y,w=o.disableAutoFocus,_=void 0!==w&&w,S=o.disableEnforceFocus,E=void 0!==S&&S,k=o.disableEscapeKeyDown,T=void 0!==k&&k,I=o.disablePortal,C=void 0!==I&&I,x=o.disableRestoreFocus,N=void 0!==x&&x,A=o.disableScrollLock,P=void 0!==A&&A,R=o.hideBackdrop,O=void 0!==R&&R,D=o.keepMounted,M=void 0!==D&&D,L=o.theme,F=s(o,UT),j=a(e.useState(!0),2),U=j[0],q=j[1],V={closeAfterTransition:d,disableAutoFocus:_,disableEnforceFocus:E,disableEscapeKeyDown:T,disablePortal:C,disableRestoreFocus:N,disableScrollLock:P,hideBackdrop:O,keepMounted:M},B=u({},o,V,{exited:U}),z=function(e){return e.classes}(B),W=null!=(r=null!=(i=g.Root)?i:v)?r:qT;return(0,jr.jsx)(dT,u({components:u({Root:W,Backdrop:l},g),componentsProps:{root:function(){return u({},sT(b.root,B),!iT(W)&&{as:v,theme:L})},backdrop:function(){return u({},f,sT(b.backdrop,B))}},onTransitionEnter:function(){return q(!1)},onTransitionExited:function(){return q(!0)},ref:n},F,{classes:z},V,{children:p}))})),zT=BT,WT=["sx"];function KT(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){wn[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(s(e,WT)),i=r.systemProps,o=r.otherProps;return t=Array.isArray(n)?[i].concat(h(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return He(e)?u({},i,e):i}:u({},i,n),u({},o,{sx:t})}function HT(e){return Mr("MuiTypography",e)}Lr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var GT=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],QT=_r("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Pr(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return u({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),$T={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},YT={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},XT=e.forwardRef((function(e,t){var n=Ar({props:e,name:"MuiTypography"}),r=function(e){return YT[e]||e}(n.color),i=KT(u({},n,{color:r})),o=i.align,a=void 0===o?"inherit":o,c=i.className,h=i.component,d=i.gutterBottom,p=void 0!==d&&d,v=i.noWrap,m=void 0!==v&&v,g=i.paragraph,y=void 0!==g&&g,b=i.variant,w=void 0===b?"body1":b,_=i.variantMapping,S=void 0===_?$T:_,E=s(i,GT),k=u({},i,{align:a,color:r,className:c,component:h,gutterBottom:p,noWrap:m,paragraph:y,variant:w,variantMapping:S}),T=h||(y?"p":S[w]||$T[w])||"span",I=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,o=e.variant,a=e.classes;return f({root:["root",o,"inherit"!==e.align&&"align".concat(Pr(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},HT,a)}(k);return(0,jr.jsx)(QT,u({as:T,ref:t,ownerState:k,className:l(I.root,c)},E))})),JT=XT,ZT=["className","component"];var eI,tI=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.defaultTheme,r=t.defaultClassName,i=void 0===r?"MuiBox-root":r,o=t.generateClassName,a=t.styleFunctionSx,c=void 0===a?kn:a,f=Ke("div")(c),h=e.forwardRef((function(e,t){var r=xr(n),a=KT(e),c=a.className,h=a.component,d=void 0===h?"div":h,p=s(a,ZT);return(0,jr.jsx)(f,u({as:d,ref:t,className:l(c,o?o(i):i),theme:r},p))}));return h}({defaultTheme:mr(),defaultClassName:"MuiBox-root",generateClassName:Or.generate}),nI=tI,rI=jk,iI=!0,oI=!1,aI={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function sI(e){e.metaKey||e.altKey||e.ctrlKey||(iI=!0)}function uI(){iI=!1}function cI(){"hidden"===this.visibilityState&&oI&&(iI=!0)}function lI(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return iI||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!aI[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var fI=function(){var t=e.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",sI,!0),t.addEventListener("mousedown",uI,!0),t.addEventListener("pointerdown",uI,!0),t.addEventListener("touchstart",uI,!0),t.addEventListener("visibilitychange",cI,!0))}),[]),n=e.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!lI(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(oI=!0,window.clearTimeout(eI),eI=window.setTimeout((function(){oI=!1}),100),n.current=!1,!0)},ref:t}};function hI(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function dI(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function pI(e,t,n){return null!=n[t]?n[t]:e.props[t]}function vI(t,n,r){var i=dI(t.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(n,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,e.isValidElement)(s)){var u=a in n,c=a in i,l=n[a],f=(0,e.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&(0,e.isValidElement)(l)&&(o[a]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:l.props.in,exit:pI(s,"exit",t),enter:pI(s,"enter",t)})):o[a]=(0,e.cloneElement)(s,{in:!1}):o[a]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:pI(s,"exit",t),enter:pI(s,"enter",t)})}})),o}var mI=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},gI=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}vT(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,o=n.children,a=n.handleExited;return{children:n.firstRender?(r=t,i=a,dI(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:pI(t,"appear",r),enter:pI(t,"enter",r),exit:pI(t,"exit",r)})}))):vI(t,o,a),firstRender:!1}},r.handleExited=function(e,t){var n=dI(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=u({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=s(t,["component","childFactory"]),o=this.state.contextValue,a=mI(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(gT.Provider,{value:o},a):e.createElement(gT.Provider,{value:o},e.createElement(n,i,a))},n}(e.Component);gI.propTypes={},gI.defaultProps={component:"div",childFactory:function(e){return e}};var yI=gI,bI=(n(110),t.useInsertionEffect?t.useInsertionEffect:e.useLayoutEffect),wI=Pe((function(t,n){var r=t.styles,i=Ne([r],void 0,(0,e.useContext)(Re)),o=(0,e.useRef)();return bI((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,a=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==a&&(r=!0,a.setAttribute("data-emotion",e),t.hydrate([a])),o.current=[t,r],function(){t.flush()}}),[n]),bI((function(){var e=o.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&Me(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function _I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ne(t)}var SI=function(){var e=_I.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var EI=function(t){var n=t.className,r=t.classes,i=t.pulsate,o=void 0!==i&&i,s=t.rippleX,u=t.rippleY,c=t.rippleSize,f=t.in,h=t.onExited,d=t.timeout,p=a(e.useState(!1),2),v=p[0],m=p[1],g=l(n,r.ripple,r.rippleVisible,o&&r.ripplePulsate),y={width:c,height:c,top:-c/2+u,left:-c/2+s},b=l(r.child,v&&r.childLeaving,o&&r.childPulsate);return f||v||m(!0),e.useEffect((function(){if(!f&&null!=h){var e=setTimeout(h,d);return function(){clearTimeout(e)}}}),[h,f,d]),(0,jr.jsx)("span",{className:g,style:y,children:(0,jr.jsx)("span",{className:b})})};var kI,TI,II,CI,xI,NI,AI,PI,RI=Lr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),OI=["center","classes","className"],DI=SI(xI||(xI=kI||(kI=hI(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),MI=SI(NI||(NI=TI||(TI=hI(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),LI=SI(AI||(AI=II||(II=hI(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),FI=_r("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),jI=_r(EI,{name:"MuiTouchRipple",slot:"Ripple"})(PI||(PI=CI||(CI=hI(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),RI.rippleVisible,DI,550,(function(e){return e.theme.transitions.easing.easeInOut}),RI.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),RI.child,RI.childLeaving,MI,550,(function(e){return e.theme.transitions.easing.easeInOut}),RI.childPulsate,LI,(function(e){return e.theme.transitions.easing.easeInOut})),UI=e.forwardRef((function(t,n){var r=Ar({props:t,name:"MuiTouchRipple"}),i=r.center,o=void 0!==i&&i,c=r.classes,f=void 0===c?{}:c,d=r.className,p=s(r,OI),v=a(e.useState([]),2),m=v[0],g=v[1],y=e.useRef(0),b=e.useRef(null);e.useEffect((function(){b.current&&(b.current(),b.current=null)}),[m]);var w=e.useRef(!1),_=e.useRef(null),S=e.useRef(null),E=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(_.current)}}),[]);var k=e.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;g((function(e){return[].concat(h(e),[(0,jr.jsx)(jI,{classes:{ripple:l(f.ripple,RI.ripple),rippleVisible:l(f.rippleVisible,RI.rippleVisible),ripplePulsate:l(f.ripplePulsate,RI.ripplePulsate),child:l(f.child,RI.child),childLeaving:l(f.childLeaving,RI.childLeaving),childPulsate:l(f.childPulsate,RI.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},y.current)])})),y.current+=1,b.current=o}),[f]),T=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,s=void 0===a?o||t.pulsate:a,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===(null==e?void 0:e.type)&&w.current)w.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(w.current=!0);var l,f,h,d=c?null:E.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,g=v.clientY;l=Math.round(m-p.left),f=Math.round(g-p.top)}if(s)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var y=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,b=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(y,2)+Math.pow(b,2))}null!=e&&e.touches?null===S.current&&(S.current=function(){k({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},_.current=setTimeout((function(){S.current&&(S.current(),S.current=null)}),80)):k({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[o,k]),I=e.useCallback((function(){T({},{pulsate:!0})}),[T]),C=e.useCallback((function(e,t){if(clearTimeout(_.current),"touchend"===(null==e?void 0:e.type)&&S.current)return S.current(),S.current=null,void(_.current=setTimeout((function(){C(e,t)})));S.current=null,g((function(e){return e.length>0?e.slice(1):e})),b.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:I,start:T,stop:C}}),[I,T,C]),(0,jr.jsx)(FI,u({className:l(RI.root,f.root,d),ref:E},p,{children:(0,jr.jsx)(yI,{component:null,exit:!0,children:m})}))})),qI=UI;function VI(e){return Mr("MuiButtonBase",e)}var BI,zI=Lr("MuiButtonBase",["root","disabled","focusVisible"]),WI=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],KI=_r("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Qe(BI={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(zI.disabled),{pointerEvents:"none",cursor:"default"}),Qe(BI,"@media print",{colorAdjust:"exact"}),BI)),HI=e.forwardRef((function(t,n){var r=Ar({props:t,name:"MuiButtonBase"}),i=r.action,o=r.centerRipple,c=void 0!==o&&o,h=r.children,d=r.className,p=r.component,v=void 0===p?"button":p,m=r.disabled,g=void 0!==m&&m,y=r.disableRipple,b=void 0!==y&&y,w=r.disableTouchRipple,_=void 0!==w&&w,S=r.focusRipple,E=void 0!==S&&S,k=r.LinkComponent,T=void 0===k?"a":k,I=r.onBlur,C=r.onClick,x=r.onContextMenu,N=r.onDragLeave,A=r.onFocus,P=r.onFocusVisible,R=r.onKeyDown,O=r.onKeyUp,D=r.onMouseDown,M=r.onMouseLeave,L=r.onMouseUp,F=r.onTouchEnd,j=r.onTouchMove,U=r.onTouchStart,q=r.tabIndex,V=void 0===q?0:q,B=r.TouchRippleProps,z=r.touchRippleRef,W=r.type,K=s(r,WI),H=e.useRef(null),G=e.useRef(null),Q=NT(G,z),$=fI(),Y=$.isFocusVisibleRef,X=$.onFocus,J=$.onBlur,Z=$.ref,ee=a(e.useState(!1),2),te=ee[0],ne=ee[1];g&&te&&ne(!1),e.useImperativeHandle(i,(function(){return{focusVisible:function(){ne(!0),H.current.focus()}}}),[]);var re=a(e.useState(!1),2),ie=re[0],oe=re[1];e.useEffect((function(){oe(!0)}),[]);var ae=ie&&!b&&!g;function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return rI((function(r){return t&&t(r),!n&&G.current&&G.current[e](r),!0}))}e.useEffect((function(){te&&E&&!b&&ie&&G.current.pulsate()}),[b,E,te,ie]);var ue=se("start",D),ce=se("stop",x),le=se("stop",N),fe=se("stop",L),he=se("stop",(function(e){te&&e.preventDefault(),M&&M(e)})),de=se("start",U),pe=se("stop",F),ve=se("stop",j),me=se("stop",(function(e){J(e),!1===Y.current&&ne(!1),I&&I(e)}),!1),ge=rI((function(e){H.current||(H.current=e.currentTarget),X(e),!0===Y.current&&(ne(!0),P&&P(e)),A&&A(e)})),ye=function(){var e=H.current;return v&&"button"!==v&&!("A"===e.tagName&&e.href)},be=e.useRef(!1),we=rI((function(e){E&&!be.current&&te&&G.current&&" "===e.key&&(be.current=!0,G.current.stop(e,(function(){G.current.start(e)}))),e.target===e.currentTarget&&ye()&&" "===e.key&&e.preventDefault(),R&&R(e),e.target===e.currentTarget&&ye()&&"Enter"===e.key&&!g&&(e.preventDefault(),C&&C(e))})),_e=rI((function(e){E&&" "===e.key&&G.current&&te&&!e.defaultPrevented&&(be.current=!1,G.current.stop(e,(function(){G.current.pulsate(e)}))),O&&O(e),C&&e.target===e.currentTarget&&ye()&&" "===e.key&&!e.defaultPrevented&&C(e)})),Se=v;"button"===Se&&(K.href||K.to)&&(Se=T);var Ee={};"button"===Se?(Ee.type=void 0===W?"button":W,Ee.disabled=g):(K.href||K.to||(Ee.role="button"),g&&(Ee["aria-disabled"]=g));var ke=NT(Z,H),Te=NT(n,ke);var Ie=u({},r,{centerRipple:c,component:v,disabled:g,disableRipple:b,disableTouchRipple:_,focusRipple:E,tabIndex:V,focusVisible:te}),Ce=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=f({root:["root",t&&"disabled",n&&"focusVisible"]},VI,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Ie);return(0,jr.jsxs)(KI,u({as:Se,className:l(Ce.root,d),ownerState:Ie,onBlur:me,onClick:C,onContextMenu:ce,onFocus:ge,onKeyDown:we,onKeyUp:_e,onMouseDown:ue,onMouseLeave:he,onMouseUp:fe,onDragLeave:le,onTouchEnd:pe,onTouchMove:ve,onTouchStart:de,ref:Te,tabIndex:g?-1:V,type:W},Ee,K,{children:[h,ae?(0,jr.jsx)(qI,u({ref:Q,center:c},B)):null]}))})),GI=HI;function QI(e){return Mr("MuiButton",e)}var $I=Lr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var YI=e.createContext({}),XI=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],JI=["root"],ZI=function(e){return u({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},eC=_r(GI,{shouldForwardProp:function(e){return yr(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Pr(n.color))],t["size".concat(Pr(n.size))],t["".concat(n.variant,"Size").concat(Pr(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,o=e.ownerState;return u({},i.typography.button,(Qe(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":u({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Un(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===o.variant&&"inherit"!==o.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[o.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Un(i.palette[o.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===o.variant&&"inherit"!==o.color&&{border:"1px solid ".concat((i.vars||i).palette[o.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[o.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Un(i.palette[o.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===o.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===o.variant&&"inherit"!==o.color&&{backgroundColor:(i.vars||i).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[o.color].main}}),"&:active":u({},"contained"===o.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat($I.focusVisible),u({},"contained"===o.variant&&{boxShadow:(i.vars||i).shadows[6]})),Qe(t,"&.".concat($I.disabled),u({color:(i.vars||i).palette.action.disabled},"outlined"===o.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===o.variant&&"secondary"===o.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===o.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===o.variant&&{padding:"6px 8px"},"text"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].main},"outlined"===o.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[o.color].mainChannel," / 0.5)"):"1px solid ".concat(Un(i.palette[o.color].main,.5))},"contained"===o.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].contrastText,backgroundColor:(i.vars||i).palette[o.color].main},"inherit"===o.color&&{color:"inherit",borderColor:"currentColor"},"small"===o.size&&"text"===o.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"text"===o.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===o.size&&"outlined"===o.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"outlined"===o.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===o.size&&"contained"===o.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"contained"===o.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(Qe(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat($I.focusVisible),{boxShadow:"none"}),Qe(t,"&:active",{boxShadow:"none"}),Qe(t,"&.".concat($I.disabled),{boxShadow:"none"}),t)})),tC=_r("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Pr(n.size))]]}})((function(e){var t=e.ownerState;return u({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},ZI(t))})),nC=_r("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Pr(n.size))]]}})((function(e){var t=e.ownerState;return u({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},ZI(t))})),rC=e.forwardRef((function(t,n){var r=e.useContext(YI),i=Ar({props:Sr(r,t),name:"MuiButton"}),o=i.children,a=i.color,c=void 0===a?"primary":a,h=i.component,d=void 0===h?"button":h,p=i.className,v=i.disabled,m=void 0!==v&&v,g=i.disableElevation,y=void 0!==g&&g,b=i.disableFocusRipple,w=void 0!==b&&b,_=i.endIcon,S=i.focusVisibleClassName,E=i.fullWidth,k=void 0!==E&&E,T=i.size,I=void 0===T?"medium":T,C=i.startIcon,x=i.type,N=i.variant,A=void 0===N?"text":N,P=s(i,XI),R=u({},i,{color:c,component:d,disabled:m,disableElevation:y,disableFocusRipple:w,fullWidth:k,size:I,type:x,variant:A}),O=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,o=e.variant,a=e.classes;return u({},a,f({root:["root",o,"".concat(o).concat(Pr(t)),"size".concat(Pr(i)),"".concat(o,"Size").concat(Pr(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Pr(i))],endIcon:["endIcon","iconSize".concat(Pr(i))]},QI,a))}(R),D=O.root,M=s(O,JI),L=C&&(0,jr.jsx)(tC,{className:M.startIcon,ownerState:R,children:C}),F=_&&(0,jr.jsx)(nC,{className:M.endIcon,ownerState:R,children:_});return(0,jr.jsxs)(eC,u({ownerState:R,className:l(r.className,D,p),component:d,disabled:m,focusRipple:!w,focusVisibleClassName:l(M.focusVisible,S),ref:n,type:x},P,{classes:M,children:[L,o,F]}))})),iC=rC,oC=0;var aC=t.useId;function sC(t){if(void 0!==aC){var n=aC();return null!=t?t:n}return function(t){var n=a(e.useState(t),2),r=n[0],i=n[1],o=t||r;return e.useEffect((function(){null==r&&i("mui-".concat(oC+=1))}),[r]),o}(t)}function uC(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=function(){e.apply(r,o)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}var cC=["onChange","maxRows","minRows","style","value"];function lC(e,t){return parseInt(e[t],10)||0}var fC={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function hC(e){return void 0===e||null===e||0===Object.keys(e).length}var dC=e.forwardRef((function(t,n){var r=t.onChange,i=t.maxRows,o=t.minRows,c=void 0===o?1:o,l=t.style,f=t.value,h=s(t,cC),d=e.useRef(null!=f).current,p=e.useRef(null),v=Mk(n,p),m=e.useRef(null),g=e.useRef(0),y=a(e.useState({}),2),b=y[0],w=y[1],_=e.useCallback((function(){var e=p.current,n=Wk(e).getComputedStyle(e);if("0px"===n.width)return{};var r=m.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var o=n["box-sizing"],a=lC(n,"padding-bottom")+lC(n,"padding-top"),s=lC(n,"border-bottom-width")+lC(n,"border-top-width"),u=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=u;return c&&(f=Math.max(Number(c)*l,f)),i&&(f=Math.min(Number(i)*l,f)),{outerHeightStyle:(f=Math.max(f,l))+("border-box"===o?a+s:0),overflow:Math.abs(f-u)<=1}}),[i,c,t.placeholder]),S=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return g.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(g.current+=1,{overflow:r,outerHeightStyle:n}):e},E=e.useCallback((function(){var e=_();hC(e)||w((function(t){return S(t,e)}))}),[_]);e.useEffect((function(){var e,t=uC((function(){g.current=0,p.current&&function(){var e=_();hC(e)||(0,qk.flushSync)((function(){w((function(t){return S(t,e)}))}))}()})),n=Wk(p.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(p.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}})),Fk((function(){E()})),e.useEffect((function(){g.current=0}),[f]);return(0,jr.jsxs)(e.Fragment,{children:[(0,jr.jsx)("textarea",u({value:f,onChange:function(e){g.current=0,d||E(),r&&r(e)},ref:v,rows:c,style:u({height:b.outerHeightStyle,overflow:b.overflow?"hidden":null},l)},h)),(0,jr.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:u({},fC,l,{padding:0})})]})})),pC=dC;function vC(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var mC=e.createContext();function gC(){return e.useContext(mC)}var yC=Fk;function bC(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,jr.jsx)(wI,{styles:i})}var wC=function(e){return(0,jr.jsx)(bC,u({},e,{defaultTheme:gr}))};function _C(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function SC(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(_C(e.value)&&""!==e.value||t&&_C(e.defaultValue)&&""!==e.defaultValue)}function EC(e){return Mr("MuiInputBase",e)}var kC=Lr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),TC=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],IC=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Pr(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},CC=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},xC=_r("div",{name:"MuiInputBase",slot:"Root",overridesResolver:IC})((function(e){var t=e.theme,n=e.ownerState;return u({},t.typography.body1,Qe({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(kC.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&u({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),NC=_r("input",{name:"MuiInputBase",slot:"Input",overridesResolver:CC})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,o=u({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),a={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return u((Qe(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(kC.formControl," &"),{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s}),Qe(t,"&.".concat(kC.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),Qe(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),AC=(0,jr.jsx)(wC,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),PC=e.forwardRef((function(t,n){var r=Ar({props:t,name:"MuiInputBase"}),i=r["aria-describedby"],o=r.autoComplete,c=r.autoFocus,h=r.className,d=r.components,p=void 0===d?{}:d,v=r.componentsProps,m=void 0===v?{}:v,g=r.defaultValue,y=r.disabled,b=r.disableInjectingGlobalStyles,w=r.endAdornment,_=r.fullWidth,S=void 0!==_&&_,E=r.id,k=r.inputComponent,T=void 0===k?"input":k,I=r.inputProps,C=void 0===I?{}:I,x=r.inputRef,N=r.maxRows,A=r.minRows,P=r.multiline,R=void 0!==P&&P,O=r.name,D=r.onBlur,M=r.onChange,L=r.onClick,F=r.onFocus,j=r.onKeyDown,U=r.onKeyUp,q=r.placeholder,V=r.readOnly,B=r.renderSuffix,z=r.rows,W=r.startAdornment,K=r.type,H=void 0===K?"text":K,G=r.value,Q=s(r,TC),$=null!=C.value?C.value:G,Y=e.useRef(null!=$).current,X=e.useRef(),J=e.useCallback((function(e){0}),[]),Z=NT(C.ref,J),ee=NT(x,Z),te=NT(X,ee),ne=a(e.useState(!1),2),re=ne[0],ie=ne[1],oe=gC();var ae=vC({props:r,muiFormControl:oe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ae.focused=oe?oe.focused:re,e.useEffect((function(){!oe&&y&&re&&(ie(!1),D&&D())}),[oe,y,re,D]);var se=oe&&oe.onFilled,ue=oe&&oe.onEmpty,ce=e.useCallback((function(e){SC(e)?se&&se():ue&&ue()}),[se,ue]);yC((function(){Y&&ce({value:$})}),[$,ce,Y]);e.useEffect((function(){ce(X.current)}),[]);var le=T,fe=C;R&&"input"===le&&(fe=u(z?{type:void 0,minRows:z,maxRows:z}:{type:void 0,maxRows:N,minRows:A},fe),le=pC);e.useEffect((function(){oe&&oe.setAdornedStart(Boolean(W))}),[oe,W]);var he=u({},r,{color:ae.color||"primary",disabled:ae.disabled,endAdornment:w,error:ae.error,focused:ae.focused,formControl:oe,fullWidth:S,hiddenLabel:ae.hiddenLabel,multiline:R,size:ae.size,startAdornment:W,type:H}),de=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,o=e.endAdornment,a=e.focused,s=e.formControl,u=e.fullWidth,c=e.hiddenLabel,l=e.multiline,h=e.readOnly,d=e.size,p=e.startAdornment,v=e.type;return f({root:["root","color".concat(Pr(n)),r&&"disabled",i&&"error",u&&"fullWidth",a&&"focused",s&&"formControl","small"===d&&"sizeSmall",l&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled","search"===v&&"inputTypeSearch",l&&"inputMultiline","small"===d&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]},EC,t)}(he),pe=p.Root||xC,ve=m.root||{},me=p.Input||NC;return fe=u({},fe,m.input),(0,jr.jsxs)(e.Fragment,{children:[!b&&AC,(0,jr.jsxs)(pe,u({},ve,!iT(pe)&&{ownerState:u({},he,ve.ownerState)},{ref:n,onClick:function(e){X.current&&e.currentTarget===e.target&&X.current.focus(),L&&L(e)}},Q,{className:l(de.root,ve.className,h),children:[W,(0,jr.jsx)(mC.Provider,{value:null,children:(0,jr.jsx)(me,u({ownerState:he,"aria-invalid":ae.error,"aria-describedby":i,autoComplete:o,autoFocus:c,defaultValue:g,disabled:ae.disabled,id:E,onAnimationStart:function(e){ce("mui-auto-fill-cancel"===e.animationName?X.current:{value:"x"})},name:O,placeholder:q,readOnly:V,required:ae.required,rows:z,value:$,onKeyDown:j,onKeyUp:U,type:H},fe,!iT(me)&&{as:le,ownerState:u({},he,fe.ownerState)},{ref:te,className:l(de.input,fe.className),onBlur:function(e){D&&D(e),C.onBlur&&C.onBlur(e),oe&&oe.onBlur?oe.onBlur(e):ie(!1)},onChange:function(e){if(!Y){var t=e.target||X.current;if(null==t)throw new Error(rt(1));ce({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];C.onChange&&C.onChange.apply(C,[e].concat(r)),M&&M.apply(void 0,[e].concat(r))},onFocus:function(e){ae.disabled?e.stopPropagation():(F&&F(e),C.onFocus&&C.onFocus(e),oe&&oe.onFocus?oe.onFocus(e):ie(!0))}}))}),w,B?B(u({},ae,{startAdornment:W})):null]}))]})})),RC=PC;function OC(e){return Mr("MuiInput",e)}var DC=u({},kC,Lr("MuiInput",["root","underline","input"])),MC=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],LC=_r(xC,{shouldForwardProp:function(e){return yr(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(h(IC(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),u({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(Qe(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(DC.focused,":after"),{transform:"scaleX(1) translateX(0)"}),Qe(t,"&.".concat(DC.error,":after"),{borderBottomColor:(n.vars||n).palette.error.main,transform:"scaleX(1)"}),Qe(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),Qe(t,"&:hover:not(.".concat(DC.disabled,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),Qe(t,"&.".concat(DC.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),FC=_r(NC,{name:"MuiInput",slot:"Input",overridesResolver:CC})({}),jC=e.forwardRef((function(e,t){var n=Ar({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,o=void 0===i?{}:i,a=n.componentsProps,c=n.fullWidth,l=void 0!==c&&c,h=n.inputComponent,d=void 0===h?"input":h,p=n.multiline,v=void 0!==p&&p,m=n.type,g=void 0===m?"text":m,y=s(n,MC),b=function(e){var t=e.classes;return u({},t,f({root:["root",!e.disableUnderline&&"underline"],input:["input"]},OC,t))}(n),w={root:{ownerState:{disableUnderline:r}}},_=a?Ge(a,w):w;return(0,jr.jsx)(RC,u({components:u({Root:LC,Input:FC},o),componentsProps:_,fullWidth:l,inputComponent:d,multiline:v,ref:t,type:g},y,{classes:b}))}));jC.muiName="Input";var UC=jC;function qC(e){return Mr("MuiFilledInput",e)}var VC=u({},kC,Lr("MuiFilledInput",["root","underline","input"])),BC=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],zC=_r(xC,{shouldForwardProp:function(e){return yr(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(h(IC(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,i=e.theme,o=e.ownerState,a="light"===i.palette.mode,s=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",c=a?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",f=a?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return u((Qe(t={position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c}}},"&.".concat(VC.focused),{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c}),Qe(t,"&.".concat(VC.disabled),{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:f}),t),!o.disableUnderline&&(Qe(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=(i.vars||i).palette[o.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(VC.focused,":after"),{transform:"scaleX(1) translateX(0)"}),Qe(n,"&.".concat(VC.error,":after"),{borderBottomColor:(i.vars||i).palette.error.main,transform:"scaleX(1)"}),Qe(n,"&:before",{borderBottom:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / ").concat(i.vars.opacity.inputUnderline,")"):s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),Qe(n,"&:hover:not(.".concat(VC.disabled,"):before"),{borderBottom:"1px solid ".concat((i.vars||i).palette.text.primary)}),Qe(n,"&.".concat(VC.disabled,":before"),{borderBottomStyle:"dotted"}),n),o.startAdornment&&{paddingLeft:12},o.endAdornment&&{paddingRight:12},o.multiline&&u({padding:"25px 12px 8px"},"small"===o.size&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),WC=_r(NC,{name:"MuiFilledInput",slot:"Input",overridesResolver:CC})((function(e){var t=e.theme,n=e.ownerState;return u({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&Qe({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),KC=e.forwardRef((function(e,t){var n=Ar({props:e,name:"MuiFilledInput"}),r=n.components,i=void 0===r?{}:r,o=n.componentsProps,a=n.fullWidth,c=void 0!==a&&a,l=n.inputComponent,h=void 0===l?"input":l,d=n.multiline,p=void 0!==d&&d,v=n.type,m=void 0===v?"text":v,g=s(n,BC),y=u({},n,{fullWidth:c,inputComponent:h,multiline:p,type:m}),b=function(e){var t=e.classes;return u({},t,f({root:["root",!e.disableUnderline&&"underline"],input:["input"]},qC,t))}(n),w={root:{ownerState:y},input:{ownerState:y}},_=o?Ge(o,w):w;return(0,jr.jsx)(RC,u({components:u({Root:zC,Input:WC},i),componentsProps:_,fullWidth:c,inputComponent:h,multiline:p,ref:t,type:m},g,{classes:b}))}));KC.muiName="Input";var HC,GC=KC,QC=["children","classes","className","label","notched"],$C=_r("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),YC=_r("legend")((function(e){var t=e.ownerState,n=e.theme;return u({float:"unset",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&u({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function XC(e){return Mr("MuiOutlinedInput",e)}var JC=u({},kC,Lr("MuiOutlinedInput",["root","notchedOutline","input"])),ZC=["components","fullWidth","inputComponent","label","multiline","notched","type"],ex=_r(xC,{shouldForwardProp:function(e){return yr(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:IC})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return u((Qe(t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},"&:hover .".concat(JC.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),Qe(t,"@media (hover: none)",Qe({},"&:hover .".concat(JC.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):i})),Qe(t,"&.".concat(JC.focused," .").concat(JC.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),Qe(t,"&.".concat(JC.error," .").concat(JC.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),Qe(t,"&.".concat(JC.disabled," .").concat(JC.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&u({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),tx=_r((function(e){var t=e.className,n=e.label,r=e.notched,i=s(e,QC),o=null!=n&&""!==n,a=u({},e,{notched:r,withLabel:o});return(0,jr.jsx)($C,u({"aria-hidden":!0,className:t,ownerState:a},i,{children:(0,jr.jsx)(YC,{ownerState:a,children:o?(0,jr.jsx)("span",{children:n}):HC||(HC=(0,jr.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),nx=_r(NC,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:CC})((function(e){var t=e.theme,n=e.ownerState;return u({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&Qe({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),rx=e.forwardRef((function(t,n){var r,i=Ar({props:t,name:"MuiOutlinedInput"}),o=i.components,a=void 0===o?{}:o,c=i.fullWidth,l=void 0!==c&&c,h=i.inputComponent,d=void 0===h?"input":h,p=i.label,v=i.multiline,m=void 0!==v&&v,g=i.notched,y=i.type,b=void 0===y?"text":y,w=s(i,ZC),_=function(e){var t=e.classes;return u({},t,f({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},XC,t))}(i),S=gC(),E=vC({props:i,muiFormControl:S,states:["required"]}),k=u({},i,{color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:S,fullWidth:l,hiddenLabel:E.hiddenLabel,multiline:m,size:E.size,type:b});return(0,jr.jsx)(RC,u({components:u({Root:ex,Input:nx},a),renderSuffix:function(t){return(0,jr.jsx)(tx,{ownerState:k,className:_.notchedOutline,label:null!=p&&""!==p&&E.required?r||(r=(0,jr.jsxs)(e.Fragment,{children:[p,"\xa0","*"]})):p,notched:"undefined"!==typeof g?g:Boolean(t.startAdornment||t.filled||t.focused)})},fullWidth:l,inputComponent:d,multiline:m,ref:n,type:b},w,{classes:u({},_,{notchedOutline:null})}))}));rx.muiName="Input";var ix=rx;function ox(e){return Mr("MuiFormLabel",e)}var ax=Lr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),sx=["children","className","color","component","disabled","error","filled","focused","required"],ux=_r("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return u({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return u({color:(n.vars||n).palette.text.secondary},n.typography.body1,(Qe(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(ax.focused),{color:(n.vars||n).palette[r.color].main}),Qe(t,"&.".concat(ax.disabled),{color:(n.vars||n).palette.text.disabled}),Qe(t,"&.".concat(ax.error),{color:(n.vars||n).palette.error.main}),t))})),cx=_r("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return Qe({},"&.".concat(ax.error),{color:(t.vars||t).palette.error.main})})),lx=e.forwardRef((function(e,t){var n=Ar({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,o=n.component,a=void 0===o?"label":o,c=s(n,sx),h=vC({props:n,muiFormControl:gC(),states:["color","required","focused","disabled","error","filled"]}),d=u({},n,{color:h.color||"primary",component:a,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),p=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,o=e.error,a=e.filled,s=e.required;return f({root:["root","color".concat(Pr(n)),i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]},ox,t)}(d);return(0,jr.jsxs)(ux,u({as:a,ownerState:d,className:l(p.root,i),ref:t},c,{children:[r,h.required&&(0,jr.jsxs)(cx,{ownerState:d,"aria-hidden":!0,className:p.asterisk,children:["\u2009","*"]})]}))})),fx=lx;function hx(e){return Mr("MuiInputLabel",e)}Lr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var dx=["disableAnimation","margin","shrink","variant"],px=_r(fx,{shouldForwardProp:function(e){return yr(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Qe({},"& .".concat(ax.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return u({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&u({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&u({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&u({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),vx=e.forwardRef((function(e,t){var n=Ar({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,o=n.shrink,a=s(n,dx),c=gC(),l=o;"undefined"===typeof l&&c&&(l=c.filled||c.focused||c.adornedStart);var h=vC({props:n,muiFormControl:c,states:["size","variant","required"]}),d=u({},n,{disableAnimation:i,formControl:c,shrink:l,size:h.size,variant:h.variant,required:h.required}),p=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink;return u({},t,f({root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},hx,t))}(d);return(0,jr.jsx)(px,u({"data-shrink":l,ownerState:d,ref:t},a,{classes:p}))})),mx=vx;var gx=function(t,n){return e.isValidElement(t)&&-1!==n.indexOf(t.type.muiName)};function yx(e){return Mr("MuiFormControl",e)}Lr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var bx=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],wx=_r("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return u({},t.root,t["margin".concat(Pr(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return u({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),_x=e.forwardRef((function(t,n){var r=Ar({props:t,name:"MuiFormControl"}),i=r.children,o=r.className,c=r.color,h=void 0===c?"primary":c,d=r.component,p=void 0===d?"div":d,v=r.disabled,m=void 0!==v&&v,g=r.error,y=void 0!==g&&g,b=r.focused,w=r.fullWidth,_=void 0!==w&&w,S=r.hiddenLabel,E=void 0!==S&&S,k=r.margin,T=void 0===k?"none":k,I=r.required,C=void 0!==I&&I,x=r.size,N=void 0===x?"medium":x,A=r.variant,P=void 0===A?"outlined":A,R=s(r,bx),O=u({},r,{color:h,component:p,disabled:m,error:y,fullWidth:_,hiddenLabel:E,margin:T,required:C,size:N,variant:P}),D=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return f({root:["root","none"!==n&&"margin".concat(Pr(n)),r&&"fullWidth"]},yx,t)}(O),M=e.useState((function(){var t=!1;return i&&e.Children.forEach(i,(function(e){if(gx(e,["Input","Select"])){var n=gx(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}})),t})),L=a(M,2),F=L[0],j=L[1],U=e.useState((function(){var t=!1;return i&&e.Children.forEach(i,(function(e){gx(e,["Input","Select"])&&SC(e.props,!0)&&(t=!0)})),t})),q=a(U,2),V=q[0],B=q[1],z=a(e.useState(!1),2),W=z[0],K=z[1];m&&W&&K(!1);var H=void 0===b||m?W:b,G=e.useCallback((function(){B(!0)}),[]),Q={adornedStart:F,setAdornedStart:j,color:h,disabled:m,error:y,filled:V,focused:H,fullWidth:_,hiddenLabel:E,size:N,onBlur:function(){K(!1)},onEmpty:e.useCallback((function(){B(!1)}),[]),onFilled:G,onFocus:function(){K(!0)},registerEffect:undefined,required:C,variant:P};return(0,jr.jsx)(mC.Provider,{value:Q,children:(0,jr.jsx)(wx,u({as:p,ownerState:O,className:l(D.root,o),ref:n},R,{children:i}))})})),Sx=_x;function Ex(e){return Mr("MuiFormHelperText",e)}var kx,Tx=Lr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Ix=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Cx=_r("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(Pr(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return u({color:(n.vars||n).palette.text.secondary},n.typography.caption,(Qe(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},"&.".concat(Tx.disabled),{color:(n.vars||n).palette.text.disabled}),Qe(t,"&.".concat(Tx.error),{color:(n.vars||n).palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),xx=e.forwardRef((function(e,t){var n=Ar({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,o=n.component,a=void 0===o?"p":o,c=s(n,Ix),h=vC({props:n,muiFormControl:gC(),states:["variant","size","disabled","error","filled","focused","required"]}),d=u({},n,{component:a,contained:"filled"===h.variant||"outlined"===h.variant,variant:h.variant,size:h.size,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),p=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,o=e.error,a=e.filled,s=e.focused,u=e.required;return f({root:["root",i&&"disabled",o&&"error",r&&"size".concat(Pr(r)),n&&"contained",s&&"focused",a&&"filled",u&&"required"]},Ex,t)}(d);return(0,jr.jsx)(Cx,u({as:a,ownerState:d,className:l(p.root,i),ref:t},c,{children:" "===r?kx||(kx=(0,jr.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),Nx=xx,Ax=(n(457),Lk);var Px=e.createContext({});function Rx(e){return Mr("MuiList",e)}Lr("MuiList",["root","padding","dense","subheader"]);var Ox=["children","className","component","dense","disablePadding","subheader"],Dx=_r("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return u({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),Mx=e.forwardRef((function(t,n){var r=Ar({props:t,name:"MuiList"}),i=r.children,o=r.className,a=r.component,c=void 0===a?"ul":a,h=r.dense,d=void 0!==h&&h,p=r.disablePadding,v=void 0!==p&&p,m=r.subheader,g=s(r,Ox),y=e.useMemo((function(){return{dense:d}}),[d]),b=u({},r,{component:c,dense:d,disablePadding:v}),w=function(e){var t=e.classes;return f({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},Rx,t)}(b);return(0,jr.jsx)(Px.Provider,{value:y,children:(0,jr.jsxs)(Dx,u({as:c,className:l(w.root,o),ref:n,ownerState:b},g,{children:[m,i]}))})})),Lx=Mx,Fx=Kk,jx=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Ux(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function qx(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Vx(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Bx(e,t,n,r,i,o){for(var a=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return!1;a=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Vx(s,o)&&!u)return s.focus(),!0;s=i(e,s,n)}return!1}var zx=e.forwardRef((function(t,n){var r=t.actions,i=t.autoFocus,o=void 0!==i&&i,a=t.autoFocusItem,c=void 0!==a&&a,l=t.children,f=t.className,h=t.disabledItemsFocusable,d=void 0!==h&&h,p=t.disableListWrap,v=void 0!==p&&p,m=t.onKeyDown,g=t.variant,y=void 0===g?"selectedMenu":g,b=s(t,jx),w=e.useRef(null),_=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});yC((function(){o&&w.current.focus()}),[o]),e.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!w.current.style.width;if(e.clientHeight<w.current.clientHeight&&n){var r="".concat(Fx(Ax(e)),"px");w.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,w.current.style.width="calc(100% + ".concat(r,")")}return w.current}}}),[]);var S=NT(w,n),E=-1;e.Children.forEach(l,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===y&&t.props.selected||-1===E)&&(E=n))}));var k=e.Children.map(l,(function(t,n){if(n===E){var r={};return c&&(r.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===y&&(r.tabIndex=0),e.cloneElement(t,r)}return t}));return(0,jr.jsx)(Lx,u({role:"menu",ref:S,className:f,onKeyDown:function(e){var t=w.current,n=e.key,r=Ax(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Bx(t,r,v,d,Ux);else if("ArrowUp"===n)e.preventDefault(),Bx(t,r,v,d,qx);else if("Home"===n)e.preventDefault(),Bx(t,null,v,d,Ux);else if("End"===n)e.preventDefault(),Bx(t,null,v,d,qx);else if(1===n.length){var i=_.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&Vx(r,i);i.previousKeyMatched&&(s||Bx(t,r,!1,d,Ux,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:o?0:-1},b,{children:k}))})),Wx=zx;function Kx(e){return Mr("MuiPaper",e)}Lr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var Hx=["className","component","elevation","square","variant"],Gx=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},Qx=_r("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return u({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&u({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(Un("#fff",Gx(r.elevation)),", ").concat(Un("#fff",Gx(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),$x=e.forwardRef((function(e,t){var n=Ar({props:e,name:"MuiPaper"}),r=n.className,i=n.component,o=void 0===i?"div":i,a=n.elevation,c=void 0===a?1:a,h=n.square,d=void 0!==h&&h,p=n.variant,v=void 0===p?"elevation":p,m=s(n,Hx),g=u({},n,{component:o,elevation:c,square:d,variant:v}),y=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return f({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},Kx,i)}(g);return(0,jr.jsx)(Qx,u({as:o,ownerState:g,className:l(y.root,r),ref:t},m))})),Yx=$x,Xx=uC,Jx=Wk,Zx=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function eN(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var tN={entering:{opacity:1,transform:eN(1)},entered:{opacity:1,transform:"none"}},nN="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),rN=e.forwardRef((function(t,n){var r=t.addEndListener,i=t.appear,o=void 0===i||i,a=t.children,c=t.easing,l=t.in,f=t.onEnter,h=t.onEntered,d=t.onEntering,p=t.onExit,v=t.onExited,m=t.onExiting,g=t.style,y=t.timeout,b=void 0===y?"auto":y,w=t.TransitionComponent,_=void 0===w?TT:w,S=s(t,Zx),E=e.useRef(),k=e.useRef(),T=IT(),I=e.useRef(null),C=NT(a.ref,n),x=NT(I,C),N=function(e){return function(t){if(e){var n=I.current;void 0===t?e(n):e(n,t)}}},A=N(d),P=N((function(e,t){CT(e);var n,r=xT({style:g,timeout:b,easing:c},{mode:"enter"}),i=r.duration,o=r.delay,a=r.easing;"auto"===b?(n=T.transitions.getAutoHeightDuration(e.clientHeight),k.current=n):n=i,e.style.transition=[T.transitions.create("opacity",{duration:n,delay:o}),T.transitions.create("transform",{duration:nN?n:.666*n,delay:o,easing:a})].join(","),f&&f(e,t)})),R=N(h),O=N(m),D=N((function(e){var t,n=xT({style:g,timeout:b,easing:c},{mode:"exit"}),r=n.duration,i=n.delay,o=n.easing;"auto"===b?(t=T.transitions.getAutoHeightDuration(e.clientHeight),k.current=t):t=r,e.style.transition=[T.transitions.create("opacity",{duration:t,delay:i}),T.transitions.create("transform",{duration:nN?t:.666*t,delay:nN?i:i||.333*t,easing:o})].join(","),e.style.opacity=0,e.style.transform=eN(.75),p&&p(e)})),M=N(v);return e.useEffect((function(){return function(){clearTimeout(E.current)}}),[]),(0,jr.jsx)(_,u({appear:o,in:l,nodeRef:I,onEnter:P,onEntered:R,onEntering:A,onExit:D,onExited:M,onExiting:O,addEndListener:function(e){"auto"===b&&(E.current=setTimeout(e,k.current||0)),r&&r(I.current,e)},timeout:"auto"===b?null:b},S,{children:function(t,n){return e.cloneElement(a,u({style:u({opacity:0,transform:eN(.75),visibility:"exited"!==t||l?void 0:"hidden"},tN[t],g,a.props.style),ref:x},n))}}))}));rN.muiSupportAuto=!0;var iN=rN;function oN(e){return Mr("MuiPopover",e)}Lr("MuiPopover",["root","paper"]);var aN=["onEntering"],sN=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function uN(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function cN(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function lN(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function fN(e){return"function"===typeof e?e():e}var hN=_r(zT,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),dN=_r(Yx,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),pN=e.forwardRef((function(t,n){var r=Ar({props:t,name:"MuiPopover"}),i=r.action,o=r.anchorEl,a=r.anchorOrigin,c=void 0===a?{vertical:"top",horizontal:"left"}:a,h=r.anchorPosition,d=r.anchorReference,p=void 0===d?"anchorEl":d,v=r.children,m=r.className,g=r.container,y=r.elevation,b=void 0===y?8:y,w=r.marginThreshold,_=void 0===w?16:w,S=r.open,E=r.PaperProps,k=void 0===E?{}:E,T=r.transformOrigin,I=void 0===T?{vertical:"top",horizontal:"left"}:T,C=r.TransitionComponent,x=void 0===C?iN:C,N=r.transitionDuration,A=void 0===N?"auto":N,P=r.TransitionProps,R=(P=void 0===P?{}:P).onEntering,O=s(r.TransitionProps,aN),D=s(r,sN),M=e.useRef(),L=NT(M,k.ref),F=u({},r,{anchorOrigin:c,anchorReference:p,elevation:b,marginThreshold:_,PaperProps:k,transformOrigin:I,TransitionComponent:x,transitionDuration:A,TransitionProps:O}),j=function(e){return f({root:["root"],paper:["paper"]},oN,e.classes)}(F),U=e.useCallback((function(){if("anchorPosition"===p)return h;var e=fN(o),t=(e&&1===e.nodeType?e:Ax(M.current).body).getBoundingClientRect();return{top:t.top+uN(t,c.vertical),left:t.left+cN(t,c.horizontal)}}),[o,c.horizontal,c.vertical,h,p]),q=e.useCallback((function(e){return{vertical:uN(e,I.vertical),horizontal:cN(e,I.horizontal)}}),[I.horizontal,I.vertical]),V=e.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=q(t);if("none"===p)return{top:null,left:null,transformOrigin:lN(n)};var r=U(),i=r.top-n.vertical,a=r.left-n.horizontal,s=i+t.height,u=a+t.width,c=Jx(fN(o)),l=c.innerHeight-_,f=c.innerWidth-_;if(i<_){var h=i-_;i-=h,n.vertical+=h}else if(s>l){var d=s-l;i-=d,n.vertical+=d}if(a<_){var v=a-_;a-=v,n.horizontal+=v}else if(u>f){var m=u-f;a-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:lN(n)}}),[o,p,U,q,_]),B=e.useCallback((function(){var e=M.current;if(e){var t=V(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[V]);e.useEffect((function(){S&&B()})),e.useImperativeHandle(i,(function(){return S?{updatePosition:function(){B()}}:null}),[S,B]),e.useEffect((function(){if(S){var e=Xx((function(){B()})),t=Jx(o);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[o,S,B]);var z=A;"auto"!==A||x.muiSupportAuto||(z=void 0);var W=g||(o?Ax(fN(o)).body:void 0);return(0,jr.jsx)(hN,u({BackdropProps:{invisible:!0},className:l(j.root,m),container:W,open:S,ref:n,ownerState:F},D,{children:(0,jr.jsx)(x,u({appear:!0,in:S,onEntering:function(e,t){R&&R(e,t),B()},timeout:z},O,{children:(0,jr.jsx)(dN,u({elevation:b},k,{ref:L,className:l(j.paper,k.className),children:v}))}))}))})),vN=pN;function mN(e){return Mr("MuiMenu",e)}Lr("MuiMenu",["root","paper","list"]);var gN=["onEntering"],yN=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],bN={vertical:"top",horizontal:"right"},wN={vertical:"top",horizontal:"left"},_N=_r(vN,{shouldForwardProp:function(e){return yr(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),SN=_r(Yx,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),EN=_r(Wx,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),kN=e.forwardRef((function(t,n){var r=Ar({props:t,name:"MuiMenu"}),i=r.autoFocus,o=void 0===i||i,a=r.children,c=r.disableAutoFocusItem,h=void 0!==c&&c,d=r.MenuListProps,p=void 0===d?{}:d,v=r.onClose,m=r.open,g=r.PaperProps,y=void 0===g?{}:g,b=r.PopoverClasses,w=r.transitionDuration,_=void 0===w?"auto":w,S=r.TransitionProps,E=(S=void 0===S?{}:S).onEntering,k=r.variant,T=void 0===k?"selectedMenu":k,I=s(r.TransitionProps,gN),C=s(r,yN),x=IT(),N="rtl"===x.direction,A=u({},r,{autoFocus:o,disableAutoFocusItem:h,MenuListProps:p,onEntering:E,PaperProps:y,transitionDuration:_,TransitionProps:I,variant:T}),P=function(e){return f({root:["root"],paper:["paper"],list:["list"]},mN,e.classes)}(A),R=o&&!h&&m,O=e.useRef(null),D=-1;return e.Children.map(a,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===T&&t.props.selected||-1===D)&&(D=n))})),(0,jr.jsx)(_N,u({classes:b,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?bN:wN,PaperProps:u({component:SN},y,{classes:u({},y.classes,{root:P.paper})}),className:P.root,open:m,ref:n,transitionDuration:_,TransitionProps:u({onEntering:function(e,t){O.current&&O.current.adjustStyleForScrollbar(e,x),E&&E(e,t)}},I),ownerState:A},C,{children:(0,jr.jsx)(EN,u({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),v&&v(e,"tabKeyDown"))},actions:O,autoFocus:o&&(-1===D||h),autoFocusItem:R,variant:T},p,{className:l(P.list,p.className),children:a}))}))})),TN=kN;function IN(e){return Mr("MuiNativeSelect",e)}var CN=Lr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),xN=["className","disabled","IconComponent","inputRef","variant"],NN=function(e){var t,n=e.ownerState,r=e.theme;return u((Qe(t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},"&.".concat(CN.disabled),{cursor:"default"}),Qe(t,"&[multiple]",{height:"auto"}),Qe(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:r.palette.background.paper}),Qe(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:r.shape.borderRadius,"&:focus":{borderRadius:r.shape.borderRadius},"&&&":{paddingRight:32}})},AN=_r("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:yr,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],Qe({},"&.".concat(CN.multiple),t.multiple)]}})(NN),PN=function(e){var t=e.ownerState,n=e.theme;return u(Qe({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(CN.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},RN=_r("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Pr(n.variant))],n.open&&t.iconOpen]}})(PN),ON=e.forwardRef((function(t,n){var r=t.className,i=t.disabled,o=t.IconComponent,a=t.inputRef,c=t.variant,h=void 0===c?"standard":c,d=s(t,xN),p=u({},t,{disabled:i,variant:h}),v=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,o=e.open;return f({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(Pr(n)),o&&"iconOpen",r&&"disabled"]},IN,t)}(p);return(0,jr.jsxs)(e.Fragment,{children:[(0,jr.jsx)(AN,u({ownerState:p,className:l(v.select,r),disabled:i,ref:a||n},d)),t.multiple?null:(0,jr.jsx)(RN,{as:o,ownerState:p,className:v.icon})]})})),DN=ON;var MN=function(t){var n=t.controlled,r=t.default,i=(t.name,t.state,e.useRef(void 0!==n).current),o=a(e.useState(r),2),s=o[0],u=o[1];return[i?n:s,e.useCallback((function(e){i||u(e)}),[])]};function LN(e){return Mr("MuiSelect",e)}var FN,jN=Lr("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),UN=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],qN=_r("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[Qe({},"&.".concat(jN.select),t.select),Qe({},"&.".concat(jN.select),t[n.variant]),Qe({},"&.".concat(jN.multiple),t.multiple)]}})(NN,Qe({},"&.".concat(jN.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),VN=_r("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Pr(n.variant))],n.open&&t.iconOpen]}})(PN),BN=_r("input",{shouldForwardProp:function(e){return br(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function zN(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function WN(e){return null==e||"string"===typeof e&&!e.trim()}var KN,HN,GN=e.forwardRef((function(t,n){var r=t["aria-describedby"],i=t["aria-label"],o=t.autoFocus,c=t.autoWidth,h=t.children,d=t.className,p=t.defaultOpen,v=t.defaultValue,m=t.disabled,g=t.displayEmpty,y=t.IconComponent,b=t.inputRef,w=t.labelId,_=t.MenuProps,S=void 0===_?{}:_,E=t.multiple,k=t.name,T=t.onBlur,I=t.onChange,C=t.onClose,x=t.onFocus,N=t.onOpen,A=t.open,P=t.readOnly,R=t.renderValue,O=t.SelectDisplayProps,D=void 0===O?{}:O,M=t.tabIndex,L=t.value,F=t.variant,j=void 0===F?"standard":F,U=s(t,UN),q=a(MN({controlled:L,default:v,name:"Select"}),2),V=q[0],B=q[1],z=a(MN({controlled:A,default:p,name:"Select"}),2),W=z[0],K=z[1],H=e.useRef(null),G=e.useRef(null),Q=a(e.useState(null),2),$=Q[0],Y=Q[1],X=e.useRef(null!=A).current,J=a(e.useState(),2),Z=J[0],ee=J[1],te=NT(n,b),ne=e.useCallback((function(e){G.current=e,e&&Y(e)}),[]);e.useImperativeHandle(te,(function(){return{focus:function(){G.current.focus()},node:H.current,value:V}}),[V]),e.useEffect((function(){p&&W&&$&&!X&&(ee(c?null:$.clientWidth),G.current.focus())}),[$,c]),e.useEffect((function(){o&&G.current.focus()}),[o]),e.useEffect((function(){if(w){var e=Ax(G.current).getElementById(w);if(e){var t=function(){getSelection().isCollapsed&&G.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[w]);var re,ie,oe=function(e,t){e?N&&N(t):C&&C(t),X||(ee(c?null:$.clientWidth),K(e))},ae=e.Children.toArray(h),se=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(E){n=Array.isArray(V)?V.slice():[];var r=V.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),V!==n&&(B(n),I)){var i=t.nativeEvent||t,o=new i.constructor(i.type,i);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:k}}),I(o,e)}E||oe(!1,t)}}},ue=null!==$&&W;delete U["aria-invalid"];var ce=[],le=!1;(SC({value:V})||g)&&(R?re=R(V):le=!0);var fe=ae.map((function(t,n,r){if(!e.isValidElement(t))return null;var i;if(E){if(!Array.isArray(V))throw new Error(rt(2));i=V.some((function(e){return zN(e,t.props.value)})),i&&le&&ce.push(t.props.children)}else(i=zN(V,t.props.value))&&le&&(ie=t.props.children);if(i&&!0,void 0===t.props.value)return e.cloneElement(t,{"aria-readonly":!0,role:"option"});return e.cloneElement(t,{"aria-selected":i?"true":"false",onClick:se(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:void 0===r[0].props.value||!0===r[0].props.disabled?function(){if(V)return i;var e=r.find((function(e){return void 0!==e.props.value&&!0!==e.props.disabled}));return t===e||i}():i,value:void 0,"data-value":t.props.value})}));le&&(re=E?0===ce.length?null:ce.reduce((function(e,t,n){return e.push(t),n<ce.length-1&&e.push(", "),e}),[]):ie);var he,de=Z;!c&&X&&$&&(de=$.clientWidth),he="undefined"!==typeof M?M:m?null:0;var pe=D.id||(k?"mui-component-select-".concat(k):void 0),ve=u({},t,{variant:j,value:V,open:ue}),me=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,o=e.open;return f({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(Pr(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},LN,t)}(ve);return(0,jr.jsxs)(e.Fragment,{children:[(0,jr.jsx)(qN,u({ref:ne,tabIndex:he,role:"button","aria-disabled":m?"true":void 0,"aria-expanded":ue?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[w,pe].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:function(e){if(!P){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),oe(!0,e))}},onMouseDown:m||P?null:function(e){0===e.button&&(e.preventDefault(),G.current.focus(),oe(!0,e))},onBlur:function(e){!ue&&T&&(Object.defineProperty(e,"target",{writable:!0,value:{value:V,name:k}}),T(e))},onFocus:x},D,{ownerState:ve,className:l(D.className,me.select,d),id:pe,children:WN(re)?FN||(FN=(0,jr.jsx)("span",{className:"notranslate",children:"\u200b"})):re})),(0,jr.jsx)(BN,u({value:Array.isArray(V)?V.join(","):V,name:k,ref:H,"aria-hidden":!0,onChange:function(e){var t=ae.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=ae[t];B(n.props.value),I&&I(e,n)}},tabIndex:-1,disabled:m,className:me.nativeInput,autoFocus:o,ownerState:ve},U)),(0,jr.jsx)(VN,{as:y,className:me.icon,ownerState:ve}),(0,jr.jsx)(TN,u({id:"menu-".concat(k||""),anchorEl:$,open:ue,onClose:function(e){oe(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},S,{MenuListProps:u({"aria-labelledby":w,role:"listbox",disableListWrap:!0},S.MenuListProps),PaperProps:u({},S.PaperProps,{style:u({minWidth:de},null!=S.PaperProps?S.PaperProps.style:null)}),children:fe}))]})})),QN=GN,$N=zr((0,jr.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),YN=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],XN={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return yr(e)&&"variant"!==e},slot:"Root"},JN=_r(UC,XN)(""),ZN=_r(ix,XN)(""),eA=_r(GC,XN)(""),tA=e.forwardRef((function(t,n){var r=Ar({name:"MuiSelect",props:t}),i=r.autoWidth,o=void 0!==i&&i,a=r.children,c=r.classes,f=void 0===c?{}:c,h=r.className,d=r.defaultOpen,p=void 0!==d&&d,v=r.displayEmpty,m=void 0!==v&&v,g=r.IconComponent,y=void 0===g?$N:g,b=r.id,w=r.input,_=r.inputProps,S=r.label,E=r.labelId,k=r.MenuProps,T=r.multiple,I=void 0!==T&&T,C=r.native,x=void 0!==C&&C,N=r.onClose,A=r.onOpen,P=r.open,R=r.renderValue,O=r.SelectDisplayProps,D=r.variant,M=void 0===D?"outlined":D,L=s(r,YN),F=x?DN:QN,j=vC({props:r,muiFormControl:gC(),states:["variant"]}).variant||M,U=w||{standard:KN||(KN=(0,jr.jsx)(JN,{})),outlined:(0,jr.jsx)(ZN,{label:S}),filled:HN||(HN=(0,jr.jsx)(eA,{}))}[j],q=function(e){return e.classes}(u({},r,{variant:j,classes:f})),V=NT(n,U.ref);return e.cloneElement(U,u({inputComponent:F,inputProps:u({children:a,IconComponent:y,variant:j,type:void 0,multiple:I},x?{id:b}:{autoWidth:o,defaultOpen:p,displayEmpty:m,labelId:E,MenuProps:k,onClose:N,onOpen:A,open:P,renderValue:R,SelectDisplayProps:u({id:b},O)},_,{classes:_?Ge(q,_.classes):q},w?w.props.inputProps:{})},I&&x&&"outlined"===j?{notched:!0}:{},{ref:V,className:l(U.props.className,h),variant:j},L))}));tA.muiName="Select";var nA=tA;function rA(e){return Mr("MuiTextField",e)}Lr("MuiTextField",["root"]);var iA=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],oA={standard:UC,filled:GC,outlined:ix},aA=_r(Sx,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),sA=e.forwardRef((function(e,t){var n=Ar({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,o=void 0!==i&&i,a=n.children,c=n.className,h=n.color,d=void 0===h?"primary":h,p=n.defaultValue,v=n.disabled,m=void 0!==v&&v,g=n.error,y=void 0!==g&&g,b=n.FormHelperTextProps,w=n.fullWidth,_=void 0!==w&&w,S=n.helperText,E=n.id,k=n.InputLabelProps,T=n.inputProps,I=n.InputProps,C=n.inputRef,x=n.label,N=n.maxRows,A=n.minRows,P=n.multiline,R=void 0!==P&&P,O=n.name,D=n.onBlur,M=n.onChange,L=n.onFocus,F=n.placeholder,j=n.required,U=void 0!==j&&j,q=n.rows,V=n.select,B=void 0!==V&&V,z=n.SelectProps,W=n.type,K=n.value,H=n.variant,G=void 0===H?"outlined":H,Q=s(n,iA),$=u({},n,{autoFocus:o,color:d,disabled:m,error:y,fullWidth:_,multiline:R,required:U,select:B,variant:G}),Y=function(e){return f({root:["root"]},rA,e.classes)}($);var X={};"outlined"===G&&(k&&"undefined"!==typeof k.shrink&&(X.notched=k.shrink),X.label=x),B&&(z&&z.native||(X.id=void 0),X["aria-describedby"]=void 0);var J=sC(E),Z=S&&J?"".concat(J,"-helper-text"):void 0,ee=x&&J?"".concat(J,"-label"):void 0,te=oA[G],ne=(0,jr.jsx)(te,u({"aria-describedby":Z,autoComplete:r,autoFocus:o,defaultValue:p,fullWidth:_,multiline:R,name:O,rows:q,maxRows:N,minRows:A,type:W,value:K,id:J,inputRef:C,onBlur:D,onChange:M,onFocus:L,placeholder:F,inputProps:T},X,I));return(0,jr.jsxs)(aA,u({className:l(Y.root,c),disabled:m,error:y,fullWidth:_,ref:t,required:U,color:d,variant:G,ownerState:$},Q,{children:[null!=x&&""!==x&&(0,jr.jsx)(mx,u({htmlFor:J,id:ee},k,{children:x})),B?(0,jr.jsx)(nA,u({"aria-describedby":Z,id:J,labelId:ee,value:K,input:ne},z,{children:a})):ne,S&&(0,jr.jsx)(Nx,u({id:Z},b,{children:S}))]}))})),uA=sA;var cA=function(t){var n=t.username,r=a((0,e.useState)(null),2),i=r[0],o=r[1],s=a((0,e.useState)(0),2),u=s[0],c=s[1],l=a((0,e.useState)(""),2),f=l[0],h=l[1];return(0,jr.jsxs)("div",{className:"Imageupload",children:[(0,jr.jsx)("progress",{className:"Imageupload__progress",value:u,max:"100"}),(0,jr.jsx)("input",{type:"text",placeholder:"Enter a caption...",onChange:function(e){return h(e.target.value)},value:f}),(0,jr.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&o(e.target.files[0])}}),(0,jr.jsx)(iC,{onClick:function(){Rk.ref("images/".concat(i.name)).put(i).on("state_chagned",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);c(t)}),(function(e){console.log(e),alert(e.message)}),(function(){Rk.ref("images").child(i.name).getDownloadURL().then((function(e){Ak.collection("posts").add({timestamp:Jr.default.firestore.FieldValue.serverTimestamp(),caption:f,imageUrl:e,username:n}),c(0),h(""),o(null)}))}))},children:" Upload "})]})},lA=n(863),fA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hA=function(){return hA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hA.apply(this,arguments)},dA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},pA=function(t){function n(e){var n=t.call(this,e)||this;return n.request=null,n.cancel=function(){n.request&&n.request.cancel()},n.handleFetchSuccess=function(e){n.props.onSuccess&&n.props.onSuccess(e),n.setState({html:e.html},(function(){window.instgrm.Embeds.process(),n.props.onAfterRender&&n.props.onAfterRender()}))},n.handleFetchFailure=function(e){clearTimeout(n.timer),n.props.onFailure&&n.props.onFailure(e)},n.createRequestPromise=function(e){var t={};return t.promise=new Promise((function(r,i){var o=fetch(e,{headers:{Authorization:"Bearer "+n.props.clientAccessToken}}).then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return i(e)}));return t.cancel=function(){return i(new Error("Cancelled"))},o})),t},n.state={html:null},n}return fA(n,t),n.prototype.componentDidMount=function(){var e=this;window.instgrm?this.fetchEmbed(this.getQueryParams(this.props)):(this.props.injectScript&&!document.getElementById("react-instagram-embed-script")&&this.injectScript(),this.checkAPI().then((function(){e.fetchEmbed(e.getQueryParams(e.props))})))},n.prototype.componentDidUpdate=function(e){var t=this.props,n=t.url,r=t.clientAccessToken,i=t.hideCaption,o=t.maxWidth,a=t.containerTagName,s=t.className;e.url===n&&e.clientAccessToken===r&&e.hideCaption===i&&e.maxWidth===o&&e.containerTagName===a&&e.className===s||(this.request.cancel(),this.fetchEmbed(this.getQueryParams(this.props)))},n.prototype.componentWillUnmount=function(){this.cancel()},n.prototype.render=function(){var t=this.props.containerTagName;return e.createElement(t,hA({},this.omitComponentProps(),{dangerouslySetInnerHTML:{__html:this.state.html||""}}))},n.prototype.fetchEmbed=function(e){this.request=this.createRequestPromise("https://graph.facebook.com/v11.0/instagram_oembed/?"+e),this.props.onLoading&&this.props.onLoading(),this.request.promise.then(this.handleFetchSuccess).catch(this.handleFetchFailure)},n.prototype.omitComponentProps=function(){var e=this.props;e.url,e.clientAccessToken,e.hideCaption,e.maxWidth,e.containerTagName,e.onLoading,e.onSuccess,e.onAfterRender,e.onFailure,e.protocol,e.injectScript;return dA(e,["url","clientAccessToken","hideCaption","maxWidth","containerTagName","onLoading","onSuccess","onAfterRender","onFailure","protocol","injectScript"])},n.prototype.injectScript=function(){var e=0===window.location.protocol.indexOf("file")?this.props.protocol:"",t=document.createElement("script");t.async=t.defer=!0,t.src=e+"//platform.instagram.com/en_US/embeds.js",t.id="react-instagram-embed-script";var n=document.body;n&&n.appendChild(t)},n.prototype.checkAPI=function(){var e=this;return new Promise((function(t){!function e(n){n.timer=window.setTimeout((function(){window.instgrm?(clearTimeout(n.timer),t()):e(n)}),20)}(e)}))},n.prototype.getQueryParams=function(e){var t=e.url,n=e.hideCaption,r=e.maxWidth,i={url:t,hidecaption:n,omitscript:!0,fields:"html"};return"number"===typeof r&&320<=r&&r<=658&&(i.maxwidth=r),(0,lA.stringify)(i)},n.defaultProps={hideCaption:!1,containerTagName:"div",protocol:"https:",injectScript:!0},n}(e.Component),vA=pA,mA={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};var gA=function(){var t=a((0,e.useState)([]),2),n=t[0],r=t[1],i=a((0,e.useState)(!1),2),o=i[0],s=i[1],u=a((0,e.useState)(!1),2),c=u[0],l=u[1],f=a((0,e.useState)(""),2),h=f[0],d=f[1],p=a((0,e.useState)(""),2),v=p[0],m=p[1],g=a((0,e.useState)(""),2),y=g[0],b=g[1],w=a((0,e.useState)(null),2),_=w[0],S=w[1];return(0,e.useEffect)((function(){var e=Pk.onAuthStateChanged((function(e){e?(console.log(e),S(e)):S(null)}));return function(){e()}}),[_,h]),(0,e.useEffect)((function(){Ak.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){r(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),(0,jr.jsxs)("div",{className:"app",children:[(0,jr.jsx)(zT,{open:o,onClose:function(){return s(!1)},children:(0,jr.jsx)(nI,{sx:mA,children:(0,jr.jsx)(JT,{id:"modal-modal-title",variant:"h6",component:"h2",children:(0,jr.jsxs)("form",{className:"app__signup",children:[(0,jr.jsx)("center",{children:(0,jr.jsx)("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""})}),(0,jr.jsx)(uA,{placeholder:"username",type:"text",email:h,onChange:function(e){return d(e.target.value)}}),(0,jr.jsx)(uA,{placeholder:"email",type:"text",email:v,onChange:function(e){return m(e.target.value)}}),(0,jr.jsx)(uA,{placeholder:"password",type:"password",email:y,onChange:function(e){return b(e.target.value)}}),(0,jr.jsx)(iC,{type:"submit",onClick:function(e){e.preventDefault(),Pk.createUserWithEmailAndPassword(v,y).then((function(e){return e.user.updateProfile({displayName:h})})).catch((function(e){return alert(e.message)})),s(!1)},children:"Sign Up"})]})})})}),(0,jr.jsx)(zT,{open:c,onClose:function(){return l(!1)},children:(0,jr.jsx)(nI,{sx:mA,children:(0,jr.jsx)(JT,{id:"modal-modal-title",variant:"h6",component:"h2",children:(0,jr.jsxs)("form",{className:"app__signup",children:[(0,jr.jsx)("center",{children:(0,jr.jsx)("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""})}),(0,jr.jsx)(uA,{placeholder:"email",type:"text",email:v,onChange:function(e){return m(e.target.value)}}),(0,jr.jsx)(uA,{placeholder:"password",type:"password",email:y,onChange:function(e){return b(e.target.value)}}),(0,jr.jsx)(iC,{type:"submit",onClick:function(e){e.preventDefault(),Pk.signInWithEmailAndPassword(v,y).catch((function(e){alert(e.message)})),l(!1)},children:"Sign In"})]})})})}),(0,jr.jsxs)("div",{className:"app__header",children:[(0,jr.jsx)("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),_?(0,jr.jsx)(iC,{onClick:function(){return Pk.signOut()},children:"Logout"}):(0,jr.jsxs)("div",{className:"app__loginContainer",children:[(0,jr.jsx)(iC,{onClick:function(){return l(!0)},children:" Sign in "}),(0,jr.jsx)(iC,{onClick:function(){return s(!0)},children:" Sign Up "})]})]}),(0,jr.jsxs)("div",{className:"app__posts",children:[(0,jr.jsx)("div",{className:"app__postsLeft",children:n.map((function(e){var t=e.id,n=e.post;return(0,jr.jsx)(Ok,{postId:t,user:_,username:n.username,caption:n.caption,imageUrl:n.imageUrl},t)}))}),(0,jr.jsx)("div",{className:"app__postsRight",children:(0,jr.jsx)(vA,{url:"https://www.instagram.com/p/Cg-A5jgMS4Z/?igshid=YmMyMTA2M2Y=",clientAccessToken:"123|456",maxWidth:320,hideCaption:!1,containerTagName:"div",protocol:"",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}})})]}),null!==_&&void 0!==_&&_.displayName?(0,jr.jsx)(cA,{username:_.displayName}):(0,jr.jsx)("h3",{children:"Sorry you need to login to upload"})]})},yA=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};r.createRoot(document.getElementById("root")).render((0,jr.jsx)(e.StrictMode,{children:(0,jr.jsx)(gA,{})})),yA()}()}();
//# sourceMappingURL=main.c6efb141.js.map